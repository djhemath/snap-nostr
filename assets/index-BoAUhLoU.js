var pn=Object.defineProperty;var gn=(e,s,a)=>s in e?pn(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a;var At=(e,s,a)=>gn(e,typeof s!="symbol"?s+"":s,a);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const b of h)if(b.type==="childList")for(const tt of b.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&c(tt)}).observe(document,{childList:!0,subtree:!0});function a(h){const b={};return h.integrity&&(b.integrity=h.integrity),h.referrerPolicy&&(b.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?b.credentials="include":h.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function c(h){if(h.ep)return;h.ep=!0;const b=a(h);fetch(h.href,b)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(e){return e===null||typeof e!="object"?null:(e=z$2&&e[z$2]||e["@@iterator"],typeof e=="function"?e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$1(e,s,a){this.props=e,this.context=s,this.refs=D$2,this.updater=a||B$2}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$2(e,s,a){this.props=e,this.context=s,this.refs=D$2,this.updater=a||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$1.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(e,s,a){var c,h={},b=null,tt=null;if(s!=null)for(c in s.ref!==void 0&&(tt=s.ref),s.key!==void 0&&(b=""+s.key),s)J$1.call(s,c)&&!L$2.hasOwnProperty(c)&&(h[c]=s[c]);var nt=arguments.length-2;if(nt===1)h.children=a;else if(1<nt){for(var ot=Array(nt),st=0;st<nt;st++)ot[st]=arguments[st+2];h.children=ot}if(e&&e.defaultProps)for(c in nt=e.defaultProps,nt)h[c]===void 0&&(h[c]=nt[c]);return{$$typeof:l$1,type:e,key:b,ref:tt,props:h,_owner:K$2.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$2(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return s[a]})}var P$1=/\/+/g;function Q$2(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):s.toString(36)}function R$2(e,s,a,c,h){var b=typeof e;(b==="undefined"||b==="boolean")&&(e=null);var tt=!1;if(e===null)tt=!0;else switch(b){case"string":case"number":tt=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:tt=!0}}if(tt)return tt=e,h=h(tt),e=c===""?"."+Q$2(tt,0):c,I$2(h)?(a="",e!=null&&(a=e.replace(P$1,"$&/")+"/"),R$2(h,s,a,"",function(st){return st})):h!=null&&(O$2(h)&&(h=N$1(h,a+(!h.key||tt&&tt.key===h.key?"":(""+h.key).replace(P$1,"$&/")+"/")+e)),s.push(h)),1;if(tt=0,c=c===""?".":c+":",I$2(e))for(var nt=0;nt<e.length;nt++){b=e[nt];var ot=c+Q$2(b,nt);tt+=R$2(b,s,a,ot,h)}else if(ot=A$2(e),typeof ot=="function")for(e=ot.call(e),nt=0;!(b=e.next()).done;)b=b.value,ot=c+Q$2(b,nt++),tt+=R$2(b,s,a,ot,h);else if(b==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$2(e,s,a){if(e==null)return e;var c=[],h=0;return R$2(e,c,"","",function(b){return s.call(a,b,h++)}),c}function T$2(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(e,s,a){S$2(e,function(){s.apply(this,arguments)},a)},count:function(e){var s=0;return S$2(e,function(){s++}),s},toArray:function(e){return S$2(e,function(s){return s})||[]},only:function(e){if(!O$2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=C$2({},e.props),h=e.key,b=e.ref,tt=e._owner;if(s!=null){if(s.ref!==void 0&&(b=s.ref,tt=K$2.current),s.key!==void 0&&(h=""+s.key),e.type&&e.type.defaultProps)var nt=e.type.defaultProps;for(ot in s)J$1.call(s,ot)&&!L$2.hasOwnProperty(ot)&&(c[ot]=s[ot]===void 0&&nt!==void 0?nt[ot]:s[ot])}var ot=arguments.length-2;if(ot===1)c.children=a;else if(1<ot){nt=Array(ot);for(var st=0;st<ot;st++)nt[st]=arguments[st+2];c.children=nt}return{$$typeof:l$1,type:e.type,key:h,ref:b,props:c,_owner:tt}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$2;react_production_min.createFactory=function(e){var s=M$2.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$2,render:e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(e){return{$$typeof:y$1,_payload:{_status:-1,_result:e},_init:T$2}};react_production_min.memo=function(e,s){return{$$typeof:x$1,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$2.transition;V$2.transition={};try{e()}finally{V$2.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$2.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$2.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$2.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$2.current.useEffect(e,s)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(e,s,a){return U$2.current.useImperativeHandle(e,s,a)};react_production_min.useInsertionEffect=function(e,s){return U$2.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$2.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$2.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,a){return U$2.current.useReducer(e,s,a)};react_production_min.useRef=function(e){return U$2.current.useRef(e)};react_production_min.useState=function(e){return U$2.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,a){return U$2.current.useSyncExternalStore(e,s,a)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const o=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(e,s,a){var c,h={},b=null,tt=null;a!==void 0&&(b=""+a),s.key!==void 0&&(b=""+s.key),s.ref!==void 0&&(tt=s.ref);for(c in s)m$2.call(s,c)&&!p$1.hasOwnProperty(c)&&(h[c]=s[c]);if(e&&e.defaultProps)for(c in s=e.defaultProps,s)h[c]===void 0&&(h[c]=s[c]);return{$$typeof:k$1,type:e,key:b,ref:tt,props:h,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(Tt,jt){var Ft=Tt.length;Tt.push(jt);e:for(;0<Ft;){var Ut=Ft-1>>>1,Ht=Tt[Ut];if(0<h(Ht,jt))Tt[Ut]=jt,Tt[Ft]=Ht,Ft=Ut;else break e}}function a(Tt){return Tt.length===0?null:Tt[0]}function c(Tt){if(Tt.length===0)return null;var jt=Tt[0],Ft=Tt.pop();if(Ft!==jt){Tt[0]=Ft;e:for(var Ut=0,Ht=Tt.length,Dt=Ht>>>1;Ut<Dt;){var Vt=2*(Ut+1)-1,Gt=Tt[Vt],Wt=Vt+1,qt=Tt[Wt];if(0>h(Gt,Ft))Wt<Ht&&0>h(qt,Gt)?(Tt[Ut]=qt,Tt[Wt]=Ft,Ut=Wt):(Tt[Ut]=Gt,Tt[Vt]=Ft,Ut=Vt);else if(Wt<Ht&&0>h(qt,Ft))Tt[Ut]=qt,Tt[Wt]=Ft,Ut=Wt;else break e}}return jt}function h(Tt,jt){var Ft=Tt.sortIndex-jt.sortIndex;return Ft!==0?Ft:Tt.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var b=performance;e.unstable_now=function(){return b.now()}}else{var tt=Date,nt=tt.now();e.unstable_now=function(){return tt.now()-nt}}var ot=[],st=[],ft=1,ht=null,gt=3,yt=!1,Et=!1,wt=!1,bt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xt(Tt){for(var jt=a(st);jt!==null;){if(jt.callback===null)c(st);else if(jt.startTime<=Tt)c(st),jt.sortIndex=jt.expirationTime,s(ot,jt);else break;jt=a(st)}}function kt(Tt){if(wt=!1,xt(Tt),!Et)if(a(ot)!==null)Et=!0,_t(Lt);else{var jt=a(st);jt!==null&&Bt(kt,jt.startTime-Tt)}}function Lt(Tt,jt){Et=!1,wt&&(wt=!1,mt(Pt),Pt=-1),yt=!0;var Ft=gt;try{for(xt(jt),ht=a(ot);ht!==null&&(!(ht.expirationTime>jt)||Tt&&!Rt());){var Ut=ht.callback;if(typeof Ut=="function"){ht.callback=null,gt=ht.priorityLevel;var Ht=Ut(ht.expirationTime<=jt);jt=e.unstable_now(),typeof Ht=="function"?ht.callback=Ht:ht===a(ot)&&c(ot),xt(jt)}else c(ot);ht=a(ot)}if(ht!==null)var Dt=!0;else{var Vt=a(st);Vt!==null&&Bt(kt,Vt.startTime-jt),Dt=!1}return Dt}finally{ht=null,gt=Ft,yt=!1}}var Ct=!1,St=null,Pt=-1,Ot=5,zt=-1;function Rt(){return!(e.unstable_now()-zt<Ot)}function Nt(){if(St!==null){var Tt=e.unstable_now();zt=Tt;var jt=!0;try{jt=St(!0,Tt)}finally{jt?Mt():(Ct=!1,St=null)}}else Ct=!1}var Mt;if(typeof vt=="function")Mt=function(){vt(Nt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,$t=It.port2;It.port1.onmessage=Nt,Mt=function(){$t.postMessage(null)}}else Mt=function(){bt(Nt,0)};function _t(Tt){St=Tt,Ct||(Ct=!0,Mt())}function Bt(Tt,jt){Pt=bt(function(){Tt(e.unstable_now())},jt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Tt){Tt.callback=null},e.unstable_continueExecution=function(){Et||yt||(Et=!0,_t(Lt))},e.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<Tt?Math.floor(1e3/Tt):5},e.unstable_getCurrentPriorityLevel=function(){return gt},e.unstable_getFirstCallbackNode=function(){return a(ot)},e.unstable_next=function(Tt){switch(gt){case 1:case 2:case 3:var jt=3;break;default:jt=gt}var Ft=gt;gt=jt;try{return Tt()}finally{gt=Ft}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Tt,jt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Ft=gt;gt=Tt;try{return jt()}finally{gt=Ft}},e.unstable_scheduleCallback=function(Tt,jt,Ft){var Ut=e.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?Ut+Ft:Ut):Ft=Ut,Tt){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=Ft+Ht,Tt={id:ft++,callback:jt,priorityLevel:Tt,startTime:Ft,expirationTime:Ht,sortIndex:-1},Ft>Ut?(Tt.sortIndex=Ft,s(st,Tt),a(ot)===null&&Tt===a(st)&&(wt?(mt(Pt),Pt=-1):wt=!0,Bt(kt,Ft-Ut))):(Tt.sortIndex=Ht,s(ot,Tt),Et||yt||(Et=!0,_t(Lt))),Tt},e.unstable_shouldYield=Rt,e.unstable_wrapCallback=function(Tt){var jt=gt;return function(){var Ft=gt;gt=jt;try{return Tt.apply(this,arguments)}finally{gt=Ft}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,a,c){if(s===null||typeof s>"u"||pa(e,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(e,s,a,c,h,b,tt){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=e,this.type=s,this.sanitizeURL=b,this.removeEmptyString=tt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z$1[e]=new v$1(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z$1[s]=new v$1(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z$1[e]=new v$1(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z$1[e]=new v$1(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z$1[e]=new v$1(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z$1[e]=new v$1(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z$1[e]=new v$1(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z$1[e]=new v$1(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z$1[e]=new v$1(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z$1[s]=new v$1(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z$1[s]=new v$1(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z$1[s]=new v$1(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z$1[e]=new v$1(e,1,!1,e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z$1[e]=new v$1(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,a,c){var h=z$1.hasOwnProperty(s)?z$1[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,a,h,c)&&(a=null),c||h===null?oa(s)&&(a===null?e.removeAttribute(s):e.setAttribute(s,""+a)):h.mustUseProperty?e[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?e.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?e.setAttributeNS(c,s,a):e.setAttribute(s,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A$1=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(st){var c=st}Reflect.construct(e,[],s)}else{try{s.call()}catch(st){c=st}e.call(s.prototype)}else{try{throw Error()}catch(st){c=st}e()}}catch(st){if(st&&c&&typeof st.stack=="string"){for(var h=st.stack.split(`
`),b=c.stack.split(`
`),tt=h.length-1,nt=b.length-1;1<=tt&&0<=nt&&h[tt]!==b[nt];)nt--;for(;1<=tt&&0<=nt;tt--,nt--)if(h[tt]!==b[nt]){if(tt!==1||nt!==1)do if(tt--,nt--,0>nt||h[tt]!==b[nt]){var ot=`
`+h[tt].replace(" at new "," at ");return e.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",e.displayName)),ot}while(1<=tt&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),c=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,b=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(tt){c=""+tt,b.call(this,tt)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(tt){c=""+tt},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return e&&(c=Ta(e)?e.checked?"true":"false":e.value),e=c,e!==a?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var a=s.checked;return A$1({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Za(e,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Sa(s.value!=null?s.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var a=Sa(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,a):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,a||s===e.value||(e.value=s),e.defaultValue=s}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cb(e,s,a){(s!=="number"||Xa(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var eb=Array.isArray;function fb(e,s,a,c){if(e=e.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=s.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Sa(a),s=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A$1({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(p(92));if(eb(a)){if(1<a.length)throw Error(p(93));a=a[0]}s=a}s==null&&(s=""),a=s}e._wrapperState={initialValue:Sa(a)}}function ib(e,s){var a=Sa(s.value),c=Sa(s.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),s.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return e(s,a,c,h)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=rb(a,s[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,h):e[a]=h}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,a){if(Ib)return e(s,a);Ib=!0;try{return Gb(e,s,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var a=e.stateNode;if(a===null)return null;var c=Db(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p(231,s,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,a,c,h,b,tt,nt,ot){var st=Array.prototype.slice.call(arguments,3);try{s.apply(a,st)}catch(ft){this.onError(ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,a,c,h,b,tt,nt,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,a,c,h,b,tt,nt,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var st=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=st)}}function Vb(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var a=e,c=s;;){var h=a.return;if(h===null)break;var b=h.alternate;if(b===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===b.child){for(b=h.child;b;){if(b===a)return Xb(h),e;if(b===c)return Xb(h),s;b=b.sibling}throw Error(p(188))}if(a.return!==c.return)a=h,c=b;else{for(var tt=!1,nt=h.child;nt;){if(nt===a){tt=!0,a=h,c=b;break}if(nt===c){tt=!0,c=h,a=b;break}nt=nt.sibling}if(!tt){for(nt=b.child;nt;){if(nt===a){tt=!0,a=b,c=h;break}if(nt===c){tt=!0,c=b,a=h;break}nt=nt.sibling}if(!tt)throw Error(p(189))}}if(a.alternate!==c)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var a=e.pendingLanes;if(a===0)return 0;var c=0,h=e.suspendedLanes,b=e.pingedLanes,tt=a&268435455;if(tt!==0){var nt=tt&~h;nt!==0?c=tc(nt):(b&=tt,b!==0&&(c=tc(b)))}else tt=a&~h,tt!==0?c=tc(tt):b!==0&&(c=tc(b));if(c===0)return 0;if(s!==0&&s!==c&&!(s&h)&&(h=c&-c,b=s&-s,h>=b||h===16&&(b&4194240)!==0))return s;if(c&4&&(c|=a&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=c;0<s;)a=31-oc(s),h=1<<a,c|=e[a],s&=~h;return c}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var a=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,b=e.pendingLanes;0<b;){var tt=31-oc(b),nt=1<<tt,ot=h[tt];ot===-1?(!(nt&a)||nt&c)&&(h[tt]=vc(nt,s)):ot<=s&&(e.expiredLanes|=nt),b&=~nt}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ac(e,s,a){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=a}function Bc(e,s){var a=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var h=31-oc(a),b=1<<h;s[h]=0,c[h]=-1,e[h]=-1,a&=~b}}function Cc(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var c=31-oc(a),h=1<<c;h&s|e[c]&s&&(e[c]|=s),a&=~h}}var C$1=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,a,c,h,b){return e===null||e.nativeEvent!==b?(e={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:b,targetContainers:[h]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=c,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function Uc(e,s,a,c,h){switch(s){case"focusin":return Lc=Tc(Lc,e,s,a,c,h),!0;case"dragenter":return Mc=Tc(Mc,e,s,a,c,h),!0;case"mouseover":return Nc=Tc(Nc,e,s,a,c,h),!0;case"pointerover":var b=h.pointerId;return Oc.set(b,Tc(Oc.get(b)||null,e,s,a,c,h)),!0;case"gotpointercapture":return b=h.pointerId,Pc.set(b,Tc(Pc.get(b)||null,e,s,a,c,h)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var a=Vb(s);if(a!==null){if(s=a.tag,s===13){if(s=Wb(a),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);wb=c,a.target.dispatchEvent(c),wb=null}else return s=Cb(a),s!==null&&Fc(s),e.blockedOn=a,!1;s.shift()}return!0}function Zc(e,s,a){Xc(e)&&a.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(h){return ad(h,e)}if(0<Kc.length){ad(Kc[0],e);for(var a=1;a<Kc.length;a++){var c=Kc[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),a=0;a<Qc.length;a++)c=Qc[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,a,c){var h=C$1,b=cd.transition;cd.transition=null;try{C$1=1,fd(e,s,a,c)}finally{C$1=h,cd.transition=b}}function gd(e,s,a,c){var h=C$1,b=cd.transition;cd.transition=null;try{C$1=4,fd(e,s,a,c)}finally{C$1=h,cd.transition=b}}function fd(e,s,a,c){if(dd){var h=Yc(e,s,a,c);if(h===null)hd(e,s,c,id,a),Sc(e,c);else if(Uc(h,e,s,a,c))c.stopPropagation();else if(Sc(e,c),s&4&&-1<Rc.indexOf(e)){for(;h!==null;){var b=Cb(h);if(b!==null&&Ec(b),b=Yc(e,s,a,c),b===null&&hd(e,s,c,id,a),b===h)break;h=b}h!==null&&c.stopPropagation()}else hd(e,s,c,null,a)}}var id=null;function Yc(e,s,a,c){if(id=null,e=xb(c),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(a=s.tag,a===13){if(e=Wb(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,a=s.length,c,h="value"in kd?kd.value:kd.textContent,b=h.length;for(e=0;e<a&&s[e]===h[e];e++);var tt=a-e;for(c=1;c<=tt&&s[a-c]===h[b-c];c++);return md=h.slice(e,1<c?1-c:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(a,c,h,b,tt){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=b,this.target=tt,this.currentTarget=null;for(var nt in e)e.hasOwnProperty(nt)&&(a=e[nt],this[nt]=a?a(b):b[nt]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$2=!1;function ge$2(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie$1=!1;function je$1(e,s){switch(e){case"compositionend":return he$1(s);case"keypress":return s.which!==32?null:(fe$2=!0,ee$2);case"textInput":return e=s.data,e===ee$2&&fe$2?null:e;default:return null}}function ke$1(e,s){if(ie$1)return e==="compositionend"||!ae$1&&ge$2(e,s)?(e=nd(),md=ld=kd=null,ie$1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le$1[e.type]:s==="textarea"}function ne$1(e,s,a,c){Eb(c),s=oe$1(s,"onChange"),0<s.length&&(a=new td("onChange","change",null,a,c),e.push({event:a,listeners:s}))}var pe=null,qe$1=null;function re$1(e){se$1(e,0)}function te$1(e){var s=ue$1(e);if(Wa(s))return e}function ve$1(e,s){if(e==="change")return s}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be),qe$1=pe=null)}function Be(e){if(e.propertyName==="value"&&te$1(qe$1)){var s=[];ne$1(s,qe$1,e,xb(e)),Jb(re$1,s)}}function Ce$1(e,s,a){e==="focusin"?(Ae$1(),pe=s,qe$1=a,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae$1()}function De$1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$1(qe$1)}function Ee$1(e,s){if(e==="click")return te$1(s)}function Fe$1(e,s){if(e==="input"||e==="change")return te$1(s)}function Ge$1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(e,s){if(He$1(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!ja.call(s,h)||!He$1(e[h],s[h]))return!1}return!0}function Je$1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke$1(e,s){var a=Je$1(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=s&&c>=s)return{node:a,offset:s-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je$1(a)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me$1(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne$1(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe$1(e){var s=Me$1(),a=e.focusedElem,c=e.selectionRange;if(s!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(c!==null&&Ne$1(a)){if(s=c.start,e=c.end,e===void 0&&(e=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(e,a.value.length);else if(e=(s=a.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var h=a.textContent.length,b=Math.min(c.start,h);c=c.end===void 0?b:Math.min(c.end,h),!e.extend&&b>c&&(h=c,c=b,b=h),h=Ke$1(a,b);var tt=Ke$1(a,c);h&&tt&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==tt.node||e.focusOffset!==tt.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),e.removeAllRanges(),b>c?(e.addRange(s),e.extend(tt.node,tt.offset)):(s.setEnd(tt.node,tt.offset),e.addRange(s)))}}for(s=[],e=a;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)e=s[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(e,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(c)||(c=Qe$1,"selectionStart"in c&&Ne$1(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se$1&&Ie$1(Se$1,c)||(Se$1=c,c=oe$1(Re$1,"onSelect"),0<c.length&&(s=new td("onSelect","select",null,s,a),e.push({event:s,listeners:c}),s.target=Qe$1)))}function Ve$1(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(e){if(Xe$1[e])return Xe$1[e];if(!We$1[e])return e;var s=We$1[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ye)return Xe$1[e]=s[a];return e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,a){var c=e.type||"unknown-event";e.currentTarget=a,Ub(c,s,void 0,e),e.currentTarget=null}function se$1(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],h=c.event;c=c.listeners;e:{var b=void 0;if(s)for(var tt=c.length-1;0<=tt;tt--){var nt=c[tt],ot=nt.instance,st=nt.currentTarget;if(nt=nt.listener,ot!==b&&h.isPropagationStopped())break e;nf(h,nt,st),b=ot}else for(tt=0;tt<c.length;tt++){if(nt=c[tt],ot=nt.instance,st=nt.currentTarget,nt=nt.listener,ot!==b&&h.isPropagationStopped())break e;nf(h,nt,st),b=ot}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D$1(e,s){var a=s[of];a===void 0&&(a=s[of]=new Set);var c=e+"__bubble";a.has(c)||(pf(s,e,2,!1),a.add(c))}function qf(e,s,a){var c=0;s&&(c|=4),pf(a,e,c,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,e),qf(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,a,c){switch(jd(s)){case 1:var h=ed;break;case 4:h=gd;break;default:h=fd}a=h.bind(null,s,a,e),h=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(s,a,{capture:!0,passive:h}):e.addEventListener(s,a,!0):h!==void 0?e.addEventListener(s,a,{passive:h}):e.addEventListener(s,a,!1)}function hd(e,s,a,c,h){var b=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var tt=c.tag;if(tt===3||tt===4){var nt=c.stateNode.containerInfo;if(nt===h||nt.nodeType===8&&nt.parentNode===h)break;if(tt===4)for(tt=c.return;tt!==null;){var ot=tt.tag;if((ot===3||ot===4)&&(ot=tt.stateNode.containerInfo,ot===h||ot.nodeType===8&&ot.parentNode===h))return;tt=tt.return}for(;nt!==null;){if(tt=Wc(nt),tt===null)return;if(ot=tt.tag,ot===5||ot===6){c=b=tt;continue e}nt=nt.parentNode}}c=c.return}Jb(function(){var st=b,ft=xb(a),ht=[];e:{var gt=df.get(e);if(gt!==void 0){var yt=td,Et=e;switch(e){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":yt=Rd;break;case"focusin":Et="focus",yt=Fd;break;case"focusout":Et="blur",yt=Fd;break;case"beforeblur":case"afterblur":yt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Vd;break;case $e$1:case af:case bf:yt=Hd;break;case cf:yt=Xd;break;case"scroll":yt=vd;break;case"wheel":yt=Zd;break;case"copy":case"cut":case"paste":yt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Td}var wt=(s&4)!==0,bt=!wt&&e==="scroll",mt=wt?gt!==null?gt+"Capture":null:gt;wt=[];for(var vt=st,xt;vt!==null;){xt=vt;var kt=xt.stateNode;if(xt.tag===5&&kt!==null&&(xt=kt,mt!==null&&(kt=Kb(vt,mt),kt!=null&&wt.push(tf(vt,kt,xt)))),bt)break;vt=vt.return}0<wt.length&&(gt=new yt(gt,Et,null,a,ft),ht.push({event:gt,listeners:wt}))}}if(!(s&7)){e:{if(gt=e==="mouseover"||e==="pointerover",yt=e==="mouseout"||e==="pointerout",gt&&a!==wb&&(Et=a.relatedTarget||a.fromElement)&&(Wc(Et)||Et[uf]))break e;if((yt||gt)&&(gt=ft.window===ft?ft:(gt=ft.ownerDocument)?gt.defaultView||gt.parentWindow:window,yt?(Et=a.relatedTarget||a.toElement,yt=st,Et=Et?Wc(Et):null,Et!==null&&(bt=Vb(Et),Et!==bt||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(yt=null,Et=st),yt!==Et)){if(wt=Bd,kt="onMouseLeave",mt="onMouseEnter",vt="mouse",(e==="pointerout"||e==="pointerover")&&(wt=Td,kt="onPointerLeave",mt="onPointerEnter",vt="pointer"),bt=yt==null?gt:ue$1(yt),xt=Et==null?gt:ue$1(Et),gt=new wt(kt,vt+"leave",yt,a,ft),gt.target=bt,gt.relatedTarget=xt,kt=null,Wc(ft)===st&&(wt=new wt(mt,vt+"enter",Et,a,ft),wt.target=xt,wt.relatedTarget=bt,kt=wt),bt=kt,yt&&Et)t:{for(wt=yt,mt=Et,vt=0,xt=wt;xt;xt=vf(xt))vt++;for(xt=0,kt=mt;kt;kt=vf(kt))xt++;for(;0<vt-xt;)wt=vf(wt),vt--;for(;0<xt-vt;)mt=vf(mt),xt--;for(;vt--;){if(wt===mt||mt!==null&&wt===mt.alternate)break t;wt=vf(wt),mt=vf(mt)}wt=null}else wt=null;yt!==null&&wf(ht,gt,yt,wt,!1),Et!==null&&bt!==null&&wf(ht,bt,Et,wt,!0)}}e:{if(gt=st?ue$1(st):window,yt=gt.nodeName&&gt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&gt.type==="file")var Lt=ve$1;else if(me(gt))if(we$1)Lt=Fe$1;else{Lt=De$1;var Ct=Ce$1}else(yt=gt.nodeName)&&yt.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(Lt=Ee$1);if(Lt&&(Lt=Lt(e,st))){ne$1(ht,Lt,a,ft);break e}Ct&&Ct(e,gt,st),e==="focusout"&&(Ct=gt._wrapperState)&&Ct.controlled&&gt.type==="number"&&cb(gt,"number",gt.value)}switch(Ct=st?ue$1(st):window,e){case"focusin":(me(Ct)||Ct.contentEditable==="true")&&(Qe$1=Ct,Re$1=st,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(ht,a,ft);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(ht,a,ft)}var St;if(ae$1)e:{switch(e){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else ie$1?ge$2(e,a)&&(Pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(de&&a.locale!=="ko"&&(ie$1||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ie$1&&(St=nd()):(kd=ft,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Ct=oe$1(st,Pt),0<Ct.length&&(Pt=new Ld(Pt,e,null,a,ft),ht.push({event:Pt,listeners:Ct}),St?Pt.data=St:(St=he$1(a),St!==null&&(Pt.data=St)))),(St=ce$1?je$1(e,a):ke$1(e,a))&&(st=oe$1(st,"onBeforeInput"),0<st.length&&(ft=new Ld("onBeforeInput","beforeinput",null,a,ft),ht.push({event:ft,listeners:st}),ft.data=St))}se$1(ht,s)})}function tf(e,s,a){return{instance:e,listener:s,currentTarget:a}}function oe$1(e,s){for(var a=s+"Capture",c=[];e!==null;){var h=e,b=h.stateNode;h.tag===5&&b!==null&&(h=b,b=Kb(e,a),b!=null&&c.unshift(tf(e,b,h)),b=Kb(e,s),b!=null&&c.push(tf(e,b,h))),e=e.return}return c}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,a,c,h){for(var b=s._reactName,tt=[];a!==null&&a!==c;){var nt=a,ot=nt.alternate,st=nt.stateNode;if(ot!==null&&ot===c)break;nt.tag===5&&st!==null&&(nt=st,h?(ot=Kb(a,b),ot!=null&&tt.unshift(tf(a,ot,nt))):h||(ot=Kb(a,b),ot!=null&&tt.push(tf(a,ot,nt)))),a=a.return}tt.length!==0&&e.push({event:s,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,a){if(s=zf(s),zf(e)!==s&&a)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var a=s,c=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){e.removeChild(h),bd(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var a=e.parentNode;a;){if(s=a[uf]||a[Of]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Mf(e);e!==null;){if(a=e[Of])return a;e=Mf(e)}return s}e=a,a=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue$1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var a=e.type.contextTypes;if(!a)return Vf;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},b;for(b in a)h[b]=s[b];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=h),h}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H$1)}function ag(e,s,a){if(H$1.current!==Vf)throw Error(p(168));G$1(H$1,s),G$1(Wf,a)}function bg(e,s,a){var c=e.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(p(108,Ra(e)||"Unknown",h));return A$1({},a,c)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,e),G$1(Wf,Wf.current),!0}function dg(e,s,a){var c=e.stateNode;if(!c)throw Error(p(169));a?(e=bg(e,s,Xf),c.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H$1),G$1(H$1,e)):E(Wf),G$1(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C$1;try{var a=eg;for(C$1=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(h){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),h}finally{C$1=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var c=rg;e=sg;var h=32-oc(c)-1;c&=~(1<<h),a+=1;var b=32-oc(s)+h;if(30<b){var tt=h-h%5;b=(c&(1<<tt)-1).toString(32),c>>=tt,h-=tt,rg=1<<32-oc(s)+h|a<<h|c,sg=b+e}else rg=1<<b|a<<h|c,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(e,s){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=e,s=e.deletions,s===null?(e.deletions=[a],e.flags|=16):s.push(a)}function Cg(e,s){switch(e.tag){case 5:var a=e.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=s,a.return=e,e.child=a,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I$1){var s=yg;if(s){var a=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(a.nextSibling);var c=xg;s&&Cg(e,s)?Ag(c,a):(e.flags=e.flags&-4097|2,I$1=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I$1=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I$1)return Fg(e),I$1=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p(309));var c=a.stateNode}if(!c)throw Error(p(147,e));var h=c,b=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===b?s.ref:(s=function(tt){var nt=h.refs;tt===null?delete nt[b]:nt[b]=tt},s._stringRef=b,s)}if(typeof e!="string")throw Error(p(284));if(!a._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(mt,vt){if(e){var xt=mt.deletions;xt===null?(mt.deletions=[vt],mt.flags|=16):xt.push(vt)}}function a(mt,vt){if(!e)return null;for(;vt!==null;)s(mt,vt),vt=vt.sibling;return null}function c(mt,vt){for(mt=new Map;vt!==null;)vt.key!==null?mt.set(vt.key,vt):mt.set(vt.index,vt),vt=vt.sibling;return mt}function h(mt,vt){return mt=Pg(mt,vt),mt.index=0,mt.sibling=null,mt}function b(mt,vt,xt){return mt.index=xt,e?(xt=mt.alternate,xt!==null?(xt=xt.index,xt<vt?(mt.flags|=2,vt):xt):(mt.flags|=2,vt)):(mt.flags|=1048576,vt)}function tt(mt){return e&&mt.alternate===null&&(mt.flags|=2),mt}function nt(mt,vt,xt,kt){return vt===null||vt.tag!==6?(vt=Qg(xt,mt.mode,kt),vt.return=mt,vt):(vt=h(vt,xt),vt.return=mt,vt)}function ot(mt,vt,xt,kt){var Lt=xt.type;return Lt===ya?ft(mt,vt,xt.props.children,kt,xt.key):vt!==null&&(vt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Ha&&Ng(Lt)===vt.type)?(kt=h(vt,xt.props),kt.ref=Lg(mt,vt,xt),kt.return=mt,kt):(kt=Rg(xt.type,xt.key,xt.props,null,mt.mode,kt),kt.ref=Lg(mt,vt,xt),kt.return=mt,kt)}function st(mt,vt,xt,kt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==xt.containerInfo||vt.stateNode.implementation!==xt.implementation?(vt=Sg(xt,mt.mode,kt),vt.return=mt,vt):(vt=h(vt,xt.children||[]),vt.return=mt,vt)}function ft(mt,vt,xt,kt,Lt){return vt===null||vt.tag!==7?(vt=Tg(xt,mt.mode,kt,Lt),vt.return=mt,vt):(vt=h(vt,xt),vt.return=mt,vt)}function ht(mt,vt,xt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=Qg(""+vt,mt.mode,xt),vt.return=mt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return xt=Rg(vt.type,vt.key,vt.props,null,mt.mode,xt),xt.ref=Lg(mt,null,vt),xt.return=mt,xt;case wa:return vt=Sg(vt,mt.mode,xt),vt.return=mt,vt;case Ha:var kt=vt._init;return ht(mt,kt(vt._payload),xt)}if(eb(vt)||Ka(vt))return vt=Tg(vt,mt.mode,xt,null),vt.return=mt,vt;Mg(mt,vt)}return null}function gt(mt,vt,xt,kt){var Lt=vt!==null?vt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Lt!==null?null:nt(mt,vt,""+xt,kt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return xt.key===Lt?ot(mt,vt,xt,kt):null;case wa:return xt.key===Lt?st(mt,vt,xt,kt):null;case Ha:return Lt=xt._init,gt(mt,vt,Lt(xt._payload),kt)}if(eb(xt)||Ka(xt))return Lt!==null?null:ft(mt,vt,xt,kt,null);Mg(mt,xt)}return null}function yt(mt,vt,xt,kt,Lt){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return mt=mt.get(xt)||null,nt(vt,mt,""+kt,Lt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return mt=mt.get(kt.key===null?xt:kt.key)||null,ot(vt,mt,kt,Lt);case wa:return mt=mt.get(kt.key===null?xt:kt.key)||null,st(vt,mt,kt,Lt);case Ha:var Ct=kt._init;return yt(mt,vt,xt,Ct(kt._payload),Lt)}if(eb(kt)||Ka(kt))return mt=mt.get(xt)||null,ft(vt,mt,kt,Lt,null);Mg(vt,kt)}return null}function Et(mt,vt,xt,kt){for(var Lt=null,Ct=null,St=vt,Pt=vt=0,Ot=null;St!==null&&Pt<xt.length;Pt++){St.index>Pt?(Ot=St,St=null):Ot=St.sibling;var zt=gt(mt,St,xt[Pt],kt);if(zt===null){St===null&&(St=Ot);break}e&&St&&zt.alternate===null&&s(mt,St),vt=b(zt,vt,Pt),Ct===null?Lt=zt:Ct.sibling=zt,Ct=zt,St=Ot}if(Pt===xt.length)return a(mt,St),I$1&&tg(mt,Pt),Lt;if(St===null){for(;Pt<xt.length;Pt++)St=ht(mt,xt[Pt],kt),St!==null&&(vt=b(St,vt,Pt),Ct===null?Lt=St:Ct.sibling=St,Ct=St);return I$1&&tg(mt,Pt),Lt}for(St=c(mt,St);Pt<xt.length;Pt++)Ot=yt(St,mt,Pt,xt[Pt],kt),Ot!==null&&(e&&Ot.alternate!==null&&St.delete(Ot.key===null?Pt:Ot.key),vt=b(Ot,vt,Pt),Ct===null?Lt=Ot:Ct.sibling=Ot,Ct=Ot);return e&&St.forEach(function(Rt){return s(mt,Rt)}),I$1&&tg(mt,Pt),Lt}function wt(mt,vt,xt,kt){var Lt=Ka(xt);if(typeof Lt!="function")throw Error(p(150));if(xt=Lt.call(xt),xt==null)throw Error(p(151));for(var Ct=Lt=null,St=vt,Pt=vt=0,Ot=null,zt=xt.next();St!==null&&!zt.done;Pt++,zt=xt.next()){St.index>Pt?(Ot=St,St=null):Ot=St.sibling;var Rt=gt(mt,St,zt.value,kt);if(Rt===null){St===null&&(St=Ot);break}e&&St&&Rt.alternate===null&&s(mt,St),vt=b(Rt,vt,Pt),Ct===null?Lt=Rt:Ct.sibling=Rt,Ct=Rt,St=Ot}if(zt.done)return a(mt,St),I$1&&tg(mt,Pt),Lt;if(St===null){for(;!zt.done;Pt++,zt=xt.next())zt=ht(mt,zt.value,kt),zt!==null&&(vt=b(zt,vt,Pt),Ct===null?Lt=zt:Ct.sibling=zt,Ct=zt);return I$1&&tg(mt,Pt),Lt}for(St=c(mt,St);!zt.done;Pt++,zt=xt.next())zt=yt(St,mt,Pt,zt.value,kt),zt!==null&&(e&&zt.alternate!==null&&St.delete(zt.key===null?Pt:zt.key),vt=b(zt,vt,Pt),Ct===null?Lt=zt:Ct.sibling=zt,Ct=zt);return e&&St.forEach(function(Nt){return s(mt,Nt)}),I$1&&tg(mt,Pt),Lt}function bt(mt,vt,xt,kt){if(typeof xt=="object"&&xt!==null&&xt.type===ya&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:e:{for(var Lt=xt.key,Ct=vt;Ct!==null;){if(Ct.key===Lt){if(Lt=xt.type,Lt===ya){if(Ct.tag===7){a(mt,Ct.sibling),vt=h(Ct,xt.props.children),vt.return=mt,mt=vt;break e}}else if(Ct.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Ha&&Ng(Lt)===Ct.type){a(mt,Ct.sibling),vt=h(Ct,xt.props),vt.ref=Lg(mt,Ct,xt),vt.return=mt,mt=vt;break e}a(mt,Ct);break}else s(mt,Ct);Ct=Ct.sibling}xt.type===ya?(vt=Tg(xt.props.children,mt.mode,kt,xt.key),vt.return=mt,mt=vt):(kt=Rg(xt.type,xt.key,xt.props,null,mt.mode,kt),kt.ref=Lg(mt,vt,xt),kt.return=mt,mt=kt)}return tt(mt);case wa:e:{for(Ct=xt.key;vt!==null;){if(vt.key===Ct)if(vt.tag===4&&vt.stateNode.containerInfo===xt.containerInfo&&vt.stateNode.implementation===xt.implementation){a(mt,vt.sibling),vt=h(vt,xt.children||[]),vt.return=mt,mt=vt;break e}else{a(mt,vt);break}else s(mt,vt);vt=vt.sibling}vt=Sg(xt,mt.mode,kt),vt.return=mt,mt=vt}return tt(mt);case Ha:return Ct=xt._init,bt(mt,vt,Ct(xt._payload),kt)}if(eb(xt))return Et(mt,vt,xt,kt);if(Ka(xt))return wt(mt,vt,xt,kt);Mg(mt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,vt!==null&&vt.tag===6?(a(mt,vt.sibling),vt=h(vt,xt),vt.return=mt,mt=vt):(a(mt,vt),vt=Qg(xt,mt.mode,kt),vt.return=mt,mt=vt),tt(mt)):a(mt,vt)}return bt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),e===a)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,a,c){var h=s.interleaved;return h===null?(a.next=a,gh(s)):(a.next=h.next,h.next=a),s.interleaved=a,ih(e,c)}function ih(e,s){e.lanes|=s;var a=e.alternate;for(a!==null&&(a.lanes|=s),a=e,e=e.return;e!==null;)e.childLanes|=s,a=e.alternate,a!==null&&(a.childLanes|=s),a=e,e=e.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,K$1&2){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,ih(e,a)}return h=c.interleaved,h===null?(s.next=s,gh(c)):(s.next=h.next,h.next=s),c.interleaved=s,ih(e,a)}function oh(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=e.pendingLanes,a|=c,s.lanes=a,Cc(e,a)}}function ph(e,s){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var tt={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};b===null?h=b=tt:b=b.next=tt,a=a.next}while(a!==null);b===null?h=b=s:b=b.next=s}else h=b=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:b,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}function qh(e,s,a,c){var h=e.updateQueue;jh=!1;var b=h.firstBaseUpdate,tt=h.lastBaseUpdate,nt=h.shared.pending;if(nt!==null){h.shared.pending=null;var ot=nt,st=ot.next;ot.next=null,tt===null?b=st:tt.next=st,tt=ot;var ft=e.alternate;ft!==null&&(ft=ft.updateQueue,nt=ft.lastBaseUpdate,nt!==tt&&(nt===null?ft.firstBaseUpdate=st:nt.next=st,ft.lastBaseUpdate=ot))}if(b!==null){var ht=h.baseState;tt=0,ft=st=ot=null,nt=b;do{var gt=nt.lane,yt=nt.eventTime;if((c&gt)===gt){ft!==null&&(ft=ft.next={eventTime:yt,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var Et=e,wt=nt;switch(gt=s,yt=a,wt.tag){case 1:if(Et=wt.payload,typeof Et=="function"){ht=Et.call(yt,ht,gt);break e}ht=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=wt.payload,gt=typeof Et=="function"?Et.call(yt,ht,gt):Et,gt==null)break e;ht=A$1({},ht,gt);break e;case 2:jh=!0}}nt.callback!==null&&nt.lane!==0&&(e.flags|=64,gt=h.effects,gt===null?h.effects=[nt]:gt.push(nt))}else yt={eventTime:yt,lane:gt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},ft===null?(st=ft=yt,ot=ht):ft=ft.next=yt,tt|=gt;if(nt=nt.next,nt===null){if(nt=h.shared.pending,nt===null)break;gt=nt,nt=gt.next,gt.next=null,h.lastBaseUpdate=gt,h.shared.pending=null}}while(!0);if(ft===null&&(ot=ht),h.baseState=ot,h.firstBaseUpdate=st,h.lastBaseUpdate=ft,s=h.shared.interleaved,s!==null){h=s;do tt|=h.lane,h=h.next;while(h!==s)}else b===null&&(h.shared.lanes=0);rh|=tt,e.lanes=tt,e.memoizedState=ht}}function sh(e,s,a){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var c=e[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(p(191,h));h.call(c)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G$1(wh,s),G$1(vh,e),G$1(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G$1(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),a=lb(s,e.type);s!==a&&(G$1(vh,e),G$1(uh,a))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L$1=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!He$1(e[a],s[a]))return!1;return!0}function Nh(e,s,a,c,h,b){if(Hh=b,M$1=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=a(c,h),Jh){b=0;do{if(Jh=!1,Kh=0,25<=b)throw Error(p(301));b+=1,O$1=N=null,s.updateQueue=null,Fh.current=Qh,e=a(c,h)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O$1=N=M$1=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=e:O$1=O$1.next=e,O$1}function Uh(){if(N===null){var e=M$1.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O$1===null?M$1.memoizedState:O$1.next;if(s!==null)O$1=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$1===null?M$1.memoizedState=O$1=e:O$1=O$1.next=e}return O$1}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),a=s.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var c=N,h=c.baseQueue,b=a.pending;if(b!==null){if(h!==null){var tt=h.next;h.next=b.next,b.next=tt}c.baseQueue=h=b,a.pending=null}if(h!==null){b=h.next,c=c.baseState;var nt=tt=null,ot=null,st=b;do{var ft=st.lane;if((Hh&ft)===ft)ot!==null&&(ot=ot.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),c=st.hasEagerState?st.eagerState:e(c,st.action);else{var ht={lane:ft,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};ot===null?(nt=ot=ht,tt=c):ot=ot.next=ht,M$1.lanes|=ft,rh|=ft}st=st.next}while(st!==null&&st!==b);ot===null?tt=c:ot.next=nt,He$1(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseState=tt,s.baseQueue=ot,a.lastRenderedState=c}if(e=a.interleaved,e!==null){h=e;do b=h.lane,M$1.lanes|=b,rh|=b,h=h.next;while(h!==e)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Xh(e){var s=Uh(),a=s.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var c=a.dispatch,h=a.pending,b=s.memoizedState;if(h!==null){a.pending=null;var tt=h=h.next;do b=e(b,tt.action),tt=tt.next;while(tt!==h);He$1(b,s.memoizedState)||(dh=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),a.lastRenderedState=b}return[b,c]}function Yh(){}function Zh(e,s){var a=M$1,c=Uh(),h=s(),b=!He$1(c.memoizedState,h);if(b&&(c.memoizedState=h,dh=!0),c=c.queue,$h(ai.bind(null,a,c,e),[e]),c.getSnapshot!==s||b||O$1!==null&&O$1.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,c,h,s),void 0,null),Q$1===null)throw Error(p(349));Hh&30||di(a,s,h)}return h}function di(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=M$1.updateQueue,s===null?(s={lastEffect:null,stores:null},M$1.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function ci(e,s,a,c){s.value=a,s.getSnapshot=c,ei(s)&&fi(e)}function ai(e,s,a){return a(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!He$1(e,a)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M$1,e),[s.memoizedState,e]}function bi(e,s,a,c){return e={tag:e,create:s,destroy:a,deps:c,next:null},s=M$1.updateQueue,s===null?(s={lastEffect:null,stores:null},M$1.updateQueue=s,s.lastEffect=e.next=e):(a=s.lastEffect,a===null?s.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,a,c){var h=Th();M$1.flags|=e,h.memoizedState=bi(1|s,a,void 0,c===void 0?null:c)}function li(e,s,a,c){var h=Uh();c=c===void 0?null:c;var b=void 0;if(N!==null){var tt=N.memoizedState;if(b=tt.destroy,c!==null&&Mh(c,tt.deps)){h.memoizedState=bi(s,a,b,c);return}}M$1.flags|=e,h.memoizedState=bi(1|s,a,b,c)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,a){return a=a!=null?a.concat([e]):null,li(4,4,pi.bind(null,s,e),a)}function ri(){}function si(e,s){var a=Uh();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Mh(s,c[1])?c[0]:(a.memoizedState=[e,s],e)}function ti(e,s){var a=Uh();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Mh(s,c[1])?c[0]:(e=e(),a.memoizedState=[e,s],e)}function ui(e,s,a){return Hh&21?(He$1(a,s)||(a=yc(),M$1.lanes|=a,rh|=a,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=a)}function vi(e,s){var a=C$1;C$1=a!==0&&4>a?a:4,e(!0);var c=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C$1=a,Gh.transition=c}}function wi(){return Uh().memoizedState}function xi(e,s,a){var c=yi(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,a);else if(a=hh(e,s,a,c),a!==null){var h=R$1();gi(a,e,c,h),Bi(a,s,c)}}function ii(e,s,a){var c=yi(e),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,h);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var tt=s.lastRenderedState,nt=b(tt,a);if(h.hasEagerState=!0,h.eagerState=nt,He$1(nt,tt)){var ot=s.interleaved;ot===null?(h.next=h,gh(s)):(h.next=ot.next,ot.next=h),s.interleaved=h;return}}catch{}finally{}a=hh(e,s,h,c),a!==null&&(h=R$1(),gi(a,e,c,h),Bi(a,s,c))}}function zi(e){var s=e.alternate;return e===M$1||s!==null&&s===M$1}function Ai(e,s){Jh=Ih=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Bi(e,s,a){if(a&4194240){var c=s.lanes;c&=e.pendingLanes,a|=c,s.lanes=a,Cc(e,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,a){return a=a!=null?a.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),a)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var a=Th();return s=s===void 0?null:s,e=e(),a.memoizedState=[e,s],e},useReducer:function(e,s,a){var c=Th();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},c.queue=e,e=e.dispatch=xi.bind(null,M$1,e),[c.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,a){var c=M$1,h=Th();if(I$1){if(a===void 0)throw Error(p(407));a=a()}else{if(a=s(),Q$1===null)throw Error(p(349));Hh&30||di(c,s,a)}h.memoizedState=a;var b={value:a,getSnapshot:s};return h.queue=b,mi(ai.bind(null,c,b,e),[e]),c.flags|=2048,bi(9,ci.bind(null,c,b,a,s),void 0,null),a},useId:function(){var e=Th(),s=Q$1.identifierPrefix;if(I$1){var a=sg,c=rg;a=(c&~(1<<32-oc(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Kh++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Lh++,s=":"+s+"r"+a.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A$1({},s),e=e.defaultProps;for(var a in e)s[a]===void 0&&(s[a]=e[a]);return s}return s}function Di(e,s,a,c){s=e.memoizedState,a=a(c,s),a=a==null?s:A$1({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,a){e=e._reactInternals;var c=R$1(),h=yi(e),b=mh(c,h);b.payload=s,a!=null&&(b.callback=a),s=nh(e,b,h),s!==null&&(gi(s,e,h,c),oh(s,e,h))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var c=R$1(),h=yi(e),b=mh(c,h);b.tag=1,b.payload=s,a!=null&&(b.callback=a),s=nh(e,b,h),s!==null&&(gi(s,e,h,c),oh(s,e,h))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=R$1(),c=yi(e),h=mh(a,c);h.tag=2,s!=null&&(h.callback=s),s=nh(e,h,c),s!==null&&(gi(s,e,c,a),oh(s,e,c))}};function Fi(e,s,a,c,h,b,tt){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,b,tt):s.prototype&&s.prototype.isPureReactComponent?!Ie$1(a,c)||!Ie$1(h,b):!0}function Gi(e,s,a){var c=!1,h=Vf,b=s.contextType;return typeof b=="object"&&b!==null?b=eh(b):(h=Zf(s)?Xf:H$1.current,c=s.contextTypes,b=(c=c!=null)?Yf(e,h):Vf),s=new s(a,b),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=b),s}function Hi(e,s,a,c){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,a,c){var h=e.stateNode;h.props=a,h.state=e.memoizedState,h.refs={},kh(e);var b=s.contextType;typeof b=="object"&&b!==null?h.context=eh(b):(b=Zf(s)?Xf:H$1.current,h.context=Yf(e,b)),h.state=e.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Di(e,s,b,a),h.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ei.enqueueReplaceState(h,h.state,null),qh(e,a,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var a="",c=s;do a+=Pa(c),c=c.return;while(c);var h=a}catch(b){h=`
Error generating stack: `+b.message+`
`+b.stack}return{value:e,source:s,stack:h,digest:null}}function Ki(e,s,a){return{value:e,source:null,stack:a??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Oi||(Oi=!0,Pi=c),Li(e,s)},a}function Qi(e,s,a){a=mh(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){Li(e,s)}}var b=e.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(a.callback=function(){Li(e,s),typeof c!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var tt=s.stack;this.componentDidCatch(s.value,{componentStack:tt!==null?tt:""})}),a}function Si(e,s,a){var c=e.pingCache;if(c===null){c=e.pingCache=new Mi;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),e=Ti.bind(null,e,s,a),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,a,c,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===s?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=mh(-1,1),s.tag=2,nh(a,s,1))),a.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,a,c){s.child=e===null?Vg(s,null,a,c):Ug(s,e.child,a,c)}function Yi(e,s,a,c,h){a=a.render;var b=s.ref;return ch(s,h),c=Nh(e,s,a,c,b,h),a=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~h,Zi(e,s,h)):(I$1&&a&&vg(s),s.flags|=1,Xi(e,s,c,h),s.child)}function $i(e,s,a,c,h){if(e===null){var b=a.type;return typeof b=="function"&&!aj(b)&&b.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=b,bj(e,s,b,c,h)):(e=Rg(a.type,null,c,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(b=e.child,!(e.lanes&h)){var tt=b.memoizedProps;if(a=a.compare,a=a!==null?a:Ie$1,a(tt,c)&&e.ref===s.ref)return Zi(e,s,h)}return s.flags|=1,e=Pg(b,c),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,a,c,h){if(e!==null){var b=e.memoizedProps;if(Ie$1(b,c)&&e.ref===s.ref)if(dh=!1,s.pendingProps=c=b,(e.lanes&h)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,h)}return cj(e,s,a,c,h)}function dj(e,s,a){var c=s.pendingProps,h=c.children,b=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=a;else{if(!(a&1073741824))return e=b!==null?b.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G$1(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=b!==null?b.baseLanes:a,G$1(ej,fj),fj|=c}else b!==null?(c=b.baseLanes|a,s.memoizedState=null):c=a,G$1(ej,fj),fj|=c;return Xi(e,s,h,a),s.child}function gj(e,s){var a=s.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,a,c,h){var b=Zf(a)?Xf:H$1.current;return b=Yf(s,b),ch(s,h),a=Nh(e,s,a,c,b,h),c=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~h,Zi(e,s,h)):(I$1&&c&&vg(s),s.flags|=1,Xi(e,s,a,h),s.child)}function hj(e,s,a,c,h){if(Zf(a)){var b=!0;cg(s)}else b=!1;if(ch(s,h),s.stateNode===null)ij(e,s),Gi(s,a,c),Ii(s,a,c,h),c=!0;else if(e===null){var tt=s.stateNode,nt=s.memoizedProps;tt.props=nt;var ot=tt.context,st=a.contextType;typeof st=="object"&&st!==null?st=eh(st):(st=Zf(a)?Xf:H$1.current,st=Yf(s,st));var ft=a.getDerivedStateFromProps,ht=typeof ft=="function"||typeof tt.getSnapshotBeforeUpdate=="function";ht||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(nt!==c||ot!==st)&&Hi(s,tt,c,st),jh=!1;var gt=s.memoizedState;tt.state=gt,qh(s,c,tt,h),ot=s.memoizedState,nt!==c||gt!==ot||Wf.current||jh?(typeof ft=="function"&&(Di(s,a,ft,c),ot=s.memoizedState),(nt=jh||Fi(s,a,nt,c,gt,ot,st))?(ht||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(s.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ot),tt.props=c,tt.state=ot,tt.context=st,c=nt):(typeof tt.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{tt=s.stateNode,lh(e,s),nt=s.memoizedProps,st=s.type===s.elementType?nt:Ci(s.type,nt),tt.props=st,ht=s.pendingProps,gt=tt.context,ot=a.contextType,typeof ot=="object"&&ot!==null?ot=eh(ot):(ot=Zf(a)?Xf:H$1.current,ot=Yf(s,ot));var yt=a.getDerivedStateFromProps;(ft=typeof yt=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(nt!==ht||gt!==ot)&&Hi(s,tt,c,ot),jh=!1,gt=s.memoizedState,tt.state=gt,qh(s,c,tt,h);var Et=s.memoizedState;nt!==ht||gt!==Et||Wf.current||jh?(typeof yt=="function"&&(Di(s,a,yt,c),Et=s.memoizedState),(st=jh||Fi(s,a,st,c,gt,Et,ot)||!1)?(ft||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(c,Et,ot),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(c,Et,ot)),typeof tt.componentDidUpdate=="function"&&(s.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof tt.componentDidUpdate!="function"||nt===e.memoizedProps&&gt===e.memoizedState||(s.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||nt===e.memoizedProps&&gt===e.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Et),tt.props=c,tt.state=Et,tt.context=ot,c=st):(typeof tt.componentDidUpdate!="function"||nt===e.memoizedProps&&gt===e.memoizedState||(s.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||nt===e.memoizedProps&&gt===e.memoizedState||(s.flags|=1024),c=!1)}return jj(e,s,a,c,b,h)}function jj(e,s,a,c,h,b){gj(e,s);var tt=(s.flags&128)!==0;if(!c&&!tt)return h&&dg(s,a,!1),Zi(e,s,b);c=s.stateNode,Wi.current=s;var nt=tt&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,e!==null&&tt?(s.child=Ug(s,e.child,null,b),s.child=Ug(s,null,nt,b)):Xi(e,s,nt,b),s.memoizedState=c.state,h&&dg(s,a,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,a,c,h){return Ig(),Jg(h),s.flags|=256,Xi(e,s,a,c),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,a){var c=s.pendingProps,h=L$1.current,b=!1,tt=(s.flags&128)!==0,nt;if((nt=tt)||(nt=e!==null&&e.memoizedState===null?!1:(h&2)!==0),nt?(b=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),G$1(L$1,h&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(tt=c.children,e=c.fallback,b?(c=s.mode,b=s.child,tt={mode:"hidden",children:tt},!(c&1)&&b!==null?(b.childLanes=0,b.pendingProps=tt):b=pj(tt,c,0,null),e=Tg(e,c,a,null),b.return=s,e.return=s,b.sibling=e,s.child=b,s.child.memoizedState=nj(a),s.memoizedState=mj,e):qj(s,tt));if(h=e.memoizedState,h!==null&&(nt=h.dehydrated,nt!==null))return rj(e,s,tt,c,nt,h,a);if(b){b=c.fallback,tt=s.mode,h=e.child,nt=h.sibling;var ot={mode:"hidden",children:c.children};return!(tt&1)&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=ot,s.deletions=null):(c=Pg(h,ot),c.subtreeFlags=h.subtreeFlags&14680064),nt!==null?b=Pg(nt,b):(b=Tg(b,tt,a,null),b.flags|=2),b.return=s,c.return=s,c.sibling=b,s.child=c,c=b,b=s.child,tt=e.child.memoizedState,tt=tt===null?nj(a):{baseLanes:tt.baseLanes|a,cachePool:null,transitions:tt.transitions},b.memoizedState=tt,b.childLanes=e.childLanes&~a,s.memoizedState=mj,c}return b=e.child,e=b.sibling,c=Pg(b,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,e!==null&&(a=s.deletions,a===null?(s.deletions=[e],s.flags|=16):a.push(e)),s.child=c,s.memoizedState=null,c}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,a,c){return c!==null&&Jg(c),Ug(s,e.child,null,a),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,a,c,h,b,tt){if(a)return s.flags&256?(s.flags&=-257,c=Ki(Error(p(422))),sj(e,s,tt,c)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(b=c.fallback,h=s.mode,c=pj({mode:"visible",children:c.children},h,0,null),b=Tg(b,h,tt,null),b.flags|=2,c.return=s,b.return=s,c.sibling=b,s.child=c,s.mode&1&&Ug(s,e.child,null,tt),s.child.memoizedState=nj(tt),s.memoizedState=mj,b);if(!(s.mode&1))return sj(e,s,tt,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var nt=c.dgst;return c=nt,b=Error(p(419)),c=Ki(b,c,void 0),sj(e,s,tt,c)}if(nt=(tt&e.childLanes)!==0,dh||nt){if(c=Q$1,c!==null){switch(tt&-tt){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|tt)?0:h,h!==0&&h!==b.retryLane&&(b.retryLane=h,ih(e,h),gi(c,e,h,-1))}return tj(),c=Ki(Error(p(421))),sj(e,s,tt,c)}return h.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),h._reactRetry=s,null):(e=b.treeContext,yg=Lf(h.nextSibling),xg=s,I$1=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,c.children),s.flags|=4096,s)}function vj(e,s,a){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s),bh(e.return,s,a)}function wj(e,s,a,c,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=a,b.tailMode=h)}function xj(e,s,a){var c=s.pendingProps,h=c.revealOrder,b=c.tail;if(Xi(e,s,c.children,a),c=L$1.current,c&2)c=c&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,a,s);else if(e.tag===19)vj(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(G$1(L$1,c),!(s.mode&1))s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)e=a.alternate,e!==null&&Ch(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),wj(s,!1,h,a,b);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Ch(e)===null){s.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}wj(s,!0,a,null,b);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(a&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,a=Pg(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Pg(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function yj(e,s,a){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;G$1(Wg,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(G$1(L$1,L$1.current&1),s.flags|=128,null):a&s.child.childLanes?oj(e,s,a):(G$1(L$1,L$1.current&1),e=Zi(e,s,a),e!==null?e.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(c=(a&s.childLanes)!==0,e.flags&128){if(c)return xj(e,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G$1(L$1,L$1.current),c)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,a)}return Zi(e,s,a)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(e,s,a,c){var h=e.memoizedProps;if(h!==c){e=s.stateNode,xh(uh.current);var b=null;switch(a){case"input":h=Ya(e,h),c=Ya(e,c),b=[];break;case"select":h=A$1({},h,{value:void 0}),c=A$1({},c,{value:void 0}),b=[];break;case"textarea":h=gb(e,h),c=gb(e,c),b=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Bf)}ub(a,c);var tt;a=null;for(st in h)if(!c.hasOwnProperty(st)&&h.hasOwnProperty(st)&&h[st]!=null)if(st==="style"){var nt=h[st];for(tt in nt)nt.hasOwnProperty(tt)&&(a||(a={}),a[tt]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?b||(b=[]):(b=b||[]).push(st,null));for(st in c){var ot=c[st];if(nt=h!=null?h[st]:void 0,c.hasOwnProperty(st)&&ot!==nt&&(ot!=null||nt!=null))if(st==="style")if(nt){for(tt in nt)!nt.hasOwnProperty(tt)||ot&&ot.hasOwnProperty(tt)||(a||(a={}),a[tt]="");for(tt in ot)ot.hasOwnProperty(tt)&&nt[tt]!==ot[tt]&&(a||(a={}),a[tt]=ot[tt])}else a||(b||(b=[]),b.push(st,a)),a=ot;else st==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,nt=nt?nt.__html:void 0,ot!=null&&nt!==ot&&(b=b||[]).push(st,ot)):st==="children"?typeof ot!="string"&&typeof ot!="number"||(b=b||[]).push(st,""+ot):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(ea.hasOwnProperty(st)?(ot!=null&&st==="onScroll"&&D$1("scroll",e),b||nt===ot||(b=[])):(b=b||[]).push(st,ot))}a&&(b=b||[]).push("style",a);var st=b;(s.updateQueue=st)&&(s.flags|=4)}};Cj=function(e,s,a,c){a!==c&&(s.flags|=4)};function Dj(e,s){if(!I$1)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function S$1(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(s)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=a,s}function Ej(e,s,a){var c=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(s),null;case 1:return Zf(s.type)&&$f(),S$1(s),null;case 3:return c=s.stateNode,zh(),E(Wf),E(H$1),Eh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S$1(s),null;case 5:Bh(s);var h=xh(wh.current);if(a=s.type,e!==null&&s.stateNode!=null)Bj(e,s,a,c,h),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(p(166));return S$1(s),null}if(e=xh(uh.current),Gg(s)){c=s.stateNode,a=s.type;var b=s.memoizedProps;switch(c[Of]=s,c[Pf]=b,e=(s.mode&1)!==0,a){case"dialog":D$1("cancel",c),D$1("close",c);break;case"iframe":case"object":case"embed":D$1("load",c);break;case"video":case"audio":for(h=0;h<lf.length;h++)D$1(lf[h],c);break;case"source":D$1("error",c);break;case"img":case"image":case"link":D$1("error",c),D$1("load",c);break;case"details":D$1("toggle",c);break;case"input":Za(c,b),D$1("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!b.multiple},D$1("invalid",c);break;case"textarea":hb(c,b),D$1("invalid",c)}ub(a,b),h=null;for(var tt in b)if(b.hasOwnProperty(tt)){var nt=b[tt];tt==="children"?typeof nt=="string"?c.textContent!==nt&&(b.suppressHydrationWarning!==!0&&Af(c.textContent,nt,e),h=["children",nt]):typeof nt=="number"&&c.textContent!==""+nt&&(b.suppressHydrationWarning!==!0&&Af(c.textContent,nt,e),h=["children",""+nt]):ea.hasOwnProperty(tt)&&nt!=null&&tt==="onScroll"&&D$1("scroll",c)}switch(a){case"input":Va(c),db(c,b,!0);break;case"textarea":Va(c),jb(c);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(c.onclick=Bf)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{tt=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=tt.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=tt.createElement(a,{is:c.is}):(e=tt.createElement(a),a==="select"&&(tt=e,c.multiple?tt.multiple=!0:c.size&&(tt.size=c.size))):e=tt.createElementNS(e,a),e[Of]=s,e[Pf]=c,zj(e,s,!1,!1),s.stateNode=e;e:{switch(tt=vb(a,c),a){case"dialog":D$1("cancel",e),D$1("close",e),h=c;break;case"iframe":case"object":case"embed":D$1("load",e),h=c;break;case"video":case"audio":for(h=0;h<lf.length;h++)D$1(lf[h],e);h=c;break;case"source":D$1("error",e),h=c;break;case"img":case"image":case"link":D$1("error",e),D$1("load",e),h=c;break;case"details":D$1("toggle",e),h=c;break;case"input":Za(e,c),h=Ya(e,c),D$1("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=A$1({},c,{value:void 0}),D$1("invalid",e);break;case"textarea":hb(e,c),h=gb(e,c),D$1("invalid",e);break;default:h=c}ub(a,h),nt=h;for(b in nt)if(nt.hasOwnProperty(b)){var ot=nt[b];b==="style"?sb(e,ot):b==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(e,ot)):b==="children"?typeof ot=="string"?(a!=="textarea"||ot!=="")&&ob(e,ot):typeof ot=="number"&&ob(e,""+ot):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?ot!=null&&b==="onScroll"&&D$1("scroll",e):ot!=null&&ta(e,b,ot,tt))}switch(a){case"input":Va(e),db(e,c,!1);break;case"textarea":Va(e),jb(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Sa(c.value));break;case"select":e.multiple=!!c.multiple,b=c.value,b!=null?fb(e,!!c.multiple,b,!1):c.defaultValue!=null&&fb(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S$1(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(p(166));if(a=xh(wh.current),xh(uh.current),Gg(s)){if(c=s.stateNode,a=s.memoizedProps,c[Of]=s,(b=c.nodeValue!==a)&&(e=xg,e!==null))switch(e.tag){case 3:Af(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,a,(e.mode&1)!==0)}b&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Of]=s,s.stateNode=c}return S$1(s),null;case 13:if(E(L$1),c=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,b=!1;else if(b=Gg(s),c!==null&&c.dehydrated!==null){if(e===null){if(!b)throw Error(p(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(p(317));b[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S$1(s),b=!1}else zg!==null&&(Fj(zg),zg=null),b=!0;if(!b)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(e===null||L$1.current&1?T$1===0&&(T$1=3):tj())),s.updateQueue!==null&&(s.flags|=4),S$1(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S$1(s),null;case 10:return ah(s.type._context),S$1(s),null;case 17:return Zf(s.type)&&$f(),S$1(s),null;case 19:if(E(L$1),b=s.memoizedState,b===null)return S$1(s),null;if(c=(s.flags&128)!==0,tt=b.rendering,tt===null)if(c)Dj(b,!1);else{if(T$1!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(tt=Ch(e),tt!==null){for(s.flags|=128,Dj(b,!1),c=tt.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)b=a,e=c,b.flags&=14680066,tt=b.alternate,tt===null?(b.childLanes=0,b.lanes=e,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=tt.childLanes,b.lanes=tt.lanes,b.child=tt.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=tt.memoizedProps,b.memoizedState=tt.memoizedState,b.updateQueue=tt.updateQueue,b.type=tt.type,e=tt.dependencies,b.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return G$1(L$1,L$1.current&1|2),s.child}e=e.sibling}b.tail!==null&&B$1()>Gj&&(s.flags|=128,c=!0,Dj(b,!1),s.lanes=4194304)}else{if(!c)if(e=Ch(tt),e!==null){if(s.flags|=128,c=!0,a=e.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Dj(b,!0),b.tail===null&&b.tailMode==="hidden"&&!tt.alternate&&!I$1)return S$1(s),null}else 2*B$1()-b.renderingStartTime>Gj&&a!==1073741824&&(s.flags|=128,c=!0,Dj(b,!1),s.lanes=4194304);b.isBackwards?(tt.sibling=s.child,s.child=tt):(a=b.last,a!==null?a.sibling=tt:s.child=tt,b.last=tt)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=B$1(),s.sibling=null,a=L$1.current,G$1(L$1,c?a&1|2:a&1),s):(S$1(s),null);case 22:case 23:return Hj(),c=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?fj&1073741824&&(S$1(s),s.subtreeFlags&6&&(s.flags|=8192)):S$1(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H$1),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L$1),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L$1),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(e,s){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){W$1(e,s,c)}else a.current=null}function Mj(e,s,a){try{a()}catch(c){W$1(e,s,c)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me$1(),Ne$1(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var tt=0,nt=-1,ot=-1,st=0,ft=0,ht=e,gt=null;t:for(;;){for(var yt;ht!==a||h!==0&&ht.nodeType!==3||(nt=tt+h),ht!==b||c!==0&&ht.nodeType!==3||(ot=tt+c),ht.nodeType===3&&(tt+=ht.nodeValue.length),(yt=ht.firstChild)!==null;)gt=ht,ht=yt;for(;;){if(ht===e)break t;if(gt===a&&++st===h&&(nt=tt),gt===b&&++ft===c&&(ot=tt),(yt=ht.nextSibling)!==null)break;ht=gt,gt=ht.parentNode}ht=yt}a=nt===-1||ot===-1?null:{start:nt,end:ot}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:e,selectionRange:a},dd=!1,V$1=s;V$1!==null;)if(s=V$1,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V$1=e;else for(;V$1!==null;){s=V$1;try{var Et=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var wt=Et.memoizedProps,bt=Et.memoizedState,mt=s.stateNode,vt=mt.getSnapshotBeforeUpdate(s.elementType===s.type?wt:Ci(s.type,wt),bt);mt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var xt=s.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(kt){W$1(s,s.return,kt)}if(e=s.sibling,e!==null){e.return=s.return,V$1=e;break}V$1=s.return}return Et=Nj,Nj=!1,Et}function Pj(e,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var b=h.destroy;h.destroy=void 0,b!==void 0&&Mj(s,a,b)}h=h.next}while(h!==c)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Rj(e){var s=e.ref;if(s!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(e,s):a.insertBefore(e,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(e,a)):(s=a,s.appendChild(e)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bf));else if(c!==4&&(e=e.child,e!==null))for(Vj(e,s,a),e=e.sibling;e!==null;)Vj(e,s,a),e=e.sibling}function Wj(e,s,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Wj(e,s,a),e=e.sibling;e!==null;)Wj(e,s,a),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,a){for(a=a.child;a!==null;)Zj(e,s,a),a=a.sibling}function Zj(e,s,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U$1||Lj(a,s);case 6:var c=X$1,h=Xj;X$1=null,Yj(e,s,a),X$1=c,Xj=h,X$1!==null&&(Xj?(e=X$1,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):X$1.removeChild(a.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,a=a.stateNode,e.nodeType===8?Kf(e.parentNode,a):e.nodeType===1&&Kf(e,a),bd(e)):Kf(X$1,a.stateNode));break;case 4:c=X$1,h=Xj,X$1=a.stateNode.containerInfo,Xj=!0,Yj(e,s,a),X$1=c,Xj=h;break;case 0:case 11:case 14:case 15:if(!U$1&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var b=h,tt=b.destroy;b=b.tag,tt!==void 0&&(b&2||b&4)&&Mj(a,s,tt),h=h.next}while(h!==c)}Yj(e,s,a);break;case 1:if(!U$1&&(Lj(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(nt){W$1(a,s,nt)}Yj(e,s,a);break;case 21:Yj(e,s,a);break;case 22:a.mode&1?(U$1=(c=U$1)||a.memoizedState!==null,Yj(e,s,a),U$1=c):Yj(e,s,a);break;default:Yj(e,s,a)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Kj),s.forEach(function(c){var h=bk.bind(null,e,c);a.has(c)||(a.add(c),c.then(h,h))})}}function ck(e,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var b=e,tt=s,nt=tt;e:for(;nt!==null;){switch(nt.tag){case 5:X$1=nt.stateNode,Xj=!1;break e;case 3:X$1=nt.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=nt.stateNode.containerInfo,Xj=!0;break e}nt=nt.return}if(X$1===null)throw Error(p(160));Zj(b,tt,h),X$1=null,Xj=!1;var ot=h.alternate;ot!==null&&(ot.return=null),h.return=null}catch(st){W$1(h,s,st)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),c&4){try{Pj(3,e,e.return),Qj(3,e)}catch(wt){W$1(e,e.return,wt)}try{Pj(5,e,e.return)}catch(wt){W$1(e,e.return,wt)}}break;case 1:ck(s,e),ek(e),c&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(s,e),ek(e),c&512&&a!==null&&Lj(a,a.return),e.flags&32){var h=e.stateNode;try{ob(h,"")}catch(wt){W$1(e,e.return,wt)}}if(c&4&&(h=e.stateNode,h!=null)){var b=e.memoizedProps,tt=a!==null?a.memoizedProps:b,nt=e.type,ot=e.updateQueue;if(e.updateQueue=null,ot!==null)try{nt==="input"&&b.type==="radio"&&b.name!=null&&ab(h,b),vb(nt,tt);var st=vb(nt,b);for(tt=0;tt<ot.length;tt+=2){var ft=ot[tt],ht=ot[tt+1];ft==="style"?sb(h,ht):ft==="dangerouslySetInnerHTML"?nb(h,ht):ft==="children"?ob(h,ht):ta(h,ft,ht,st)}switch(nt){case"input":bb(h,b);break;case"textarea":ib(h,b);break;case"select":var gt=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!b.multiple;var yt=b.value;yt!=null?fb(h,!!b.multiple,yt,!1):gt!==!!b.multiple&&(b.defaultValue!=null?fb(h,!!b.multiple,b.defaultValue,!0):fb(h,!!b.multiple,b.multiple?[]:"",!1))}h[Pf]=b}catch(wt){W$1(e,e.return,wt)}}break;case 6:if(ck(s,e),ek(e),c&4){if(e.stateNode===null)throw Error(p(162));h=e.stateNode,b=e.memoizedProps;try{h.nodeValue=b}catch(wt){W$1(e,e.return,wt)}}break;case 3:if(ck(s,e),ek(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(wt){W$1(e,e.return,wt)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),h=e.child,h.flags&8192&&(b=h.memoizedState!==null,h.stateNode.isHidden=b,!b||h.alternate!==null&&h.alternate.memoizedState!==null||(fk=B$1())),c&4&&ak(e);break;case 22:if(ft=a!==null&&a.memoizedState!==null,e.mode&1?(U$1=(st=U$1)||ft,ck(s,e),U$1=st):ck(s,e),ek(e),c&8192){if(st=e.memoizedState!==null,(e.stateNode.isHidden=st)&&!ft&&e.mode&1)for(V$1=e,ft=e.child;ft!==null;){for(ht=V$1=ft;V$1!==null;){switch(gt=V$1,yt=gt.child,gt.tag){case 0:case 11:case 14:case 15:Pj(4,gt,gt.return);break;case 1:Lj(gt,gt.return);var Et=gt.stateNode;if(typeof Et.componentWillUnmount=="function"){c=gt,a=gt.return;try{s=c,Et.props=s.memoizedProps,Et.state=s.memoizedState,Et.componentWillUnmount()}catch(wt){W$1(c,a,wt)}}break;case 5:Lj(gt,gt.return);break;case 22:if(gt.memoizedState!==null){gk(ht);continue}}yt!==null?(yt.return=gt,V$1=yt):gk(ht)}ft=ft.sibling}e:for(ft=null,ht=e;;){if(ht.tag===5){if(ft===null){ft=ht;try{h=ht.stateNode,st?(b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(nt=ht.stateNode,ot=ht.memoizedProps.style,tt=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,nt.style.display=rb("display",tt))}catch(wt){W$1(e,e.return,wt)}}}else if(ht.tag===6){if(ft===null)try{ht.stateNode.nodeValue=st?"":ht.memoizedProps}catch(wt){W$1(e,e.return,wt)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===e)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===e)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===e)break e;ft===ht&&(ft=null),ht=ht.return}ft===ht&&(ft=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:ck(s,e),ek(e),c&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var a=e.return;a!==null;){if(Tj(a)){var c=a;break e}a=a.return}throw Error(p(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ob(h,""),c.flags&=-33);var b=Uj(e);Wj(e,b,h);break;case 3:case 4:var tt=c.stateNode.containerInfo,nt=Uj(e);Vj(e,nt,tt);break;default:throw Error(p(161))}}catch(ot){W$1(e,e.return,ot)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,a){V$1=e,ik(e)}function ik(e,s,a){for(var c=(e.mode&1)!==0;V$1!==null;){var h=V$1,b=h.child;if(h.tag===22&&c){var tt=h.memoizedState!==null||Jj;if(!tt){var nt=h.alternate,ot=nt!==null&&nt.memoizedState!==null||U$1;nt=Jj;var st=U$1;if(Jj=tt,(U$1=ot)&&!st)for(V$1=h;V$1!==null;)tt=V$1,ot=tt.child,tt.tag===22&&tt.memoizedState!==null?jk(h):ot!==null?(ot.return=tt,V$1=ot):jk(h);for(;b!==null;)V$1=b,ik(b),b=b.sibling;V$1=h,Jj=nt,U$1=st}kk(e)}else h.subtreeFlags&8772&&b!==null?(b.return=h,V$1=b):kk(e)}}function kk(e){for(;V$1!==null;){var s=V$1;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U$1||Qj(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!U$1)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Ci(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var b=s.updateQueue;b!==null&&sh(s,b,c);break;case 3:var tt=s.updateQueue;if(tt!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}sh(s,tt,a)}break;case 5:var nt=s.stateNode;if(a===null&&s.flags&4){a=nt;var ot=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&a.focus();break;case"img":ot.src&&(a.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var st=s.alternate;if(st!==null){var ft=st.memoizedState;if(ft!==null){var ht=ft.dehydrated;ht!==null&&bd(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U$1||s.flags&512&&Rj(s)}catch(gt){W$1(s,s.return,gt)}}if(s===e){V$1=null;break}if(a=s.sibling,a!==null){a.return=s.return,V$1=a;break}V$1=s.return}}function gk(e){for(;V$1!==null;){var s=V$1;if(s===e){V$1=null;break}var a=s.sibling;if(a!==null){a.return=s.return,V$1=a;break}V$1=s.return}}function jk(e){for(;V$1!==null;){var s=V$1;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Qj(4,s)}catch(ot){W$1(s,a,ot)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(ot){W$1(s,h,ot)}}var b=s.return;try{Rj(s)}catch(ot){W$1(s,b,ot)}break;case 5:var tt=s.return;try{Rj(s)}catch(ot){W$1(s,tt,ot)}}}catch(ot){W$1(s,s.return,ot)}if(s===e){V$1=null;break}var nt=s.sibling;if(nt!==null){nt.return=s.return,V$1=nt;break}V$1=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(e){return e.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C$1,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,a,c){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,a,c),(!(K$1&2)||e!==Q$1)&&(e===Q$1&&(!(K$1&2)&&(qk|=a),T$1===4&&Ck(e,Z$1)),Dk(e,c),a===1&&K$1===0&&!(s.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(e,s){var a=e.callbackNode;wc(e,s);var c=uc(e,e===Q$1?Z$1:0);if(c===0)a!==null&&bc(a),e.callbackNode=null,e.callbackPriority=0;else if(s=c&-c,e.callbackPriority!==s){if(a!=null&&bc(a),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K$1&6)&&jg()}),a=null;else{switch(Dc(c)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=a}}function Gk(e,s){if(Ak=-1,Bk=0,K$1&6)throw Error(p(327));var a=e.callbackNode;if(Hk()&&e.callbackNode!==a)return null;var c=uc(e,e===Q$1?Z$1:0);if(c===0)return null;if(c&30||c&e.expiredLanes||s)s=Ik(e,c);else{s=c;var h=K$1;K$1|=2;var b=Jk();(Q$1!==e||Z$1!==s)&&(uk=null,Gj=B$1()+500,Kk(e,s));do try{Lk();break}catch(nt){Mk(e,nt)}while(!0);$g(),mk.current=b,K$1=h,Y$1!==null?s=0:(Q$1=null,Z$1=0,s=T$1)}if(s!==0){if(s===2&&(h=xc(e),h!==0&&(c=h,s=Nk(e,h))),s===1)throw a=pk,Kk(e,0),Ck(e,c),Dk(e,B$1()),a;if(s===6)Ck(e,c);else{if(h=e.current.alternate,!(c&30)&&!Ok(h)&&(s=Ik(e,c),s===2&&(b=xc(e),b!==0&&(c=b,s=Nk(e,b))),s===1))throw a=pk,Kk(e,0),Ck(e,c),Dk(e,B$1()),a;switch(e.finishedWork=h,e.finishedLanes=c,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,c),(c&130023424)===c&&(s=fk+500-B$1(),10<s)){if(uc(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){R$1(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,c),(c&4194240)===c)break;for(s=e.eventTimes,h=-1;0<c;){var tt=31-oc(c);b=1<<tt,tt=s[tt],tt>h&&(h=tt),c&=~b}if(c=h,c=B$1()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*lk(c/1960))-c,10<c){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),c);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B$1()),e.callbackNode===a?Gk.bind(null,e):null}function Nk(e,s){var a=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=a,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],b=h.getSnapshot;h=h.value;try{if(!He$1(b(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var a=31-oc(s),c=1<<a;e[a]=-1,s&=~c}}function Ek(e){if(K$1&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B$1()),null;var a=Ik(e,s);if(e.tag!==0&&a===2){var c=xc(e);c!==0&&(s=c,a=Nk(e,c))}if(a===1)throw a=pk,Kk(e,0),Ck(e,s),Dk(e,B$1()),a;if(a===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B$1()),null}function Qk(e,s){var a=K$1;K$1|=1;try{return e(s)}finally{K$1=a,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var s=K$1;K$1|=1;var a=ok.transition,c=C$1;try{if(ok.transition=null,C$1=1,e)return e()}finally{C$1=c,ok.transition=a,K$1=s,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Gf(a)),Y$1!==null)for(a=Y$1.return;a!==null;){var c=a;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:zh(),E(Wf),E(H$1),Eh();break;case 5:Bh(c);break;case 4:zh();break;case 13:E(L$1);break;case 19:E(L$1);break;case 10:ah(c.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q$1=e,Y$1=e=Pg(e.current,null),Z$1=fj=s,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(a=fh[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,b=a.pending;if(b!==null){var tt=b.next;b.next=h,c.next=tt}a.pending=c}fh=null}return e}function Mk(e,s){do{var a=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var c=M$1.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Ih=!1}if(Hh=0,O$1=N=M$1=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T$1=1,pk=s,Y$1=null;break}e:{var b=e,tt=a.return,nt=a,ot=s;if(s=Z$1,nt.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var st=ot,ft=nt,ht=ft.tag;if(!(ft.mode&1)&&(ht===0||ht===11||ht===15)){var gt=ft.alternate;gt?(ft.updateQueue=gt.updateQueue,ft.memoizedState=gt.memoizedState,ft.lanes=gt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var yt=Ui(tt);if(yt!==null){yt.flags&=-257,Vi(yt,tt,nt,b,s),yt.mode&1&&Si(b,st,s),s=yt,ot=st;var Et=s.updateQueue;if(Et===null){var wt=new Set;wt.add(ot),s.updateQueue=wt}else Et.add(ot);break e}else{if(!(s&1)){Si(b,st,s),tj();break e}ot=Error(p(426))}}else if(I$1&&nt.mode&1){var bt=Ui(tt);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),Vi(bt,tt,nt,b,s),Jg(Ji(ot,nt));break e}}b=ot=Ji(ot,nt),T$1!==4&&(T$1=2),sk===null?sk=[b]:sk.push(b),b=tt;do{switch(b.tag){case 3:b.flags|=65536,s&=-s,b.lanes|=s;var mt=Ni(b,ot,s);ph(b,mt);break e;case 1:nt=ot;var vt=b.type,xt=b.stateNode;if(!(b.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(Ri===null||!Ri.has(xt)))){b.flags|=65536,s&=-s,b.lanes|=s;var kt=Qi(b,nt,s);ph(b,kt);break e}}b=b.return}while(b!==null)}Sk(a)}catch(Lt){s=Lt,Y$1===a&&a!==null&&(Y$1=a=a.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(e,s){var a=K$1;K$1|=2;var c=Jk();(Q$1!==e||Z$1!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(h){Mk(e,h)}while(!0);if($g(),K$1=a,mk.current=c,Y$1!==null)throw Error(p(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y$1=s,nk.current=null}function Sk(e){var s=e;do{var a=s.alternate;if(e=s.return,s.flags&32768){if(a=Ij(a,s),a!==null){a.flags&=32767,Y$1=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T$1=6,Y$1=null;return}}else if(a=Ej(a,s,fj),a!==null){Y$1=a;return}if(s=s.sibling,s!==null){Y$1=s;return}Y$1=s=e}while(s!==null);T$1===0&&(T$1=5)}function Pk(e,s,a){var c=C$1,h=ok.transition;try{ok.transition=null,C$1=1,Wk(e,s,a,c)}finally{ok.transition=h,C$1=c}return null}function Wk(e,s,a,c){do Hk();while(wk!==null);if(K$1&6)throw Error(p(327));a=e.finishedWork;var h=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var b=a.lanes|a.childLanes;if(Bc(e,b),e===Q$1&&(Y$1=Q$1=null,Z$1=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),b=(a.flags&15990)!==0,a.subtreeFlags&15990||b){b=ok.transition,ok.transition=null;var tt=C$1;C$1=1;var nt=K$1;K$1|=4,nk.current=null,Oj(e,a),dk(a,e),Oe$1(Df),dd=!!Cf,Df=Cf=null,e.current=a,hk(a),dc(),K$1=nt,C$1=tt,ok.transition=b}else e.current=a;if(vk&&(vk=!1,wk=e,xk=h),b=e.pendingLanes,b===0&&(Ri=null),mc(a.stateNode),Dk(e,B$1()),s!==null)for(c=e.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),b=e.pendingLanes,b&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,a=C$1;try{if(ok.transition=null,C$1=16>e?16:e,wk===null)var c=!1;else{if(e=wk,wk=null,xk=0,K$1&6)throw Error(p(331));var h=K$1;for(K$1|=4,V$1=e.current;V$1!==null;){var b=V$1,tt=b.child;if(V$1.flags&16){var nt=b.deletions;if(nt!==null){for(var ot=0;ot<nt.length;ot++){var st=nt[ot];for(V$1=st;V$1!==null;){var ft=V$1;switch(ft.tag){case 0:case 11:case 15:Pj(8,ft,b)}var ht=ft.child;if(ht!==null)ht.return=ft,V$1=ht;else for(;V$1!==null;){ft=V$1;var gt=ft.sibling,yt=ft.return;if(Sj(ft),ft===st){V$1=null;break}if(gt!==null){gt.return=yt,V$1=gt;break}V$1=yt}}}var Et=b.alternate;if(Et!==null){var wt=Et.child;if(wt!==null){Et.child=null;do{var bt=wt.sibling;wt.sibling=null,wt=bt}while(wt!==null)}}V$1=b}}if(b.subtreeFlags&2064&&tt!==null)tt.return=b,V$1=tt;else e:for(;V$1!==null;){if(b=V$1,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Pj(9,b,b.return)}var mt=b.sibling;if(mt!==null){mt.return=b.return,V$1=mt;break e}V$1=b.return}}var vt=e.current;for(V$1=vt;V$1!==null;){tt=V$1;var xt=tt.child;if(tt.subtreeFlags&2064&&xt!==null)xt.return=tt,V$1=xt;else e:for(tt=vt;V$1!==null;){if(nt=V$1,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Qj(9,nt)}}catch(Lt){W$1(nt,nt.return,Lt)}if(nt===tt){V$1=null;break e}var kt=nt.sibling;if(kt!==null){kt.return=nt.return,V$1=kt;break e}V$1=nt.return}}if(K$1=h,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}c=!0}return c}finally{C$1=a,ok.transition=s}}return!1}function Xk(e,s,a){s=Ji(a,s),s=Ni(e,s,1),e=nh(e,s,1),s=R$1(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W$1(e,s,a){if(e.tag===3)Xk(e,e,a);else for(;s!==null;){if(s.tag===3){Xk(s,e,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ri===null||!Ri.has(c))){e=Ji(a,e),e=Qi(s,e,1),s=nh(s,e,1),e=R$1(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,a){var c=e.pingCache;c!==null&&c.delete(s),s=R$1(),e.pingedLanes|=e.suspendedLanes&a,Q$1===e&&(Z$1&a)===a&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(e,0):rk|=a),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var a=R$1();e=ih(e,s),e!==null&&(Ac(e,s,a),Dk(e,a))}function uj(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Yk(e,a)}function bk(e,s){var a=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(p(314))}c!==null&&c.delete(s),Yk(e,a)}var Vk;Vk=function(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&a)&&!(s.flags&128))return dh=!1,yj(e,s,a);dh=!!(e.flags&131072)}else dh=!1,I$1&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;ij(e,s),e=s.pendingProps;var h=Yf(s,H$1.current);ch(s,a),h=Nh(null,s,c,e,h,a);var b=Sh();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(c)?(b=!0,cg(s)):b=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,kh(s),h.updater=Ei,s.stateNode=h,h._reactInternals=s,Ii(s,c,e,a),s=jj(null,s,c,!0,b,a)):(s.tag=0,I$1&&b&&vg(s),Xi(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=Zk(c),e=Ci(c,e),h){case 0:s=cj(null,s,c,e,a);break e;case 1:s=hj(null,s,c,e,a);break e;case 11:s=Yi(null,s,c,e,a);break e;case 14:s=$i(null,s,c,Ci(c.type,e),a);break e}throw Error(p(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Ci(c,h),cj(e,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Ci(c,h),hj(e,s,c,h,a);case 3:e:{if(kj(s),e===null)throw Error(p(387));c=s.pendingProps,b=s.memoizedState,h=b.element,lh(e,s),qh(s,c,null,a);var tt=s.memoizedState;if(c=tt.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){h=Ji(Error(p(423)),s),s=lj(e,s,c,a,h);break e}else if(c!==h){h=Ji(Error(p(424)),s),s=lj(e,s,c,a,h);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I$1=!0,zg=null,a=Vg(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),c===h){s=Zi(e,s,a);break e}Xi(e,s,c,a)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),c=s.type,h=s.pendingProps,b=e!==null?e.memoizedProps:null,tt=h.children,Ef(c,h)?tt=null:b!==null&&Ef(c,b)&&(s.flags|=32),gj(e,s),Xi(e,s,tt,a),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,a);case 4:return yh(s,s.stateNode.containerInfo),c=s.pendingProps,e===null?s.child=Ug(s,null,c,a):Xi(e,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Ci(c,h),Yi(e,s,c,h,a);case 7:return Xi(e,s,s.pendingProps,a),s.child;case 8:return Xi(e,s,s.pendingProps.children,a),s.child;case 12:return Xi(e,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,b=s.memoizedProps,tt=h.value,G$1(Wg,c._currentValue),c._currentValue=tt,b!==null)if(He$1(b.value,tt)){if(b.children===h.children&&!Wf.current){s=Zi(e,s,a);break e}}else for(b=s.child,b!==null&&(b.return=s);b!==null;){var nt=b.dependencies;if(nt!==null){tt=b.child;for(var ot=nt.firstContext;ot!==null;){if(ot.context===c){if(b.tag===1){ot=mh(-1,a&-a),ot.tag=2;var st=b.updateQueue;if(st!==null){st=st.shared;var ft=st.pending;ft===null?ot.next=ot:(ot.next=ft.next,ft.next=ot),st.pending=ot}}b.lanes|=a,ot=b.alternate,ot!==null&&(ot.lanes|=a),bh(b.return,a,s),nt.lanes|=a;break}ot=ot.next}}else if(b.tag===10)tt=b.type===s.type?null:b.child;else if(b.tag===18){if(tt=b.return,tt===null)throw Error(p(341));tt.lanes|=a,nt=tt.alternate,nt!==null&&(nt.lanes|=a),bh(tt,a,s),tt=b.sibling}else tt=b.child;if(tt!==null)tt.return=b;else for(tt=b;tt!==null;){if(tt===s){tt=null;break}if(b=tt.sibling,b!==null){b.return=tt.return,tt=b;break}tt=tt.return}b=tt}Xi(e,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,ch(s,a),h=eh(h),c=c(h),s.flags|=1,Xi(e,s,c,a),s.child;case 14:return c=s.type,h=Ci(c,s.pendingProps),h=Ci(c.type,h),$i(e,s,c,h,a);case 15:return bj(e,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Ci(c,h),ij(e,s),s.tag=1,Zf(c)?(e=!0,cg(s)):e=!1,ch(s,a),Gi(s,c,h),Ii(s,c,h,a),jj(null,s,c,!0,e,a);case 19:return xj(e,s,a);case 22:return dj(e,s,a)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,a,c){return new $k(e,s,a,c)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var a=e.alternate;return a===null?(a=Bg(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Rg(e,s,a,c,h,b){var tt=2;if(c=e,typeof e=="function")aj(e)&&(tt=1);else if(typeof e=="string")tt=5;else e:switch(e){case ya:return Tg(a.children,h,b,s);case za:tt=8,h|=8;break;case Aa:return e=Bg(12,a,s,h|2),e.elementType=Aa,e.lanes=b,e;case Ea:return e=Bg(13,a,s,h),e.elementType=Ea,e.lanes=b,e;case Fa:return e=Bg(19,a,s,h),e.elementType=Fa,e.lanes=b,e;case Ia:return pj(a,h,b,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,c=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(tt,a,s,h),s.elementType=e,s.type=c,s.lanes=b,s}function Tg(e,s,a,c){return e=Bg(7,e,c,s),e.lanes=a,e}function pj(e,s,a,c){return e=Bg(22,e,c,s),e.elementType=Ia,e.lanes=a,e.stateNode={isHidden:!1},e}function Qg(e,s,a){return e=Bg(6,e,null,s),e.lanes=a,e}function Sg(e,s,a){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,a,c,h){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function bl(e,s,a,c,h,b,tt,nt,ot){return e=new al(e,s,a,nt,ot),s===1?(s=1,b===!0&&(s|=8)):s=0,b=Bg(3,null,null,s),e.current=b,b.stateNode=e,b.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(b),e}function cl(e,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:c==null?null:""+c,children:e,containerInfo:s,implementation:a}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var a=e.type;if(Zf(a))return bg(e,a,s)}return s}function el(e,s,a,c,h,b,tt,nt,ot){return e=bl(a,c,!0,e,h,b,tt,nt,ot),e.context=dl(null),a=e.current,c=R$1(),h=yi(a),b=mh(c,h),b.callback=s??null,nh(a,b,h),e.current.lanes=h,Ac(e,h,c),Dk(e,c),e}function fl(e,s,a,c){var h=s.current,b=R$1(),tt=yi(h);return a=dl(a),s.context===null?s.context=a:s.pendingContext=a,s=mh(b,tt),s.payload={element:e},c=c===void 0?null:c,c!==null&&(s.callback=c),e=nh(h,s,tt),e!==null&&(gi(e,h,tt,b),oh(e,h,tt)),tt}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Qc.length&&s!==0&&s<Qc[a].priority;a++);Qc.splice(a,0,e),a===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,a,c,h){if(h){if(typeof c=="function"){var b=c;c=function(){var st=gl(tt);b.call(st)}}var tt=el(s,c,e,0,null,!1,!1,"",pl);return e._reactRootContainer=tt,e[uf]=tt.current,sf(e.nodeType===8?e.parentNode:e),Rk(),tt}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var nt=c;c=function(){var st=gl(ot);nt.call(st)}}var ot=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=ot,e[uf]=ot.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,ot,a,c)}),ot}function rl(e,s,a,c,h){var b=a._reactRootContainer;if(b){var tt=b;if(typeof h=="function"){var nt=h;h=function(){var ot=gl(tt);nt.call(ot)}}fl(s,tt,e,h)}else tt=ql(a,s,e,h,c);return gl(tt)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var a=tc(s.pendingLanes);a!==0&&(Cc(s,a|1),Dk(s,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var c=ih(e,1);if(c!==null){var h=R$1();gi(c,e,1,h)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var a=R$1();gi(s,e,134217728,a)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),a=ih(e,s);if(a!==null){var c=R$1();gi(a,e,s,c)}il(e,s)}};Hc=function(){return C$1};Ic=function(e,s){var a=C$1;try{return C$1=e,s()}finally{C$1=a}};yb=function(e,s,a){switch(s){case"input":if(bb(e,a),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==e&&c.form===e.form){var h=Db(c);if(!h)throw Error(p(90));Wa(c),bb(c,h)}}}break;case"textarea":ib(e,a);break;case"select":s=a.value,s!=null&&fb(e,!!a.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,a)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var a=!1,c="",h=kl;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=bl(e,1,!1,null,null,a,!1,c,h),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,a){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,a)};reactDom_production_min.hydrateRoot=function(e,s,a){if(!nl(e))throw Error(p(405));var c=a!=null&&a.hydratedSources||null,h=!1,b="",tt=kl;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(b=a.identifierPrefix),a.onRecoverableError!==void 0&&(tt=a.onRecoverableError)),s=el(s,null,e,1,a??null,h,!1,b,tt),e[uf]=s.current,sf(e),c)for(e=0;e<c.length;e++)a=c[e],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new ml(s)};reactDom_production_min.render=function(e,s,a){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,a)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,a,c){if(!ol(a))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,a,!1,c)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;var dayjs_min={exports:{}};(function(e,s){(function(a,c){e.exports=c()})(commonjsGlobal,function(){var a=1e3,c=6e4,h=36e5,b="millisecond",tt="second",nt="minute",ot="hour",st="day",ft="week",ht="month",gt="quarter",yt="year",Et="date",wt="Invalid Date",bt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,mt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,vt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(It){var $t=["th","st","nd","rd"],_t=It%100;return"["+It+($t[(_t-20)%10]||$t[_t]||$t[0])+"]"}},xt=function(It,$t,_t){var Bt=String(It);return!Bt||Bt.length>=$t?It:""+Array($t+1-Bt.length).join(_t)+It},kt={s:xt,z:function(It){var $t=-It.utcOffset(),_t=Math.abs($t),Bt=Math.floor(_t/60),Tt=_t%60;return($t<=0?"+":"-")+xt(Bt,2,"0")+":"+xt(Tt,2,"0")},m:function It($t,_t){if($t.date()<_t.date())return-It(_t,$t);var Bt=12*(_t.year()-$t.year())+(_t.month()-$t.month()),Tt=$t.clone().add(Bt,ht),jt=_t-Tt<0,Ft=$t.clone().add(Bt+(jt?-1:1),ht);return+(-(Bt+(_t-Tt)/(jt?Tt-Ft:Ft-Tt))||0)},a:function(It){return It<0?Math.ceil(It)||0:Math.floor(It)},p:function(It){return{M:ht,y:yt,w:ft,d:st,D:Et,h:ot,m:nt,s:tt,ms:b,Q:gt}[It]||String(It||"").toLowerCase().replace(/s$/,"")},u:function(It){return It===void 0}},Lt="en",Ct={};Ct[Lt]=vt;var St="$isDayjsObject",Pt=function(It){return It instanceof Nt||!(!It||!It[St])},Ot=function It($t,_t,Bt){var Tt;if(!$t)return Lt;if(typeof $t=="string"){var jt=$t.toLowerCase();Ct[jt]&&(Tt=jt),_t&&(Ct[jt]=_t,Tt=jt);var Ft=$t.split("-");if(!Tt&&Ft.length>1)return It(Ft[0])}else{var Ut=$t.name;Ct[Ut]=$t,Tt=Ut}return!Bt&&Tt&&(Lt=Tt),Tt||!Bt&&Lt},zt=function(It,$t){if(Pt(It))return It.clone();var _t=typeof $t=="object"?$t:{};return _t.date=It,_t.args=arguments,new Nt(_t)},Rt=kt;Rt.l=Ot,Rt.i=Pt,Rt.w=function(It,$t){return zt(It,{locale:$t.$L,utc:$t.$u,x:$t.$x,$offset:$t.$offset})};var Nt=function(){function It(_t){this.$L=Ot(_t.locale,null,!0),this.parse(_t),this.$x=this.$x||_t.x||{},this[St]=!0}var $t=It.prototype;return $t.parse=function(_t){this.$d=function(Bt){var Tt=Bt.date,jt=Bt.utc;if(Tt===null)return new Date(NaN);if(Rt.u(Tt))return new Date;if(Tt instanceof Date)return new Date(Tt);if(typeof Tt=="string"&&!/Z$/i.test(Tt)){var Ft=Tt.match(bt);if(Ft){var Ut=Ft[2]-1||0,Ht=(Ft[7]||"0").substring(0,3);return jt?new Date(Date.UTC(Ft[1],Ut,Ft[3]||1,Ft[4]||0,Ft[5]||0,Ft[6]||0,Ht)):new Date(Ft[1],Ut,Ft[3]||1,Ft[4]||0,Ft[5]||0,Ft[6]||0,Ht)}}return new Date(Tt)}(_t),this.init()},$t.init=function(){var _t=this.$d;this.$y=_t.getFullYear(),this.$M=_t.getMonth(),this.$D=_t.getDate(),this.$W=_t.getDay(),this.$H=_t.getHours(),this.$m=_t.getMinutes(),this.$s=_t.getSeconds(),this.$ms=_t.getMilliseconds()},$t.$utils=function(){return Rt},$t.isValid=function(){return this.$d.toString()!==wt},$t.isSame=function(_t,Bt){var Tt=zt(_t);return this.startOf(Bt)<=Tt&&Tt<=this.endOf(Bt)},$t.isAfter=function(_t,Bt){return zt(_t)<this.startOf(Bt)},$t.isBefore=function(_t,Bt){return this.endOf(Bt)<zt(_t)},$t.$g=function(_t,Bt,Tt){return Rt.u(_t)?this[Bt]:this.set(Tt,_t)},$t.unix=function(){return Math.floor(this.valueOf()/1e3)},$t.valueOf=function(){return this.$d.getTime()},$t.startOf=function(_t,Bt){var Tt=this,jt=!!Rt.u(Bt)||Bt,Ft=Rt.p(_t),Ut=function(Yt,Xt){var Kt=Rt.w(Tt.$u?Date.UTC(Tt.$y,Xt,Yt):new Date(Tt.$y,Xt,Yt),Tt);return jt?Kt:Kt.endOf(st)},Ht=function(Yt,Xt){return Rt.w(Tt.toDate()[Yt].apply(Tt.toDate("s"),(jt?[0,0,0,0]:[23,59,59,999]).slice(Xt)),Tt)},Dt=this.$W,Vt=this.$M,Gt=this.$D,Wt="set"+(this.$u?"UTC":"");switch(Ft){case yt:return jt?Ut(1,0):Ut(31,11);case ht:return jt?Ut(1,Vt):Ut(0,Vt+1);case ft:var qt=this.$locale().weekStart||0,Qt=(Dt<qt?Dt+7:Dt)-qt;return Ut(jt?Gt-Qt:Gt+(6-Qt),Vt);case st:case Et:return Ht(Wt+"Hours",0);case ot:return Ht(Wt+"Minutes",1);case nt:return Ht(Wt+"Seconds",2);case tt:return Ht(Wt+"Milliseconds",3);default:return this.clone()}},$t.endOf=function(_t){return this.startOf(_t,!1)},$t.$set=function(_t,Bt){var Tt,jt=Rt.p(_t),Ft="set"+(this.$u?"UTC":""),Ut=(Tt={},Tt[st]=Ft+"Date",Tt[Et]=Ft+"Date",Tt[ht]=Ft+"Month",Tt[yt]=Ft+"FullYear",Tt[ot]=Ft+"Hours",Tt[nt]=Ft+"Minutes",Tt[tt]=Ft+"Seconds",Tt[b]=Ft+"Milliseconds",Tt)[jt],Ht=jt===st?this.$D+(Bt-this.$W):Bt;if(jt===ht||jt===yt){var Dt=this.clone().set(Et,1);Dt.$d[Ut](Ht),Dt.init(),this.$d=Dt.set(Et,Math.min(this.$D,Dt.daysInMonth())).$d}else Ut&&this.$d[Ut](Ht);return this.init(),this},$t.set=function(_t,Bt){return this.clone().$set(_t,Bt)},$t.get=function(_t){return this[Rt.p(_t)]()},$t.add=function(_t,Bt){var Tt,jt=this;_t=Number(_t);var Ft=Rt.p(Bt),Ut=function(Vt){var Gt=zt(jt);return Rt.w(Gt.date(Gt.date()+Math.round(Vt*_t)),jt)};if(Ft===ht)return this.set(ht,this.$M+_t);if(Ft===yt)return this.set(yt,this.$y+_t);if(Ft===st)return Ut(1);if(Ft===ft)return Ut(7);var Ht=(Tt={},Tt[nt]=c,Tt[ot]=h,Tt[tt]=a,Tt)[Ft]||1,Dt=this.$d.getTime()+_t*Ht;return Rt.w(Dt,this)},$t.subtract=function(_t,Bt){return this.add(-1*_t,Bt)},$t.format=function(_t){var Bt=this,Tt=this.$locale();if(!this.isValid())return Tt.invalidDate||wt;var jt=_t||"YYYY-MM-DDTHH:mm:ssZ",Ft=Rt.z(this),Ut=this.$H,Ht=this.$m,Dt=this.$M,Vt=Tt.weekdays,Gt=Tt.months,Wt=Tt.meridiem,qt=function(Xt,Kt,Zt,Jt){return Xt&&(Xt[Kt]||Xt(Bt,jt))||Zt[Kt].slice(0,Jt)},Qt=function(Xt){return Rt.s(Ut%12||12,Xt,"0")},Yt=Wt||function(Xt,Kt,Zt){var Jt=Xt<12?"AM":"PM";return Zt?Jt.toLowerCase():Jt};return jt.replace(mt,function(Xt,Kt){return Kt||function(Zt){switch(Zt){case"YY":return String(Bt.$y).slice(-2);case"YYYY":return Rt.s(Bt.$y,4,"0");case"M":return Dt+1;case"MM":return Rt.s(Dt+1,2,"0");case"MMM":return qt(Tt.monthsShort,Dt,Gt,3);case"MMMM":return qt(Gt,Dt);case"D":return Bt.$D;case"DD":return Rt.s(Bt.$D,2,"0");case"d":return String(Bt.$W);case"dd":return qt(Tt.weekdaysMin,Bt.$W,Vt,2);case"ddd":return qt(Tt.weekdaysShort,Bt.$W,Vt,3);case"dddd":return Vt[Bt.$W];case"H":return String(Ut);case"HH":return Rt.s(Ut,2,"0");case"h":return Qt(1);case"hh":return Qt(2);case"a":return Yt(Ut,Ht,!0);case"A":return Yt(Ut,Ht,!1);case"m":return String(Ht);case"mm":return Rt.s(Ht,2,"0");case"s":return String(Bt.$s);case"ss":return Rt.s(Bt.$s,2,"0");case"SSS":return Rt.s(Bt.$ms,3,"0");case"Z":return Ft}return null}(Xt)||Ft.replace(":","")})},$t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$t.diff=function(_t,Bt,Tt){var jt,Ft=this,Ut=Rt.p(Bt),Ht=zt(_t),Dt=(Ht.utcOffset()-this.utcOffset())*c,Vt=this-Ht,Gt=function(){return Rt.m(Ft,Ht)};switch(Ut){case yt:jt=Gt()/12;break;case ht:jt=Gt();break;case gt:jt=Gt()/3;break;case ft:jt=(Vt-Dt)/6048e5;break;case st:jt=(Vt-Dt)/864e5;break;case ot:jt=Vt/h;break;case nt:jt=Vt/c;break;case tt:jt=Vt/a;break;default:jt=Vt}return Tt?jt:Rt.a(jt)},$t.daysInMonth=function(){return this.endOf(ht).$D},$t.$locale=function(){return Ct[this.$L]},$t.locale=function(_t,Bt){if(!_t)return this.$L;var Tt=this.clone(),jt=Ot(_t,Bt,!0);return jt&&(Tt.$L=jt),Tt},$t.clone=function(){return Rt.w(this.$d,this)},$t.toDate=function(){return new Date(this.valueOf())},$t.toJSON=function(){return this.isValid()?this.toISOString():null},$t.toISOString=function(){return this.$d.toISOString()},$t.toString=function(){return this.$d.toUTCString()},It}(),Mt=Nt.prototype;return zt.prototype=Mt,[["$ms",b],["$s",tt],["$m",nt],["$H",ot],["$W",st],["$M",ht],["$y",yt],["$D",Et]].forEach(function(It){Mt[It[1]]=function($t){return this.$g($t,It[0],It[1])}}),zt.extend=function(It,$t){return It.$i||(It($t,Nt,zt),It.$i=!0),zt},zt.locale=Ot,zt.isDayjs=Pt,zt.unix=function(It){return zt(1e3*It)},zt.en=Ct[Lt],zt.Ls=Ct,zt.p={},zt})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);function SearchIcon(){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M21.71 20.29L18 16.61C19.4401 14.8144 20.1375 12.5353 19.9488 10.2413C19.7601 7.94731 18.6997 5.81279 16.9855 4.27665C15.2714 2.74051 13.0338 1.91951 10.7329 1.98247C8.43207 2.04543 6.24275 2.98757 4.61517 4.61515C2.98759 6.24273 2.04546 8.43204 1.9825 10.7329C1.91954 13.0338 2.74053 15.2714 4.27667 16.9855C5.81281 18.6997 7.94733 19.7601 10.2413 19.9488C12.5353 20.1375 14.8144 19.4401 16.61 18L20.29 21.68C20.383 21.7737 20.4936 21.8481 20.6154 21.8989C20.7373 21.9497 20.868 21.9758 21 21.9758C21.132 21.9758 21.2627 21.9497 21.3846 21.8989C21.5065 21.8481 21.6171 21.7737 21.71 21.68C21.8903 21.4935 21.991 21.2443 21.991 20.985C21.991 20.7257 21.8903 20.4765 21.71 20.29ZM11 18C9.61556 18 8.26218 17.5895 7.11103 16.8203C5.95989 16.0511 5.06268 14.9579 4.53287 13.6788C4.00306 12.3997 3.86443 10.9922 4.13453 9.63437C4.40463 8.2765 5.07131 7.02922 6.05028 6.05026C7.02925 5.07129 8.27653 4.4046 9.63439 4.13451C10.9923 3.86441 12.3997 4.00303 13.6788 4.53285C14.9579 5.06266 16.0511 5.95987 16.8203 7.11101C17.5895 8.26216 18 9.61553 18 11C18 12.8565 17.2625 14.637 15.9498 15.9498C14.637 17.2625 12.8565 18 11 18Z",fill:"#878787"})})}function HeartIcon({isSelected:e=!0}){return jsxRuntimeExports.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M30 54.095H29.965C23.5075 53.975 4.87503 37.14 4.87503 21.195C4.87503 13.535 11.1875 6.81 18.3825 6.81C24.1075 6.81 27.9575 10.76 29.9975 13.635C32.0325 10.765 35.8825 6.81 41.61 6.81C48.81 6.81 55.12 13.535 55.12 21.1975C55.12 37.1375 36.485 53.9725 30.0275 54.09H30V54.095Z",fill:e?"white":"none"}),jsxRuntimeExports.jsx("path",{d:"M30 54.095H29.965C23.5075 53.975 4.87503 37.14 4.87503 21.195C4.87503 13.535 11.1875 6.81 18.3825 6.81C24.1075 6.81 27.9575 10.76 29.9975 13.635C32.0325 10.765 35.8825 6.81 41.61 6.81C48.81 6.81 55.12 13.535 55.12 21.1975C55.12 37.1375 36.485 53.9725 30.0275 54.09H30V54.095ZM18.385 10.5625C13.185 10.5625 8.62753 15.5325 8.62753 21.2C8.62753 35.55 26.2125 50.19 30.0025 50.345C33.7975 50.19 51.3775 35.5525 51.3775 21.2C51.3775 15.5325 46.82 10.5625 41.62 10.5625C35.3 10.5625 31.77 17.9025 31.74 17.975C31.165 19.38 28.85 19.38 28.2725 17.975C28.2375 17.9 24.7075 10.5625 18.385 10.5625Z",fill:"white",stroke:"white","stroke-width":"0.520833"})]})}function CopyIcon(){return jsxRuntimeExports.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M50 22.5H27.5C24.7386 22.5 22.5 24.7386 22.5 27.5V50C22.5 52.7614 24.7386 55 27.5 55H50C52.7614 55 55 52.7614 55 50V27.5C55 24.7386 52.7614 22.5 50 22.5Z",fill:"white",stroke:"white","stroke-width":"2.08333","stroke-linecap":"round","stroke-linejoin":"round"}),jsxRuntimeExports.jsx("path",{d:"M12.5 37.5H10C8.67392 37.5 7.40215 36.9732 6.46447 36.0355C5.52678 35.0978 5 33.8261 5 32.5V10C5 8.67392 5.52678 7.40215 6.46447 6.46447C7.40215 5.52678 8.67392 5 10 5H32.5C33.8261 5 35.0978 5.52678 36.0355 6.46447C36.9732 7.40215 37.5 8.67392 37.5 10V12.5",stroke:"white","stroke-width":"2.08333","stroke-linecap":"round","stroke-linejoin":"round"})]})}function DownloadIcon(){return jsxRuntimeExports.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M35 25V31.6667C35 32.5507 34.6488 33.3986 34.0237 34.0237C33.3986 34.6488 32.5507 35 31.6667 35H8.33333C7.44928 35 6.60143 34.6488 5.97631 34.0237C5.35119 33.3986 5 32.5507 5 31.6667V25",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),jsxRuntimeExports.jsx("path",{d:"M11.6667 16.6667L20 25L28.3333 16.6667",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),jsxRuntimeExports.jsx("path",{d:"M20 25V5",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}function HeartIcon2(){return jsxRuntimeExports.jsx("svg",{width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M12 5.881C12.981 4.729 14.484 4 16.05 4C18.822 4 21 6.178 21 8.95C21 12.3492 17.945 15.1195 13.3164 19.3167L13.305 19.327L12 20.515L10.695 19.336L10.6595 19.3037C6.04437 15.1098 3 12.3433 3 8.95C3 6.178 5.178 4 7.95 4C9.516 4 11.019 4.729 12 5.881Z",fill:"#F9595F"})})}function Bitcoin(){return jsxRuntimeExports.jsx("svg",{width:"25",height:"25",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M18 1.5C14.7366 1.5 11.5465 2.46771 8.8331 4.28075C6.11969 6.09379 4.00484 8.67074 2.756 11.6857C1.50715 14.7007 1.18039 18.0183 1.81705 21.219C2.45371 24.4197 4.02518 27.3597 6.33275 29.6673C8.64031 31.9748 11.5803 33.5463 14.781 34.183C17.9817 34.8196 21.2993 34.4929 24.3143 33.244C27.3293 31.9952 29.9062 29.8803 31.7193 27.1669C33.5323 24.4535 34.5 21.2634 34.5 18C34.5 13.6239 32.7616 9.42709 29.6673 6.33274C26.5729 3.23839 22.3761 1.5 18 1.5V1.5ZM18 31.5C15.33 31.5 12.7199 30.7082 10.4998 29.2248C8.27975 27.7414 6.54942 25.633 5.52763 23.1662C4.50585 20.6994 4.23851 17.985 4.75941 15.3663C5.28031 12.7475 6.56606 10.3421 8.45407 8.45406C10.3421 6.56605 12.7475 5.2803 15.3663 4.7594C17.985 4.2385 20.6994 4.50584 23.1662 5.52763C25.633 6.54941 27.7414 8.27974 29.2248 10.4998C30.7082 12.7199 31.5 15.33 31.5 18C31.5 21.5804 30.0777 25.0142 27.5459 27.5459C25.0142 30.0777 21.5804 31.5 18 31.5V31.5ZM21 10.5V9C21 8.60218 20.842 8.22065 20.5607 7.93934C20.2794 7.65804 19.8978 7.5 19.5 7.5C19.1022 7.5 18.7207 7.65804 18.4393 7.93934C18.158 8.22065 18 8.60218 18 9V10.5H16.5V9C16.5 8.60218 16.342 8.22065 16.0607 7.93934C15.7794 7.65804 15.3978 7.5 15 7.5C14.6022 7.5 14.2207 7.65804 13.9393 7.93934C13.658 8.22065 13.5 8.60218 13.5 9V10.5H12C11.6022 10.5 11.2207 10.658 10.9393 10.9393C10.658 11.2206 10.5 11.6022 10.5 12C10.5 12.3978 10.658 12.7794 10.9393 13.0607C11.2207 13.342 11.6022 13.5 12 13.5H13.5V22.5H12C11.6022 22.5 11.2207 22.658 10.9393 22.9393C10.658 23.2206 10.5 23.6022 10.5 24C10.5 24.3978 10.658 24.7794 10.9393 25.0607C11.2207 25.342 11.6022 25.5 12 25.5H13.5V27C13.5 27.3978 13.658 27.7794 13.9393 28.0607C14.2207 28.342 14.6022 28.5 15 28.5C15.3978 28.5 15.7794 28.342 16.0607 28.0607C16.342 27.7794 16.5 27.3978 16.5 27V25.5H18V27C18 27.3978 18.158 27.7794 18.4393 28.0607C18.7207 28.342 19.1022 28.5 19.5 28.5C19.8978 28.5 20.2794 28.342 20.5607 28.0607C20.842 27.7794 21 27.3978 21 27V25.5C22.1935 25.5 23.3381 25.0259 24.182 24.182C25.0259 23.3381 25.5 22.1935 25.5 21C25.4975 19.8919 25.0862 18.8237 24.345 18C25.0862 17.1763 25.4975 16.1081 25.5 15C25.5 13.8065 25.0259 12.6619 24.182 11.818C23.3381 10.9741 22.1935 10.5 21 10.5V10.5ZM21 22.5H16.5V19.5H21C21.3978 19.5 21.7794 19.658 22.0607 19.9393C22.342 20.2206 22.5 20.6022 22.5 21C22.5 21.3978 22.342 21.7794 22.0607 22.0607C21.7794 22.342 21.3978 22.5 21 22.5ZM21 16.5H16.5V13.5H21C21.3978 13.5 21.7794 13.658 22.0607 13.9393C22.342 14.2206 22.5 14.6022 22.5 15C22.5 15.3978 22.342 15.7794 22.0607 16.0607C21.7794 16.342 21.3978 16.5 21 16.5Z",fill:"#FE983B"})})}function Bulb(){return jsxRuntimeExports.jsx("svg",{fill:"#00ffe1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"30px",height:"30px",children:jsxRuntimeExports.jsx("path",{d:"M 6.5292969 2.515625 A 1 1 0 0 0 5.8085938 2.8085938 A 1 1 0 0 0 5.8085938 4.2226562 A 1 1 0 0 0 7.2226562 4.2226562 A 1 1 0 0 0 7.2226562 2.8085938 A 1 1 0 0 0 6.5292969 2.515625 z M 23.5 2.515625 A 1 1 0 0 0 22.777344 2.8085938 A 1 1 0 0 0 22.777344 4.2226562 A 1 1 0 0 0 24.191406 4.2226562 A 1 1 0 0 0 24.191406 2.8085938 A 1 1 0 0 0 23.5 2.515625 z M 15 3 C 10.029 3 6 7.029 6 12 C 6 17 10 19 12 23 L 18 23 C 20 19 24 17 24 12 C 24 7.029 19.971 3 15 3 z M 15 6 L 15 11 L 19 11 L 15 18 L 15 13 L 11 13 L 15 6 z M 3 11 A 1 1 0 0 0 2 12 A 1 1 0 0 0 3 13 A 1 1 0 0 0 4 12 A 1 1 0 0 0 3 11 z M 27 11 A 1 1 0 0 0 26 12 A 1 1 0 0 0 27 13 A 1 1 0 0 0 28 12 A 1 1 0 0 0 27 11 z M 6.5292969 19.484375 A 1 1 0 0 0 5.8066406 19.777344 A 1 1 0 0 0 5.8066406 21.191406 A 1 1 0 0 0 7.2226562 21.191406 A 1 1 0 0 0 7.2226562 19.777344 A 1 1 0 0 0 6.5292969 19.484375 z M 23.498047 19.486328 A 1 1 0 0 0 22.777344 19.777344 A 1 1 0 0 0 22.777344 21.193359 A 1 1 0 0 0 24.191406 21.193359 A 1 1 0 0 0 24.191406 19.777344 A 1 1 0 0 0 23.498047 19.486328 z M 12 25 L 12 26 C 12 27.105 12.895 28 14 28 A 1 1 0 0 0 15 29 A 1 1 0 0 0 16 28 C 17.105 28 18 27.105 18 26 L 18 25 L 12 25 z"})})}function VerificationCheck(){return jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 13 12",fill:"#ca077c",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.50941 0L9.53314 1.94972L11.759 2.29179L11.4059 4.4533L13 6.00021L11.4061 7.54734L11.7585 9.7082L9.53201 10.0503L8.50838 12L6.4994 11.0066L4.49194 11.9996L3.46887 10.0502L1.24134 9.70816L1.59414 7.5473L0 6.00038L1.59392 4.45325L1.24147 2.29239L3.46783 1.94984L4.49111 0.000754215L6.49943 0.993864L8.50941 0ZM4.11667 5.72772L3.25 6.60044L5.41667 8.78226L9.75 4.41863L8.88333 3.5459L5.41667 7.03681L4.11667 5.72772Z",fill:"#ca077c"})})}function Relays(){return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M14.9999 10.9999H9.99989C9.73467 10.9999 9.48032 11.1053 9.29278 11.2928C9.10525 11.4803 8.99989 11.7347 8.99989 11.9999V19.9999C8.99962 20.1816 9.04884 20.3599 9.14227 20.5157C9.23569 20.6715 9.3698 20.7989 9.53018 20.8842C9.69056 20.9696 9.87116 21.0096 10.0526 21C10.234 20.9904 10.4094 20.9316 10.5599 20.8299L12.4999 19.5299L14.3899 20.7899C14.5644 20.9254 14.7789 20.9992 14.9999 20.9999C15.1523 21.0005 15.3028 20.9663 15.4399 20.8999C15.6082 20.8174 15.7499 20.6893 15.8489 20.5302C15.948 20.3711 16.0003 20.1873 15.9999 19.9999V11.9999C15.9999 11.7347 15.8945 11.4803 15.707 11.2928C15.5195 11.1053 15.2651 10.9999 14.9999 10.9999ZM13.9999 18.1199L13.0599 17.4899C12.8945 17.3781 12.6995 17.3184 12.4999 17.3184C12.3003 17.3184 12.1053 17.3781 11.9399 17.4899L10.9999 18.1299V12.9999H13.9999V18.1199ZM18.4199 7.21989C17.8089 5.8159 16.7544 4.65097 15.418 3.90362C14.0815 3.15627 12.5369 2.86773 11.0209 3.0822C9.50477 3.29668 8.10082 4.00235 7.02415 5.09107C5.94747 6.17979 5.25748 7.59151 5.05989 9.10989C4.10648 9.33822 3.27011 9.90873 2.70963 10.7131C2.14914 11.5174 1.90357 12.4996 2.01955 13.4731C2.13553 14.4466 2.60498 15.3436 3.33876 15.9938C4.07253 16.6439 5.01952 17.002 5.99989 16.9999C6.26511 16.9999 6.51946 16.8945 6.707 16.707C6.89453 16.5195 6.99989 16.2651 6.99989 15.9999C6.99989 15.7347 6.89453 15.4803 6.707 15.2928C6.51946 15.1053 6.26511 14.9999 5.99989 14.9999C5.46946 14.9999 4.96075 14.7892 4.58568 14.4141C4.2106 14.039 3.99989 13.5303 3.99989 12.9999C3.99989 12.4695 4.2106 11.9608 4.58568 11.5857C4.96075 11.2106 5.46946 10.9999 5.99989 10.9999C6.26511 10.9999 6.51946 10.8945 6.707 10.707C6.89453 10.5195 6.99989 10.2651 6.99989 9.99989C7.00244 8.81717 7.42418 7.67365 8.19016 6.77248C8.95614 5.87131 10.0168 5.27085 11.1836 5.07777C12.3505 4.88469 13.548 5.1115 14.5635 5.7179C15.5789 6.32431 16.3465 7.27103 16.7299 8.38989C16.7871 8.56173 16.8898 8.71483 17.0272 8.83283C17.1646 8.95083 17.3314 9.02931 17.5099 9.0599C18.1112 9.16874 18.665 9.45863 19.0971 9.89078C19.5292 10.3229 19.819 10.8767 19.9277 11.4781C20.0364 12.0794 19.9589 12.6997 19.7056 13.2558C19.4522 13.8119 19.035 14.2774 18.5099 14.5899C18.2792 14.7225 18.1105 14.9413 18.0412 15.1983C17.9718 15.4552 18.0073 15.7292 18.1399 15.9599C18.2725 16.1906 18.4913 16.3592 18.7483 16.4286C19.0052 16.498 19.2792 16.4625 19.5099 16.3299C20.2681 15.8898 20.8973 15.2581 21.3343 14.4981C21.7714 13.7381 22.0009 12.8766 21.9999 11.9999C21.9969 10.924 21.6469 9.87783 21.0019 9.0167C20.357 8.15557 19.4515 7.52544 18.4199 7.21989Z",fill:"#FFF"})})}function Close(){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M13.41 12L17.71 7.71C17.8983 7.5217 18.0041 7.2663 18.0041 7C18.0041 6.7337 17.8983 6.47831 17.71 6.29C17.5217 6.1017 17.2663 5.99591 17 5.99591C16.7337 5.99591 16.4783 6.1017 16.29 6.29L12 10.59L7.71 6.29C7.5217 6.1017 7.2663 5.99591 7 5.99591C6.7337 5.99591 6.4783 6.1017 6.29 6.29C6.1017 6.47831 5.99591 6.7337 5.99591 7C5.99591 7.2663 6.1017 7.5217 6.29 7.71L10.59 12L6.29 16.29C6.19627 16.383 6.12188 16.4936 6.07111 16.6154C6.02034 16.7373 5.9942 16.868 5.9942 17C5.9942 17.132 6.02034 17.2627 6.07111 17.3846C6.12188 17.5064 6.19627 17.617 6.29 17.71C6.38296 17.8037 6.49356 17.8781 6.61542 17.9289C6.73728 17.9797 6.86799 18.0058 7 18.0058C7.13201 18.0058 7.26272 17.9797 7.38458 17.9289C7.50644 17.8781 7.61704 17.8037 7.71 17.71L12 13.41L16.29 17.71C16.383 17.8037 16.4936 17.8781 16.6154 17.9289C16.7373 17.9797 16.868 18.0058 17 18.0058C17.132 18.0058 17.2627 17.9797 17.3846 17.9289C17.5064 17.8781 17.617 17.8037 17.71 17.71C17.8037 17.617 17.8781 17.5064 17.9289 17.3846C17.9797 17.2627 18.0058 17.132 18.0058 17C18.0058 16.868 17.9797 16.7373 17.9289 16.6154C17.8781 16.4936 17.8037 16.383 17.71 16.29L13.41 12Z",fill:"#848484"})})}function Delete(){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M10 18C10.2652 18 10.5196 17.8946 10.7071 17.7071C10.8946 17.5196 11 17.2652 11 17V11C11 10.7348 10.8946 10.4804 10.7071 10.2929C10.5196 10.1054 10.2652 10 10 10C9.73478 10 9.48043 10.1054 9.29289 10.2929C9.10536 10.4804 9 10.7348 9 11V17C9 17.2652 9.10536 17.5196 9.29289 17.7071C9.48043 17.8946 9.73478 18 10 18ZM20 6H16V5C16 4.20435 15.6839 3.44129 15.1213 2.87868C14.5587 2.31607 13.7956 2 13 2H11C10.2044 2 9.44129 2.31607 8.87868 2.87868C8.31607 3.44129 8 4.20435 8 5V6H4C3.73478 6 3.48043 6.10536 3.29289 6.29289C3.10536 6.48043 3 6.73478 3 7C3 7.26522 3.10536 7.51957 3.29289 7.70711C3.48043 7.89464 3.73478 8 4 8H5V19C5 19.7956 5.31607 20.5587 5.87868 21.1213C6.44129 21.6839 7.20435 22 8 22H16C16.7956 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7956 19 19V8H20C20.2652 8 20.5196 7.89464 20.7071 7.70711C20.8946 7.51957 21 7.26522 21 7C21 6.73478 20.8946 6.48043 20.7071 6.29289C20.5196 6.10536 20.2652 6 20 6ZM10 5C10 4.73478 10.1054 4.48043 10.2929 4.29289C10.4804 4.10536 10.7348 4 11 4H13C13.2652 4 13.5196 4.10536 13.7071 4.29289C13.8946 4.48043 14 4.73478 14 5V6H10V5ZM17 19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H8C7.73478 20 7.48043 19.8946 7.29289 19.7071C7.10536 19.5196 7 19.2652 7 19V8H17V19ZM14 18C14.2652 18 14.5196 17.8946 14.7071 17.7071C14.8946 17.5196 15 17.2652 15 17V11C15 10.7348 14.8946 10.4804 14.7071 10.2929C14.5196 10.1054 14.2652 10 14 10C13.7348 10 13.4804 10.1054 13.2929 10.2929C13.1054 10.4804 13 10.7348 13 11V17C13 17.2652 13.1054 17.5196 13.2929 17.7071C13.4804 17.8946 13.7348 18 14 18Z",fill:"#FE3B3B"})})}function Plus(){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M19 11H13V5C13 4.73478 12.8946 4.48043 12.7071 4.29289C12.5196 4.10536 12.2652 4 12 4C11.7348 4 11.4804 4.10536 11.2929 4.29289C11.1054 4.48043 11 4.73478 11 5V11H5C4.73478 11 4.48043 11.1054 4.29289 11.2929C4.10536 11.4804 4 11.7348 4 12C4 12.2652 4.10536 12.5196 4.29289 12.7071C4.48043 12.8946 4.73478 13 5 13H11V19C11 19.2652 11.1054 19.5196 11.2929 19.7071C11.4804 19.8946 11.7348 20 12 20C12.2652 20 12.5196 19.8946 12.7071 19.7071C12.8946 19.5196 13 19.2652 13 19V13H19C19.2652 13 19.5196 12.8946 19.7071 12.7071C19.8946 12.5196 20 12.2652 20 12C20 11.7348 19.8946 11.4804 19.7071 11.2929C19.5196 11.1054 19.2652 11 19 11Z",fill:"#FFFFFF"})})}var __assign=function(){return __assign=Object.assign||function(s){for(var a,c=1,h=arguments.length;c<h;c++){a=arguments[c];for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(s[b]=a[b])}return s},__assign.apply(this,arguments)};function __spreadArray$2(e,s,a){if(a||arguments.length===2)for(var c=0,h=s.length,b;c<h;c++)(b||!(c in s))&&(b||(b=Array.prototype.slice.call(s,0,c)),b[c]=s[c]);return e.concat(b||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;var MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$3(e,s){return charat(e,0)^45?(((s<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,s){return(e=s.exec(e))?e[0]:e}function replace(e,s,a){return e.replace(s,a)}function indexof(e,s,a){return e.indexOf(s,a)}function charat(e,s){return e.charCodeAt(s)|0}function substr(e,s,a){return e.slice(s,a)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,s){return s.push(e),e}function combine(e,s){return e.map(s).join("")}function filter(e,s){return e.filter(function(a){return!match(a,s)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,s,a,c,h,b,tt,nt){return{value:e,root:s,parent:a,type:c,props:h,children:b,line,column,length:tt,return:"",siblings:nt}}function copy(e,s){return assign(node("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},s)}function lift(e){for(;e.root;)e=copy(e.root,{children:[e]});append(e,e.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(e,s){return substr(characters,e,s)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,s){for(;next()&&e+character!==57;)if(e+character===84&&peek()===47)break;return"/*"+slice(s,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token(peek());)next();return slice(e,position)}function compile(e){return dealloc(parse$1("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse$1(e,s,a,c,h,b,tt,nt,ot){for(var st=0,ft=0,ht=tt,gt=0,yt=0,Et=0,wt=1,bt=1,mt=1,vt=0,xt="",kt=h,Lt=b,Ct=c,St=xt;bt;)switch(Et=vt,vt=next()){case 40:if(Et!=108&&charat(St,ht-1)==58){indexof(St+=replace(delimit(vt),"&","&\f"),"&\f",abs(st?nt[st-1]:0))!=-1&&(mt=-1);break}case 34:case 39:case 91:St+=delimit(vt);break;case 9:case 10:case 13:case 32:St+=whitespace(Et);break;case 92:St+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,a,ot),ot);break;default:St+="/"}break;case 123*wt:nt[st++]=strlen(St)*mt;case 125*wt:case 59:case 0:switch(vt){case 0:case 125:bt=0;case 59+ft:mt==-1&&(St=replace(St,/\f/g,"")),yt>0&&strlen(St)-ht&&append(yt>32?declaration(St+";",c,a,ht-1,ot):declaration(replace(St," ","")+";",c,a,ht-2,ot),ot);break;case 59:St+=";";default:if(append(Ct=ruleset(St,s,a,st,ft,h,nt,xt,kt=[],Lt=[],ht,b),b),vt===123)if(ft===0)parse$1(St,s,Ct,Ct,kt,b,ht,nt,Lt);else switch(gt===99&&charat(St,3)===110?100:gt){case 100:case 108:case 109:case 115:parse$1(e,Ct,Ct,c&&append(ruleset(e,Ct,Ct,0,0,h,nt,xt,h,kt=[],ht,Lt),Lt),h,Lt,ht,nt,c?kt:Lt);break;default:parse$1(St,Ct,Ct,Ct,[""],Lt,0,nt,Lt)}}st=ft=yt=0,wt=mt=1,xt=St="",ht=tt;break;case 58:ht=1+strlen(St),yt=Et;default:if(wt<1){if(vt==123)--wt;else if(vt==125&&wt++==0&&prev()==125)continue}switch(St+=from(vt),vt*wt){case 38:mt=ft>0?1:(St+="\f",-1);break;case 44:nt[st++]=(strlen(St)-1)*mt,mt=1;break;case 64:peek()===45&&(St+=delimit(next())),gt=peek(),ft=ht=strlen(xt=St+=identifier(caret())),vt++;break;case 45:Et===45&&strlen(St)==2&&(wt=0)}}return b}function ruleset(e,s,a,c,h,b,tt,nt,ot,st,ft,ht){for(var gt=h-1,yt=h===0?b:[""],Et=sizeof(yt),wt=0,bt=0,mt=0;wt<c;++wt)for(var vt=0,xt=substr(e,gt+1,gt=abs(bt=tt[wt])),kt=e;vt<Et;++vt)(kt=trim(bt>0?yt[vt]+" "+xt:replace(xt,/&\f/g,yt[vt])))&&(ot[mt++]=kt);return node(e,s,a,h===0?RULESET:nt,ot,st,ft,ht)}function comment(e,s,a,c){return node(e,s,a,COMMENT,from(char()),substr(e,2,-2),0,c)}function declaration(e,s,a,c,h){return node(e,s,a,DECLARATION,substr(e,0,c),substr(e,c+1,-1),c,h)}function prefix(e,s,a){switch(hash$3(e,s)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 4789:return MOZ+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 5936:switch(charat(e,s+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/g,"")+(match(e,/flex-|baseline/)?"":MS+"grid-row-"+replace(e,/flex-|-self/g,""))+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/g,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4200:if(!match(e,/flex-|baseline/))return MS+"grid-column-align"+substr(e,s)+e;break;case 2592:case 3360:return MS+replace(e,"template-","")+e;case 4384:case 3616:return a&&a.some(function(c,h){return s=h,match(c.props,/grid-\w+-end/)})?~indexof(e+(a=a[s].value),"span",0)?e:MS+replace(e,"-start","")+e+MS+"grid-row-span:"+(~indexof(a,"span",0)?match(a,/\d+/):+match(a,/\d+/)-+match(e,/\d+/))+";":MS+replace(e,"-start","")+e;case 4896:case 4128:return a&&a.some(function(c){return match(c.props,/grid-\w+-start/)})?e:MS+replace(replace(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-s>6)switch(charat(e,s+1)){case 109:if(charat(e,s+4)!==45)break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(e,s+3)==108?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch",0)?prefix(replace(e,"stretch","fill-available"),s,a)+e:e}break;case 5152:case 5920:return replace(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(c,h,b,tt,nt,ot,st){return MS+h+":"+b+st+(tt?MS+h+"-span:"+(nt?ot:+ot-+b)+st:"")+e});case 4949:if(charat(e,s+6)===121)return replace(e,":",":"+WEBKIT)+e;break;case 6444:switch(charat(e,charat(e,14)===45?18:11)){case 120:return replace(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e;case 100:return replace(e,":",":"+MS)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(e,"scroll-","scroll-snap-")+e}return e}function serialize$1(e,s){for(var a="",c=0;c<e.length;c++)a+=s(e[c],c,e,s)||"";return a}function stringify(e,s,a,c){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize$1(e.children,c)+"}";case RULESET:if(!strlen(e.value=e.props.join(",")))return""}return strlen(a=serialize$1(e.children,c))?e.return=e.value+"{"+a+"}":""}function middleware(e){var s=sizeof(e);return function(a,c,h,b){for(var tt="",nt=0;nt<s;nt++)tt+=e[nt](a,c,h,b)||"";return tt}}function rulesheet(e){return function(s){s.root||(s=s.return)&&e(s)}}function prefixer(e,s,a,c){if(e.length>-1&&!e.return)switch(e.type){case DECLARATION:e.return=prefix(e.value,e.length,a);return;case KEYFRAMES:return serialize$1([copy(e,{value:replace(e.value,"@","@"+WEBKIT)})],c);case RULESET:if(e.length)return combine(a=e.props,function(h){switch(match(h,c=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(e,{props:[replace(h,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(e,{props:[h]})),assign(e,{props:filter(a,c)});break;case"::placeholder":lift(copy(e,{props:[replace(h,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(e,{props:[replace(h,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(e,{props:[replace(h,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(e,{props:[h]})),assign(e,{props:filter(a,c)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},define_process_env_default={},f=typeof process<"u"&&define_process_env_default!==void 0&&(define_process_env_default.REACT_APP_SC_ATTR||define_process_env_default.SC_ATTR)||"data-styled",m="active",y="data-styled-version",v="6.1.13",g=`/*!sc*/
`,S=typeof window<"u"&&"HTMLElement"in window,w=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==""?define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==""&&define_process_env_default.SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.SC_DISABLE_SPEEDY),_=Object.freeze([]),C=Object.freeze({});function I(e,s,a){return a===void 0&&(a=C),e.theme!==a.theme&&e.theme||s||a.theme}var A=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(e){return e.replace(O,"-").replace(D,"")}var T=/(a)(d)/gi,k=52,j=function(e){return String.fromCharCode(e+(e>25?39:97))};function x(e){var s,a="";for(s=Math.abs(e);s>k;s=s/k|0)a=j(s%k)+a;return(j(s%k)+a).replace(T,"$1-$2")}var V,F=5381,M=function(e,s){for(var a=s.length;a;)e=33*e^s.charCodeAt(--a);return e},z=function(e){return M(F,e)};function $(e){return x(z(e)>>>0)}function B(e){return e.displayName||e.name||"Component"}function L(e){return typeof e=="string"&&!0}var G=typeof Symbol=="function"&&Symbol.for,Y=G?Symbol.for("react.memo"):60115,W=G?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(e){return("type"in(s=e)&&s.type.$$typeof)===Y?U:"$$typeof"in e?J[e.$$typeof]:q;var s}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee$1=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(e,s,a){if(typeof s!="string"){if(ne){var c=te(s);c&&c!==ne&&oe(e,c,a)}var h=K(s);Q&&(h=h.concat(Q(s)));for(var b=X(e),tt=X(s),nt=0;nt<h.length;++nt){var ot=h[nt];if(!(ot in H||a&&a[ot]||tt&&ot in tt||b&&ot in b)){var st=ee$1(s,ot);try{Z(e,ot,st)}catch{}}}}return e}function re(e){return typeof e=="function"}function se(e){return typeof e=="object"&&"styledComponentId"in e}function ie(e,s){return e&&s?"".concat(e," ").concat(s):e||s||""}function ae(e,s){if(e.length===0)return"";for(var a=e[0],c=1;c<e.length;c++)a+=e[c];return a}function ce(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function le(e,s,a){if(a===void 0&&(a=!1),!a&&!ce(e)&&!Array.isArray(e))return s;if(Array.isArray(s))for(var c=0;c<s.length;c++)e[c]=le(e[c],s[c]);else if(ce(s))for(var c in s)e[c]=le(e[c],s[c]);return e}function ue(e,s){Object.defineProperty(e,"toString",{value:s})}function he(e){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(s.length>0?" Args: ".concat(s.join(", ")):""))}var fe$1=function(){function e(s){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=s}return e.prototype.indexOfGroup=function(s){for(var a=0,c=0;c<s;c++)a+=this.groupSizes[c];return a},e.prototype.insertRules=function(s,a){if(s>=this.groupSizes.length){for(var c=this.groupSizes,h=c.length,b=h;s>=b;)if((b<<=1)<0)throw he(16,"".concat(s));this.groupSizes=new Uint32Array(b),this.groupSizes.set(c),this.length=b;for(var tt=h;tt<b;tt++)this.groupSizes[tt]=0}for(var nt=this.indexOfGroup(s+1),ot=(tt=0,a.length);tt<ot;tt++)this.tag.insertRule(nt,a[tt])&&(this.groupSizes[s]++,nt++)},e.prototype.clearGroup=function(s){if(s<this.length){var a=this.groupSizes[s],c=this.indexOfGroup(s),h=c+a;this.groupSizes[s]=0;for(var b=c;b<h;b++)this.tag.deleteRule(c)}},e.prototype.getGroup=function(s){var a="";if(s>=this.length||this.groupSizes[s]===0)return a;for(var c=this.groupSizes[s],h=this.indexOfGroup(s),b=h+c,tt=h;tt<b;tt++)a+="".concat(this.tag.getRule(tt)).concat(g);return a},e}(),ye=new Map,ve=new Map,ge$1=1,Se=function(e){if(ye.has(e))return ye.get(e);for(;ve.has(ge$1);)ge$1++;var s=ge$1++;return ye.set(e,s),ve.set(s,e),s},we=function(e,s){ge$1=s+1,ye.set(e,s),ve.set(s,e)},be="style[".concat(f,"][").concat(y,'="').concat(v,'"]'),Ee=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ne=function(e,s,a){for(var c,h=a.split(","),b=0,tt=h.length;b<tt;b++)(c=h[b])&&e.registerName(s,c)},Pe=function(e,s){for(var a,c=((a=s.textContent)!==null&&a!==void 0?a:"").split(g),h=[],b=0,tt=c.length;b<tt;b++){var nt=c[b].trim();if(nt){var ot=nt.match(Ee);if(ot){var st=0|parseInt(ot[1],10),ft=ot[2];st!==0&&(we(ft,st),Ne(e,ft,ot[3]),e.getTag().insertRules(st,h)),h.length=0}else h.push(nt)}}},_e=function(e){for(var s=document.querySelectorAll(be),a=0,c=s.length;a<c;a++){var h=s[a];h&&h.getAttribute(f)!==m&&(Pe(e,h),h.parentNode&&h.parentNode.removeChild(h))}};function Ce(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ie=function(e){var s=document.head,a=e||s,c=document.createElement("style"),h=function(nt){var ot=Array.from(nt.querySelectorAll("style[".concat(f,"]")));return ot[ot.length-1]}(a),b=h!==void 0?h.nextSibling:null;c.setAttribute(f,m),c.setAttribute(y,v);var tt=Ce();return tt&&c.setAttribute("nonce",tt),a.insertBefore(c,b),c},Ae=function(){function e(s){this.element=Ie(s),this.element.appendChild(document.createTextNode("")),this.sheet=function(a){if(a.sheet)return a.sheet;for(var c=document.styleSheets,h=0,b=c.length;h<b;h++){var tt=c[h];if(tt.ownerNode===a)return tt}throw he(17)}(this.element),this.length=0}return e.prototype.insertRule=function(s,a){try{return this.sheet.insertRule(a,s),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(s){this.sheet.deleteRule(s),this.length--},e.prototype.getRule=function(s){var a=this.sheet.cssRules[s];return a&&a.cssText?a.cssText:""},e}(),Oe=function(){function e(s){this.element=Ie(s),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(s,a){if(s<=this.length&&s>=0){var c=document.createTextNode(a);return this.element.insertBefore(c,this.nodes[s]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(s){this.element.removeChild(this.nodes[s]),this.length--},e.prototype.getRule=function(s){return s<this.length?this.nodes[s].textContent:""},e}(),De=function(){function e(s){this.rules=[],this.length=0}return e.prototype.insertRule=function(s,a){return s<=this.length&&(this.rules.splice(s,0,a),this.length++,!0)},e.prototype.deleteRule=function(s){this.rules.splice(s,1),this.length--},e.prototype.getRule=function(s){return s<this.length?this.rules[s]:""},e}(),Re=S,Te={isServer:!S,useCSSOMInjection:!w},ke=function(){function e(s,a,c){s===void 0&&(s=C),a===void 0&&(a={});var h=this;this.options=__assign(__assign({},Te),s),this.gs=a,this.names=new Map(c),this.server=!!s.isServer,!this.server&&S&&Re&&(Re=!1,_e(this)),ue(this,function(){return function(b){for(var tt=b.getTag(),nt=tt.length,ot="",st=function(ht){var gt=function(mt){return ve.get(mt)}(ht);if(gt===void 0)return"continue";var yt=b.names.get(gt),Et=tt.getGroup(ht);if(yt===void 0||!yt.size||Et.length===0)return"continue";var wt="".concat(f,".g").concat(ht,'[id="').concat(gt,'"]'),bt="";yt!==void 0&&yt.forEach(function(mt){mt.length>0&&(bt+="".concat(mt,","))}),ot+="".concat(Et).concat(wt,'{content:"').concat(bt,'"}').concat(g)},ft=0;ft<nt;ft++)st(ft);return ot}(h)})}return e.registerId=function(s){return Se(s)},e.prototype.rehydrate=function(){!this.server&&S&&_e(this)},e.prototype.reconstructWithOptions=function(s,a){return a===void 0&&(a=!0),new e(__assign(__assign({},this.options),s),this.gs,a&&this.names||void 0)},e.prototype.allocateGSInstance=function(s){return this.gs[s]=(this.gs[s]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(s=function(a){var c=a.useCSSOMInjection,h=a.target;return a.isServer?new De(h):c?new Ae(h):new Oe(h)}(this.options),new fe$1(s)));var s},e.prototype.hasNameForId=function(s,a){return this.names.has(s)&&this.names.get(s).has(a)},e.prototype.registerName=function(s,a){if(Se(s),this.names.has(s))this.names.get(s).add(a);else{var c=new Set;c.add(a),this.names.set(s,c)}},e.prototype.insertRules=function(s,a,c){this.registerName(s,a),this.getTag().insertRules(Se(s),c)},e.prototype.clearNames=function(s){this.names.has(s)&&this.names.get(s).clear()},e.prototype.clearRules=function(s){this.getTag().clearGroup(Se(s)),this.clearNames(s)},e.prototype.clearTag=function(){this.tag=void 0},e}(),je=/&/g,xe=/^\s*\/\/.*$/gm;function Ve(e,s){return e.map(function(a){return a.type==="rule"&&(a.value="".concat(s," ").concat(a.value),a.value=a.value.replaceAll(",",",".concat(s," ")),a.props=a.props.map(function(c){return"".concat(s," ").concat(c)})),Array.isArray(a.children)&&a.type!=="@keyframes"&&(a.children=Ve(a.children,s)),a})}function Fe(e){var s,a,c,h=C,b=h.options,tt=b===void 0?C:b,nt=h.plugins,ot=nt===void 0?_:nt,st=function(gt,yt,Et){return Et.startsWith(a)&&Et.endsWith(a)&&Et.replaceAll(a,"").length>0?".".concat(s):gt},ft=ot.slice();ft.push(function(gt){gt.type===RULESET&&gt.value.includes("&")&&(gt.props[0]=gt.props[0].replace(je,a).replace(c,st))}),tt.prefix&&ft.push(prefixer),ft.push(stringify);var ht=function(gt,yt,Et,wt){yt===void 0&&(yt=""),Et===void 0&&(Et=""),wt===void 0&&(wt="&"),s=wt,a=yt,c=new RegExp("\\".concat(a,"\\b"),"g");var bt=gt.replace(xe,""),mt=compile(Et||yt?"".concat(Et," ").concat(yt," { ").concat(bt," }"):bt);tt.namespace&&(mt=Ve(mt,tt.namespace));var vt=[];return serialize$1(mt,middleware(ft.concat(rulesheet(function(xt){return vt.push(xt)})))),vt};return ht.hash=ot.length?ot.reduce(function(gt,yt){return yt.name||he(15),M(gt,yt.name)},F).toString():"",ht}var Me=new ke,ze=Fe(),$e=o.createContext({shouldForwardProp:void 0,styleSheet:Me,stylis:ze});$e.Consumer;o.createContext(void 0);function Ge(){return reactExports.useContext($e)}var We=function(){function e(s,a){var c=this;this.inject=function(h,b){b===void 0&&(b=ze);var tt=c.name+b.hash;h.hasNameForId(c.id,tt)||h.insertRules(c.id,tt,b(c.rules,tt,"@keyframes"))},this.name=s,this.id="sc-keyframes-".concat(s),this.rules=a,ue(this,function(){throw he(12,String(c.name))})}return e.prototype.getName=function(s){return s===void 0&&(s=ze),this.name+s.hash},e}(),qe=function(e){return e>="A"&&e<="Z"};function He(e){for(var s="",a=0;a<e.length;a++){var c=e[a];if(a===1&&c==="-"&&e[0]==="-")return e;qe(c)?s+="-"+c.toLowerCase():s+=c}return s.startsWith("ms-")?"-"+s:s}var Ue=function(e){return e==null||e===!1||e===""},Je=function(e){var s,a,c=[];for(var h in e){var b=e[h];e.hasOwnProperty(h)&&!Ue(b)&&(Array.isArray(b)&&b.isCss||re(b)?c.push("".concat(He(h),":"),b,";"):ce(b)?c.push.apply(c,__spreadArray$2(__spreadArray$2(["".concat(h," {")],Je(b),!1),["}"],!1)):c.push("".concat(He(h),": ").concat((s=h,(a=b)==null||typeof a=="boolean"||a===""?"":typeof a!="number"||a===0||s in unitlessKeys||s.startsWith("--")?String(a).trim():"".concat(a,"px")),";")))}return c};function Xe(e,s,a,c){if(Ue(e))return[];if(se(e))return[".".concat(e.styledComponentId)];if(re(e)){if(!re(b=e)||b.prototype&&b.prototype.isReactComponent||!s)return[e];var h=e(s);return Xe(h,s,a,c)}var b;return e instanceof We?a?(e.inject(a,c),[e.getName(c)]):[e]:ce(e)?Je(e):Array.isArray(e)?Array.prototype.concat.apply(_,e.map(function(tt){return Xe(tt,s,a,c)})):[e.toString()]}function Ze(e){for(var s=0;s<e.length;s+=1){var a=e[s];if(re(a)&&!se(a))return!1}return!0}var Ke=z(v),Qe=function(){function e(s,a,c){this.rules=s,this.staticRulesId="",this.isStatic=(c===void 0||c.isStatic)&&Ze(s),this.componentId=a,this.baseHash=M(Ke,a),this.baseStyle=c,ke.registerId(a)}return e.prototype.generateAndInjectStyles=function(s,a,c){var h=this.baseStyle?this.baseStyle.generateAndInjectStyles(s,a,c):"";if(this.isStatic&&!c.hash)if(this.staticRulesId&&a.hasNameForId(this.componentId,this.staticRulesId))h=ie(h,this.staticRulesId);else{var b=ae(Xe(this.rules,s,a,c)),tt=x(M(this.baseHash,b)>>>0);if(!a.hasNameForId(this.componentId,tt)){var nt=c(b,".".concat(tt),void 0,this.componentId);a.insertRules(this.componentId,tt,nt)}h=ie(h,tt),this.staticRulesId=tt}else{for(var ot=M(this.baseHash,c.hash),st="",ft=0;ft<this.rules.length;ft++){var ht=this.rules[ft];if(typeof ht=="string")st+=ht;else if(ht){var gt=ae(Xe(ht,s,a,c));ot=M(ot,gt+ft),st+=gt}}if(st){var yt=x(ot>>>0);a.hasNameForId(this.componentId,yt)||a.insertRules(this.componentId,yt,c(st,".".concat(yt),void 0,this.componentId)),h=ie(h,yt)}}return h},e}(),et=o.createContext(void 0);et.Consumer;var rt={};function it(e,s,a){var c=se(e),h=e,b=!L(e),tt=s.attrs,nt=tt===void 0?_:tt,ot=s.componentId,st=ot===void 0?function(kt,Lt){var Ct=typeof kt!="string"?"sc":R(kt);rt[Ct]=(rt[Ct]||0)+1;var St="".concat(Ct,"-").concat($(v+Ct+rt[Ct]));return Lt?"".concat(Lt,"-").concat(St):St}(s.displayName,s.parentComponentId):ot,ft=s.displayName,ht=ft===void 0?function(kt){return L(kt)?"styled.".concat(kt):"Styled(".concat(B(kt),")")}(e):ft,gt=s.displayName&&s.componentId?"".concat(R(s.displayName),"-").concat(s.componentId):s.componentId||st,yt=c&&h.attrs?h.attrs.concat(nt).filter(Boolean):nt,Et=s.shouldForwardProp;if(c&&h.shouldForwardProp){var wt=h.shouldForwardProp;if(s.shouldForwardProp){var bt=s.shouldForwardProp;Et=function(kt,Lt){return wt(kt,Lt)&&bt(kt,Lt)}}else Et=wt}var mt=new Qe(a,gt,c?h.componentStyle:void 0);function vt(kt,Lt){return function(Ct,St,Pt){var Ot=Ct.attrs,zt=Ct.componentStyle,Rt=Ct.defaultProps,Nt=Ct.foldedComponentIds,Mt=Ct.styledComponentId,It=Ct.target,$t=o.useContext(et),_t=Ge(),Bt=Ct.shouldForwardProp||_t.shouldForwardProp,Tt=I(St,$t,Rt)||C,jt=function(Gt,Wt,qt){for(var Qt,Yt=__assign(__assign({},Wt),{className:void 0,theme:qt}),Xt=0;Xt<Gt.length;Xt+=1){var Kt=re(Qt=Gt[Xt])?Qt(Yt):Qt;for(var Zt in Kt)Yt[Zt]=Zt==="className"?ie(Yt[Zt],Kt[Zt]):Zt==="style"?__assign(__assign({},Yt[Zt]),Kt[Zt]):Kt[Zt]}return Wt.className&&(Yt.className=ie(Yt.className,Wt.className)),Yt}(Ot,St,Tt),Ft=jt.as||It,Ut={};for(var Ht in jt)jt[Ht]===void 0||Ht[0]==="$"||Ht==="as"||Ht==="theme"&&jt.theme===Tt||(Ht==="forwardedAs"?Ut.as=jt.forwardedAs:Bt&&!Bt(Ht,Ft)||(Ut[Ht]=jt[Ht]));var Dt=function(Gt,Wt){var qt=Ge(),Qt=Gt.generateAndInjectStyles(Wt,qt.styleSheet,qt.stylis);return Qt}(zt,jt),Vt=ie(Nt,Mt);return Dt&&(Vt+=" "+Dt),jt.className&&(Vt+=" "+jt.className),Ut[L(Ft)&&!A.has(Ft)?"class":"className"]=Vt,Ut.ref=Pt,reactExports.createElement(Ft,Ut)}(xt,kt,Lt)}vt.displayName=ht;var xt=o.forwardRef(vt);return xt.attrs=yt,xt.componentStyle=mt,xt.displayName=ht,xt.shouldForwardProp=Et,xt.foldedComponentIds=c?ie(h.foldedComponentIds,h.styledComponentId):"",xt.styledComponentId=gt,xt.target=c?h.target:e,Object.defineProperty(xt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(kt){this._foldedDefaultProps=c?function(Lt){for(var Ct=[],St=1;St<arguments.length;St++)Ct[St-1]=arguments[St];for(var Pt=0,Ot=Ct;Pt<Ot.length;Pt++)le(Lt,Ot[Pt],!0);return Lt}({},h.defaultProps,kt):kt}}),ue(xt,function(){return".".concat(xt.styledComponentId)}),b&&oe(xt,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),xt}function at(e,s){for(var a=[e[0]],c=0,h=s.length;c<h;c+=1)a.push(s[c],e[c+1]);return a}var ct=function(e){return Object.assign(e,{isCss:!0})};function lt(e){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(re(e)||ce(e))return ct(Xe(at(_,__spreadArray$2([e],s,!0))));var c=e;return s.length===0&&c.length===1&&typeof c[0]=="string"?Xe(c):ct(Xe(at(c,s)))}function ut$2(e,s,a){if(a===void 0&&(a=C),!s)throw he(1,s);var c=function(h){for(var b=[],tt=1;tt<arguments.length;tt++)b[tt-1]=arguments[tt];return e(s,a,lt.apply(void 0,__spreadArray$2([h],b,!1)))};return c.attrs=function(h){return ut$2(e,s,__assign(__assign({},a),{attrs:Array.prototype.concat(a.attrs,h).filter(Boolean)}))},c.withConfig=function(h){return ut$2(e,s,__assign(__assign({},a),h))},c}var pt=function(e){return ut$2(it,e)},dt=pt;A.forEach(function(e){dt[e]=pt(e)});const size={mobile:"425px",tablet:"900px"},tablet=e=>lt`
  @media (max-width: ${size.tablet}) {
    ${e};
  }
`,Divider=dt.hr`
    display: block;
    width: 100%;
    color: #3b3b3b;
    border: 0.5px solid;
`,AbsoluteFull=lt`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`,Pointer=dt.span`
  cursor: pointer;
`,HelperText=dt.small`
  display: inline-block;
  width: 100%;
  margin-top: 10px;
  text-align: center;
  min-height: 17px;
  color: #ffffff80;
  transform: translateX(-10%);
  font-weight: bold;

  ${tablet(`
    transform: unset;
  `)}
`,ErrorText=dt(HelperText)`
  color: #f87171;
`,CanvasContainer=dt.div`
  flex: 1;
  height: 100%;

  display: flex;
  justify-content: center;
  align-items: center;
  user-select: none;

  ${tablet(`
    transform: scale(0.5);
  `)}
`,CardWrapper=dt.div`
  position: relative;
  // width: 800px;
  // height: 460px;
`,ResizeKnobs=dt.div`
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 10;
  top: 0;
  left: 0;
`;var ResizeKnobPosition=(e=>(e[e.left=0]="left",e[e.bottom=1]="bottom",e[e.right=2]="right",e))(ResizeKnobPosition||{});const ResizeKnobContainer=dt.div`
    touch-action: none;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 2em;
    height: 2em;

    ${e=>e.$position===0?`
            top: 50%;
            left: 0;
            transform: translateX(-50%) translateY(-50%);
            cursor: ew-resize;
        `:""}

    ${e=>e.$position===2?`
            top: 50%;
            right: 0;
            transform: translateX(50%) translateY(-50%);
            cursor: ew-resize;
        `:""}

    ${e=>e.$position===1?`
            bottom: 0;
            left: 50%;
            transform: translateX(-50%) translateY(50%);
            cursor: ns-resize;
        `:""}

    position: absolute;
    pointer-events: auto;

    &:hover div {
        transform: scale(2.5);
    }
`,ResizeKnob=dt.div`
    transition-property: transform;
    transition-timing-function: cubic-bezier(.4,0,.2,1);
    transition-duration: .15s;
    box-shadow: 0 0 #0000,0 0 #0000,0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);
    background-color: #FFF;
    border-radius: 50%;
    width: .375rem;
    height: .375rem;
`,CardContainer=dt.div`
  box-shadow: 0 90px 150px -80px #0e0f1180, 0 40px 120px #000000b3;
  border-radius: 0.5rem;
  overflow: hidden;
  width: 100%;
  height: 100%;
  position: relative;
  pointer-events: none;
`,CardContent=dt.div`
  padding: 50px;
  font-size: 16px;
  perspective: 1000px;
  transition: background-color 0.15s cubic-bezier(.4,0,.2,1), 
              border-color 0.15s cubic-bezier(.4,0,.2,1), 
              color 0.15s cubic-bezier(.4,0,.2,1), 
              fill 0.15s cubic-bezier(.4,0,.2,1), 
              stroke 0.15s cubic-bezier(.4,0,.2,1);
  display: grid;
  place-items: center;
  width: 100%;
  height: 100%;
`,BackgroundGradient=dt.div`
  ${AbsoluteFull}
  background-image: ${e=>e.$gradient};
  background-repeat: no-repeat;
`,CardBlurShadow=dt.div`
  ${AbsoluteFull}
  background-image: ${e=>e.$gradient};
  background-size: ${e=>`${e.width}px ${e.height}px`};
  border-radius: 1em;
  z-index: 0;

  &:before {
    position: absolute;
    content: "";
    left: 0;
    top: 3em;
    width: 100%;
    height: 100%;
    border-radius: 1em;
    background-color: #0000002e;
    transform: translateZ(-1px);
    filter: blur(60px);
    z-index: -1;
  }

  &:after {
    position: absolute;
    content: "";
    left: 0;
    top: 3em;
    width: 100%;
    height: 100%;
    border-radius: 1em;
    background-color: #0000002e;
    transform: translateZ(-1px);
    filter: blur(60px);
    z-index: -1;
    filter: blur(20px);
    left: 3%;
    right: 3%;
    width: initial;
    top: 1em;
  }
`,CardContentContainer=dt.div`
  position: relative;
  padding: 2em 2em 1.5em;
  width: 100%;
  height: 100%;
  border-radius: 1em;
  border: 1px solid;
  backdrop-filter: blur(18px) saturate(177%);
  -webkit-backdrop-filter: blur(18px) saturate(177%);
  transition: all 0.15s cubic-bezier(.4,0,.2,1);
`,InnerGradient=dt.div`
  ${AbsoluteFull}
  background-image: linear-gradient(-50deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.95) 80%);
  box-shadow: inset 0 0 0 2px #ffffff26;
  border-radius: 1em;
  z-index: -1;
`,AuthorInfo=dt.div`
  display: flex;
  align-items: center;
  padding-bottom: 0.75rem;
`,AuthorImage=dt.img`
  width: 3em;
  height: 3em;
  margin-right: 0.75em;
  object-fit: cover;
  border-radius: 50%;
`,AuthorNameAndNip05Container=dt.div`
    display: flex;
    flex-direction: column;
    gap: 5px;
`,AuthorNameContainer=dt.div`
    display: flex;
    gap: 2px;
`,AuthorName=dt.div`
  font-weight: 600;
  color: #111;
  line-height: 1.2;
  display: flex;
  font-size: 18px;
  white-space: nowrap;
`,VerificationCheckContainer=dt.div`
    width: 20px;
    height: 20px;
`,VerificationIconContainer=dt.div`
    width: 20px;
    height: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-inline: 4px;
`,AuthorNip05=dt.div`
  font-weight: 400;
  color: rgba(0, 0, 0, 0.5);
  line-height: 1.2;
  display: flex;
  font-size: 14px;
  white-space: nowrap;
`,TweetContent=dt.div`
  font-size: 1.4em;
  color: #111;
  line-height: 1.5;
  margin-bottom: 1em;
  pointer-events: none;
  font-weight: 500;
  word-break: break-word;
`,TweetTimestamp=dt.div`
  color: rgba(0, 0, 0, 0.5);
  padding-bottom: 0.7em;
  font-weight: 500;
`,TweetStats=dt.div`
  display: flex;
`,StatItem=dt.div`
  color: rgba(0, 0, 0, 0.7);
  margin-right: 1em;

  span {
    color: #111;
    font-weight: 600;
  }
`,useResizable=({cardWrapperRef:e,leftResizeKnob:s,rightResizeKnob:a,bottomResizeKnob:c,initialWidth:h=300,initialHeight:b=200})=>{const[tt,nt]=reactExports.useState(h),[ot,st]=reactExports.useState(b),ft=reactExports.useRef(!1),ht=reactExports.useRef("left"),gt=reactExports.useRef(0),yt=reactExports.useRef(0),Et=reactExports.useRef(tt),wt=reactExports.useRef(ot),bt=reactExports.useRef(tt),mt=reactExports.useRef(ot),vt=(Lt,Ct)=>{var Ot,zt;ft.current=!0,ht.current=Ct;const St="touches"in Lt?Lt.touches[0].clientX:Lt.clientX,Pt="touches"in Lt?Lt.touches[0].clientY:Lt.clientY;(Ct==="left"||Ct==="right")&&(gt.current=St,Et.current=((Ot=e.current)==null?void 0:Ot.offsetWidth)||0),Ct==="bottom"&&(yt.current=Pt,wt.current=((zt=e.current)==null?void 0:zt.offsetHeight)||0),document.body.style.userSelect="none"},xt=Lt=>{if(!ft.current)return;const Ct="touches"in Lt?Lt.touches[0].clientX:Lt.clientX,St="touches"in Lt?Lt.touches[0].clientY:Lt.clientY;if(ht.current==="left"){const Pt=Et.current-(Ct-gt.current);bt.current=Math.max(Pt,400)}else if(ht.current==="right"){const Pt=Et.current+(Ct-gt.current);bt.current=Math.max(Pt,400)}else if(ht.current==="bottom"){const Pt=wt.current+(St-yt.current);mt.current=Math.max(Pt,380)}e.current&&(ht.current==="left"||ht.current==="right"?e.current.style.width=Math.max(bt.current,50)+"px":ht.current==="bottom"&&(e.current.style.height=Math.max(mt.current,50)+"px"))},kt=()=>{ft.current=!1,document.body.style.userSelect="",nt(bt.current),st(mt.current)};return reactExports.useEffect(()=>{const Lt=(Ot,zt)=>{if(Ot&&Ot.current){const Rt=Nt=>vt(Nt,zt);return Ot.current.addEventListener("mousedown",Rt),Ot.current.addEventListener("touchstart",Rt,{passive:!1}),()=>{Ot.current&&(Ot.current.removeEventListener("mousedown",Rt),Ot.current.removeEventListener("touchstart",Rt))}}},Ct=Lt(s,"left"),St=Lt(a,"right"),Pt=Lt(c,"bottom");return document.addEventListener("mousemove",xt),document.addEventListener("mouseup",kt),document.addEventListener("touchmove",xt,{passive:!1}),document.addEventListener("touchend",kt),()=>{Ct&&Ct(),St&&St(),Pt&&Pt(),document.removeEventListener("mousemove",xt),document.removeEventListener("mouseup",kt),document.removeEventListener("touchmove",xt),document.removeEventListener("touchend",kt)}},[s,a,c,e]),{width:tt,height:ot,setWidth:nt,setHeight:st}},defaultImgProxy={url:"https://imgproxy.snort.social",key:"a82fcf26aa0ccb55dfc6b4bd6a1c90744d3be0f38429f21a8828b43449ce7cebe6bdc2b09a827311bef37b18ce35cb1e6b1c60387a254541afa9e5b4264ae942",salt:"a897770d9abf163de055e9617891214e75a9016d748f8ef865e6ffbcb9ed932295659549773a22a019a5f06d0b440c320be411e3fddfe784e199e4f03d74bd9b"},initialNote={html:'<span class="text-content">Just setting up my nstr!</span>',author:{name:"djhemath",nip05:"djhemath@iris.to",image:"https://pbs.twimg.com/profile_images/1447137435033370628/VkaQ2C0f_400x400.jpg"},createdAt:0,replies:41e3,zaps:284,likes:7200,reposts:6500},MILLISATS_PER_SAT=1e3;var GRADIENT=(e=>(e.default="Default",e.primal1="Primal 1",e.primal2="Primal 2",e.iris="Iris",e))(GRADIENT||{});const GRADIENTS={Default:"linear-gradient(310deg, #d6e9ff, #d6e5ff, #d1d6ff, #ddd1ff, #f3d1ff, #ffccf5, #ffccdf, #ffc8c7, #ffd8c7, #ffddc7)","Primal 1":"linear-gradient(120deg, #ffb880, #ff827d, #ff7f7f, #de78af, #c76cd5, #a366c5)","Primal 2":"linear-gradient(159deg, #02e0ff 0%, #2798ee 17%, #2c7eec 33%, #3e63e2 50%, #483fc8 67%, #5129b6 100%, #643cbc 100%)",Iris:"linear-gradient(159deg, #c40ef7 0%, #cc0bf8 17%, #b918f9 33%, #9127ed 50%, #7a43ff 67%, #813eff 84%, #7c21e2 100%)"},DEFAULT_RELAYS=["wss://relay.damus.io","wss://nostr.wine","wss://nos.lol","wss://relay.primal.net"],RELAYS_LOCALSTORAGE_KEY="relays";function resolveUrl(e,s){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const a=document.implementation.createHTMLDocument(),c=a.createElement("base"),h=a.createElement("a");return a.head.appendChild(c),a.body.appendChild(h),s&&(c.href=s),h.href=e,h.href}const uuid=(()=>{let e=0;const s=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${s()}${e}`)})();function toArray(e){const s=[];for(let a=0,c=e.length;a<c;a++)s.push(e[a]);return s}function px(e,s){const c=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(s);return c?parseFloat(c.replace("px","")):0}function getNodeWidth(e){const s=px(e,"border-left-width"),a=px(e,"border-right-width");return e.clientWidth+s+a}function getNodeHeight(e){const s=px(e,"border-top-width"),a=px(e,"border-bottom-width");return e.clientHeight+s+a}function getImageSize(e,s={}){const a=s.width||getNodeWidth(e),c=s.height||getNodeHeight(e);return{width:a,height:c}}function getPixelRatio(){let e,s;try{s=process}catch{}const a=s&&s.env?s.env.devicePixelRatio:null;return a&&(e=parseInt(a,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const canvasDimensionLimit=16384;function checkCanvasDimensions(e){(e.width>canvasDimensionLimit||e.height>canvasDimensionLimit)&&(e.width>canvasDimensionLimit&&e.height>canvasDimensionLimit?e.width>e.height?(e.height*=canvasDimensionLimit/e.width,e.width=canvasDimensionLimit):(e.width*=canvasDimensionLimit/e.height,e.height=canvasDimensionLimit):e.width>canvasDimensionLimit?(e.height*=canvasDimensionLimit/e.width,e.width=canvasDimensionLimit):(e.width*=canvasDimensionLimit/e.height,e.height=canvasDimensionLimit))}function createImage(e){return new Promise((s,a)=>{const c=new Image;c.decode=()=>s(c),c.onload=()=>s(c),c.onerror=a,c.crossOrigin="anonymous",c.decoding="async",c.src=e})}async function svgToDataURL(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(s=>`data:image/svg+xml;charset=utf-8,${s}`)}async function nodeToDataURL(e,s,a){const c="http://www.w3.org/2000/svg",h=document.createElementNS(c,"svg"),b=document.createElementNS(c,"foreignObject");return h.setAttribute("width",`${s}`),h.setAttribute("height",`${a}`),h.setAttribute("viewBox",`0 0 ${s} ${a}`),b.setAttribute("width","100%"),b.setAttribute("height","100%"),b.setAttribute("x","0"),b.setAttribute("y","0"),b.setAttribute("externalResourcesRequired","true"),h.appendChild(b),b.appendChild(e),svgToDataURL(h)}const isInstanceOfElement=(e,s)=>{if(e instanceof s)return!0;const a=Object.getPrototypeOf(e);return a===null?!1:a.constructor.name===s.name||isInstanceOfElement(a,s)};function formatCSSText(e){const s=e.getPropertyValue("content");return`${e.cssText} content: '${s.replace(/'|"/g,"")}';`}function formatCSSProperties(e){return toArray(e).map(s=>{const a=e.getPropertyValue(s),c=e.getPropertyPriority(s);return`${s}: ${a}${c?" !important":""};`}).join(" ")}function getPseudoElementStyle(e,s,a){const c=`.${e}:${s}`,h=a.cssText?formatCSSText(a):formatCSSProperties(a);return document.createTextNode(`${c}{${h}}`)}function clonePseudoElement(e,s,a){const c=window.getComputedStyle(e,a),h=c.getPropertyValue("content");if(h===""||h==="none")return;const b=uuid();try{s.className=`${s.className} ${b}`}catch{return}const tt=document.createElement("style");tt.appendChild(getPseudoElementStyle(b,a,c)),s.appendChild(tt)}function clonePseudoElements(e,s){clonePseudoElement(e,s,":before"),clonePseudoElement(e,s,":after")}const WOFF="application/font-woff",JPEG="image/jpeg",mimes={woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JPEG,jpeg:JPEG,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function getExtension(e){const s=/\.([^./]*?)$/g.exec(e);return s?s[1]:""}function getMimeType(e){const s=getExtension(e).toLowerCase();return mimes[s]||""}function getContentFromDataUrl(e){return e.split(/,/)[1]}function isDataUrl(e){return e.search(/^(data:)/)!==-1}function makeDataUrl(e,s){return`data:${s};base64,${e}`}async function fetchAsDataURL(e,s,a){const c=await fetch(e,s);if(c.status===404)throw new Error(`Resource "${c.url}" not found`);const h=await c.blob();return new Promise((b,tt)=>{const nt=new FileReader;nt.onerror=tt,nt.onloadend=()=>{try{b(a({res:c,result:nt.result}))}catch(ot){tt(ot)}},nt.readAsDataURL(h)})}const cache={};function getCacheKey(e,s,a){let c=e.replace(/\?.*/,"");return a&&(c=e),/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,"")),s?`[${s}]${c}`:c}async function resourceToDataURL(e,s,a){const c=getCacheKey(e,s,a.includeQueryParams);if(cache[c]!=null)return cache[c];a.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let h;try{const b=await fetchAsDataURL(e,a.fetchRequestInit,({res:tt,result:nt})=>(s||(s=tt.headers.get("Content-Type")||""),getContentFromDataUrl(nt)));h=makeDataUrl(b,s)}catch(b){h=a.imagePlaceholder||"";let tt=`Failed to fetch resource: ${e}`;b&&(tt=typeof b=="string"?b:b.message),tt&&console.warn(tt)}return cache[c]=h,h}async function cloneCanvasElement(e){const s=e.toDataURL();return s==="data:,"?e.cloneNode(!1):createImage(s)}async function cloneVideoElement(e,s){if(e.currentSrc){const b=document.createElement("canvas"),tt=b.getContext("2d");b.width=e.clientWidth,b.height=e.clientHeight,tt==null||tt.drawImage(e,0,0,b.width,b.height);const nt=b.toDataURL();return createImage(nt)}const a=e.poster,c=getMimeType(a),h=await resourceToDataURL(a,c,s);return createImage(h)}async function cloneIFrameElement(e){var s;try{if(!((s=e==null?void 0:e.contentDocument)===null||s===void 0)&&s.body)return await cloneNode(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function cloneSingleNode(e,s){return isInstanceOfElement(e,HTMLCanvasElement)?cloneCanvasElement(e):isInstanceOfElement(e,HTMLVideoElement)?cloneVideoElement(e,s):isInstanceOfElement(e,HTMLIFrameElement)?cloneIFrameElement(e):e.cloneNode(!1)}const isSlotElement=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function cloneChildren(e,s,a){var c,h;let b=[];return isSlotElement(e)&&e.assignedNodes?b=toArray(e.assignedNodes()):isInstanceOfElement(e,HTMLIFrameElement)&&(!((c=e.contentDocument)===null||c===void 0)&&c.body)?b=toArray(e.contentDocument.body.childNodes):b=toArray(((h=e.shadowRoot)!==null&&h!==void 0?h:e).childNodes),b.length===0||isInstanceOfElement(e,HTMLVideoElement)||await b.reduce((tt,nt)=>tt.then(()=>cloneNode(nt,a)).then(ot=>{ot&&s.appendChild(ot)}),Promise.resolve()),s}function cloneCSSStyle(e,s){const a=s.style;if(!a)return;const c=window.getComputedStyle(e);c.cssText?(a.cssText=c.cssText,a.transformOrigin=c.transformOrigin):toArray(c).forEach(h=>{let b=c.getPropertyValue(h);h==="font-size"&&b.endsWith("px")&&(b=`${Math.floor(parseFloat(b.substring(0,b.length-2)))-.1}px`),isInstanceOfElement(e,HTMLIFrameElement)&&h==="display"&&b==="inline"&&(b="block"),h==="d"&&s.getAttribute("d")&&(b=`path(${s.getAttribute("d")})`),a.setProperty(h,b,c.getPropertyPriority(h))})}function cloneInputValue(e,s){isInstanceOfElement(e,HTMLTextAreaElement)&&(s.innerHTML=e.value),isInstanceOfElement(e,HTMLInputElement)&&s.setAttribute("value",e.value)}function cloneSelectValue(e,s){if(isInstanceOfElement(e,HTMLSelectElement)){const a=s,c=Array.from(a.children).find(h=>e.value===h.getAttribute("value"));c&&c.setAttribute("selected","")}}function decorate(e,s){return isInstanceOfElement(s,Element)&&(cloneCSSStyle(e,s),clonePseudoElements(e,s),cloneInputValue(e,s),cloneSelectValue(e,s)),s}async function ensureSVGSymbols(e,s){const a=e.querySelectorAll?e.querySelectorAll("use"):[];if(a.length===0)return e;const c={};for(let b=0;b<a.length;b++){const nt=a[b].getAttribute("xlink:href");if(nt){const ot=e.querySelector(nt),st=document.querySelector(nt);!ot&&st&&!c[nt]&&(c[nt]=await cloneNode(st,s,!0))}}const h=Object.values(c);if(h.length){const b="http://www.w3.org/1999/xhtml",tt=document.createElementNS(b,"svg");tt.setAttribute("xmlns",b),tt.style.position="absolute",tt.style.width="0",tt.style.height="0",tt.style.overflow="hidden",tt.style.display="none";const nt=document.createElementNS(b,"defs");tt.appendChild(nt);for(let ot=0;ot<h.length;ot++)nt.appendChild(h[ot]);e.appendChild(tt)}return e}async function cloneNode(e,s,a){return!a&&s.filter&&!s.filter(e)?null:Promise.resolve(e).then(c=>cloneSingleNode(c,s)).then(c=>cloneChildren(e,c,s)).then(c=>decorate(e,c)).then(c=>ensureSVGSymbols(c,s))}const URL_REGEX=/url\((['"]?)([^'"]+?)\1\)/g,URL_WITH_FORMAT_REGEX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FONT_SRC_REGEX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function toRegex(e){const s=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${s})(['"]?\\))`,"g")}function parseURLs(e){const s=[];return e.replace(URL_REGEX,(a,c,h)=>(s.push(h),a)),s.filter(a=>!isDataUrl(a))}async function embed(e,s,a,c,h){try{const b=a?resolveUrl(s,a):s,tt=getMimeType(s);let nt;return h||(nt=await resourceToDataURL(b,tt,c)),e.replace(toRegex(s),`$1${nt}$3`)}catch{}return e}function filterPreferredFontFormat(e,{preferredFontFormat:s}){return s?e.replace(FONT_SRC_REGEX,a=>{for(;;){const[c,,h]=URL_WITH_FORMAT_REGEX.exec(a)||[];if(!h)return"";if(h===s)return`src: ${c};`}}):e}function shouldEmbed(e){return e.search(URL_REGEX)!==-1}async function embedResources(e,s,a){if(!shouldEmbed(e))return e;const c=filterPreferredFontFormat(e,a);return parseURLs(c).reduce((b,tt)=>b.then(nt=>embed(nt,tt,s,a)),Promise.resolve(c))}async function embedProp(e,s,a){var c;const h=(c=s.style)===null||c===void 0?void 0:c.getPropertyValue(e);if(h){const b=await embedResources(h,null,a);return s.style.setProperty(e,b,s.style.getPropertyPriority(e)),!0}return!1}async function embedBackground(e,s){await embedProp("background",e,s)||await embedProp("background-image",e,s),await embedProp("mask",e,s)||await embedProp("mask-image",e,s)}async function embedImageNode(e,s){const a=isInstanceOfElement(e,HTMLImageElement);if(!(a&&!isDataUrl(e.src))&&!(isInstanceOfElement(e,SVGImageElement)&&!isDataUrl(e.href.baseVal)))return;const c=a?e.src:e.href.baseVal,h=await resourceToDataURL(c,getMimeType(c),s);await new Promise((b,tt)=>{e.onload=b,e.onerror=tt;const nt=e;nt.decode&&(nt.decode=b),nt.loading==="lazy"&&(nt.loading="eager"),a?(e.srcset="",e.src=h):e.href.baseVal=h})}async function embedChildren(e,s){const c=toArray(e.childNodes).map(h=>embedImages(h,s));await Promise.all(c).then(()=>e)}async function embedImages(e,s){isInstanceOfElement(e,Element)&&(await embedBackground(e,s),await embedImageNode(e,s),await embedChildren(e,s))}function applyStyle(e,s){const{style:a}=e;s.backgroundColor&&(a.backgroundColor=s.backgroundColor),s.width&&(a.width=`${s.width}px`),s.height&&(a.height=`${s.height}px`);const c=s.style;return c!=null&&Object.keys(c).forEach(h=>{a[h]=c[h]}),e}const cssFetchCache={};async function fetchCSS(e){let s=cssFetchCache[e];if(s!=null)return s;const c=await(await fetch(e)).text();return s={url:e,cssText:c},cssFetchCache[e]=s,s}async function embedFonts(e,s){let a=e.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,b=(a.match(/url\([^)]+\)/g)||[]).map(async tt=>{let nt=tt.replace(c,"$1");return nt.startsWith("https://")||(nt=new URL(nt,e.url).href),fetchAsDataURL(nt,s.fetchRequestInit,({result:ot})=>(a=a.replace(tt,`url(${ot})`),[tt,ot]))});return Promise.all(b).then(()=>a)}function parseCSS(e){if(e==null)return[];const s=[],a=/(\/\*[\s\S]*?\*\/)/gi;let c=e.replace(a,"");const h=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const ot=h.exec(c);if(ot===null)break;s.push(ot[0])}c=c.replace(h,"");const b=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,tt="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",nt=new RegExp(tt,"gi");for(;;){let ot=b.exec(c);if(ot===null){if(ot=nt.exec(c),ot===null)break;b.lastIndex=nt.lastIndex}else nt.lastIndex=b.lastIndex;s.push(ot[0])}return s}async function getCSSRules(e,s){const a=[],c=[];return e.forEach(h=>{if("cssRules"in h)try{toArray(h.cssRules||[]).forEach((b,tt)=>{if(b.type===CSSRule.IMPORT_RULE){let nt=tt+1;const ot=b.href,st=fetchCSS(ot).then(ft=>embedFonts(ft,s)).then(ft=>parseCSS(ft).forEach(ht=>{try{h.insertRule(ht,ht.startsWith("@import")?nt+=1:h.cssRules.length)}catch(gt){console.error("Error inserting rule from remote css",{rule:ht,error:gt})}})).catch(ft=>{console.error("Error loading remote css",ft.toString())});c.push(st)}})}catch(b){const tt=e.find(nt=>nt.href==null)||document.styleSheets[0];h.href!=null&&c.push(fetchCSS(h.href).then(nt=>embedFonts(nt,s)).then(nt=>parseCSS(nt).forEach(ot=>{tt.insertRule(ot,h.cssRules.length)})).catch(nt=>{console.error("Error loading remote stylesheet",nt)})),console.error("Error inlining remote css file",b)}}),Promise.all(c).then(()=>(e.forEach(h=>{if("cssRules"in h)try{toArray(h.cssRules||[]).forEach(b=>{a.push(b)})}catch(b){console.error(`Error while reading CSS rules from ${h.href}`,b)}}),a))}function getWebFontRules(e){return e.filter(s=>s.type===CSSRule.FONT_FACE_RULE).filter(s=>shouldEmbed(s.style.getPropertyValue("src")))}async function parseWebFontRules(e,s){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const a=toArray(e.ownerDocument.styleSheets),c=await getCSSRules(a,s);return getWebFontRules(c)}async function getWebFontCSS(e,s){const a=await parseWebFontRules(e,s);return(await Promise.all(a.map(h=>{const b=h.parentStyleSheet?h.parentStyleSheet.href:null;return embedResources(h.cssText,b,s)}))).join(`
`)}async function embedWebFonts(e,s){const a=s.fontEmbedCSS!=null?s.fontEmbedCSS:s.skipFonts?null:await getWebFontCSS(e,s);if(a){const c=document.createElement("style"),h=document.createTextNode(a);c.appendChild(h),e.firstChild?e.insertBefore(c,e.firstChild):e.appendChild(c)}}async function toSvg(e,s={}){const{width:a,height:c}=getImageSize(e,s),h=await cloneNode(e,s,!0);return await embedWebFonts(h,s),await embedImages(h,s),applyStyle(h,s),await nodeToDataURL(h,a,c)}async function toCanvas(e,s={}){const{width:a,height:c}=getImageSize(e,s),h=await toSvg(e,s),b=await createImage(h),tt=document.createElement("canvas"),nt=tt.getContext("2d"),ot=s.pixelRatio||getPixelRatio(),st=s.canvasWidth||a,ft=s.canvasHeight||c;return tt.width=st*ot,tt.height=ft*ot,s.skipAutoScale||checkCanvasDimensions(tt),tt.style.width=`${st}`,tt.style.height=`${ft}`,s.backgroundColor&&(nt.fillStyle=s.backgroundColor,nt.fillRect(0,0,tt.width,tt.height)),nt.drawImage(b,0,0,tt.width,tt.height),tt}async function toPng(e,s={}){return(await toCanvas(e,s)).toDataURL()}var numeral$1={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(e){(function(s,a){e.exports?e.exports=a():s.numeral=a()})(commonjsGlobal,function(){var s,a,c="2.0.6",h={},b={},tt={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},nt={currentLocale:tt.currentLocale,zeroFormat:tt.zeroFormat,nullFormat:tt.nullFormat,defaultFormat:tt.defaultFormat,scalePercentBy100:tt.scalePercentBy100};function ot(st,ft){this._input=st,this._value=ft}return s=function(st){var ft,ht,gt,yt;if(s.isNumeral(st))ft=st.value();else if(st===0||typeof st>"u")ft=0;else if(st===null||a.isNaN(st))ft=null;else if(typeof st=="string")if(nt.zeroFormat&&st===nt.zeroFormat)ft=0;else if(nt.nullFormat&&st===nt.nullFormat||!st.replace(/[^0-9]+/g,"").length)ft=null;else{for(ht in h)if(yt=typeof h[ht].regexps.unformat=="function"?h[ht].regexps.unformat():h[ht].regexps.unformat,yt&&st.match(yt)){gt=h[ht].unformat;break}gt=gt||s._.stringToNumber,ft=gt(st)}else ft=Number(st)||null;return new ot(st,ft)},s.version=c,s.isNumeral=function(st){return st instanceof ot},s._=a={numberToFormat:function(st,ft,ht){var gt=b[s.options.currentLocale],yt=!1,Et=!1,wt=0,bt="",mt=1e12,vt=1e9,xt=1e6,kt=1e3,Lt="",Ct=!1,St,Pt,Ot,zt,Rt,Nt,Mt;if(st=st||0,Pt=Math.abs(st),s._.includes(ft,"(")?(yt=!0,ft=ft.replace(/[\(|\)]/g,"")):(s._.includes(ft,"+")||s._.includes(ft,"-"))&&(Rt=s._.includes(ft,"+")?ft.indexOf("+"):st<0?ft.indexOf("-"):-1,ft=ft.replace(/[\+|\-]/g,"")),s._.includes(ft,"a")&&(St=ft.match(/a(k|m|b|t)?/),St=St?St[1]:!1,s._.includes(ft," a")&&(bt=" "),ft=ft.replace(new RegExp(bt+"a[kmbt]?"),""),Pt>=mt&&!St||St==="t"?(bt+=gt.abbreviations.trillion,st=st/mt):Pt<mt&&Pt>=vt&&!St||St==="b"?(bt+=gt.abbreviations.billion,st=st/vt):Pt<vt&&Pt>=xt&&!St||St==="m"?(bt+=gt.abbreviations.million,st=st/xt):(Pt<xt&&Pt>=kt&&!St||St==="k")&&(bt+=gt.abbreviations.thousand,st=st/kt)),s._.includes(ft,"[.]")&&(Et=!0,ft=ft.replace("[.]",".")),Ot=st.toString().split(".")[0],zt=ft.split(".")[1],Nt=ft.indexOf(","),wt=(ft.split(".")[0].split(",")[0].match(/0/g)||[]).length,zt?(s._.includes(zt,"[")?(zt=zt.replace("]",""),zt=zt.split("["),Lt=s._.toFixed(st,zt[0].length+zt[1].length,ht,zt[1].length)):Lt=s._.toFixed(st,zt.length,ht),Ot=Lt.split(".")[0],s._.includes(Lt,".")?Lt=gt.delimiters.decimal+Lt.split(".")[1]:Lt="",Et&&Number(Lt.slice(1))===0&&(Lt="")):Ot=s._.toFixed(st,0,ht),bt&&!St&&Number(Ot)>=1e3&&bt!==gt.abbreviations.trillion)switch(Ot=String(Number(Ot)/1e3),bt){case gt.abbreviations.thousand:bt=gt.abbreviations.million;break;case gt.abbreviations.million:bt=gt.abbreviations.billion;break;case gt.abbreviations.billion:bt=gt.abbreviations.trillion;break}if(s._.includes(Ot,"-")&&(Ot=Ot.slice(1),Ct=!0),Ot.length<wt)for(var It=wt-Ot.length;It>0;It--)Ot="0"+Ot;return Nt>-1&&(Ot=Ot.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+gt.delimiters.thousands)),ft.indexOf(".")===0&&(Ot=""),Mt=Ot+Lt+(bt||""),yt?Mt=(yt&&Ct?"(":"")+Mt+(yt&&Ct?")":""):Rt>=0?Mt=Rt===0?(Ct?"-":"+")+Mt:Mt+(Ct?"-":"+"):Ct&&(Mt="-"+Mt),Mt},stringToNumber:function(st){var ft=b[nt.currentLocale],ht=st,gt={thousand:3,million:6,billion:9,trillion:12},yt,Et,wt;if(nt.zeroFormat&&st===nt.zeroFormat)Et=0;else if(nt.nullFormat&&st===nt.nullFormat||!st.replace(/[^0-9]+/g,"").length)Et=null;else{Et=1,ft.delimiters.decimal!=="."&&(st=st.replace(/\./g,"").replace(ft.delimiters.decimal,"."));for(yt in gt)if(wt=new RegExp("[^a-zA-Z]"+ft.abbreviations[yt]+"(?:\\)|(\\"+ft.currency.symbol+")?(?:\\))?)?$"),ht.match(wt)){Et*=Math.pow(10,gt[yt]);break}Et*=(st.split("-").length+Math.min(st.split("(").length-1,st.split(")").length-1))%2?1:-1,st=st.replace(/[^0-9\.]+/g,""),Et*=Number(st)}return Et},isNaN:function(st){return typeof st=="number"&&isNaN(st)},includes:function(st,ft){return st.indexOf(ft)!==-1},insert:function(st,ft,ht){return st.slice(0,ht)+ft+st.slice(ht)},reduce:function(st,ft){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof ft!="function")throw new TypeError(ft+" is not a function");var ht=Object(st),gt=ht.length>>>0,yt=0,Et;if(arguments.length===3)Et=arguments[2];else{for(;yt<gt&&!(yt in ht);)yt++;if(yt>=gt)throw new TypeError("Reduce of empty array with no initial value");Et=ht[yt++]}for(;yt<gt;yt++)yt in ht&&(Et=ft(Et,ht[yt],yt,ht));return Et},multiplier:function(st){var ft=st.toString().split(".");return ft.length<2?1:Math.pow(10,ft[1].length)},correctionFactor:function(){var st=Array.prototype.slice.call(arguments);return st.reduce(function(ft,ht){var gt=a.multiplier(ht);return ft>gt?ft:gt},1)},toFixed:function(st,ft,ht,gt){var yt=st.toString().split("."),Et=ft-(gt||0),wt,bt,mt,vt;return yt.length===2?wt=Math.min(Math.max(yt[1].length,Et),ft):wt=Et,mt=Math.pow(10,wt),vt=(ht(st+"e+"+wt)/mt).toFixed(wt),gt>ft-wt&&(bt=new RegExp("\\.?0{1,"+(gt-(ft-wt))+"}$"),vt=vt.replace(bt,"")),vt}},s.options=nt,s.formats=h,s.locales=b,s.locale=function(st){return st&&(nt.currentLocale=st.toLowerCase()),nt.currentLocale},s.localeData=function(st){if(!st)return b[nt.currentLocale];if(st=st.toLowerCase(),!b[st])throw new Error("Unknown locale : "+st);return b[st]},s.reset=function(){for(var st in tt)nt[st]=tt[st]},s.zeroFormat=function(st){nt.zeroFormat=typeof st=="string"?st:null},s.nullFormat=function(st){nt.nullFormat=typeof st=="string"?st:null},s.defaultFormat=function(st){nt.defaultFormat=typeof st=="string"?st:"0.0"},s.register=function(st,ft,ht){if(ft=ft.toLowerCase(),this[st+"s"][ft])throw new TypeError(ft+" "+st+" already registered.");return this[st+"s"][ft]=ht,ht},s.validate=function(st,ft){var ht,gt,yt,Et,wt,bt,mt,vt;if(typeof st!="string"&&(st+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",st)),st=st.trim(),st.match(/^\d+$/))return!0;if(st==="")return!1;try{mt=s.localeData(ft)}catch{mt=s.localeData(s.locale())}return yt=mt.currency.symbol,wt=mt.abbreviations,ht=mt.delimiters.decimal,mt.delimiters.thousands==="."?gt="\\.":gt=mt.delimiters.thousands,vt=st.match(/^[^\d]+/),vt!==null&&(st=st.substr(1),vt[0]!==yt)||(vt=st.match(/[^\d]+$/),vt!==null&&(st=st.slice(0,-1),vt[0]!==wt.thousand&&vt[0]!==wt.million&&vt[0]!==wt.billion&&vt[0]!==wt.trillion))?!1:(bt=new RegExp(gt+"{2}"),st.match(/[^\d.,]/g)?!1:(Et=st.split(ht),Et.length>2?!1:Et.length<2?!!Et[0].match(/^\d+.*\d$/)&&!Et[0].match(bt):Et[0].length===1?!!Et[0].match(/^\d+$/)&&!Et[0].match(bt)&&!!Et[1].match(/^\d+$/):!!Et[0].match(/^\d+.*\d$/)&&!Et[0].match(bt)&&!!Et[1].match(/^\d+$/)))},s.fn=ot.prototype={clone:function(){return s(this)},format:function(st,ft){var ht=this._value,gt=st||nt.defaultFormat,yt,Et,wt;if(ft=ft||Math.round,ht===0&&nt.zeroFormat!==null)Et=nt.zeroFormat;else if(ht===null&&nt.nullFormat!==null)Et=nt.nullFormat;else{for(yt in h)if(gt.match(h[yt].regexps.format)){wt=h[yt].format;break}wt=wt||s._.numberToFormat,Et=wt(ht,gt,ft)}return Et},value:function(){return this._value},input:function(){return this._input},set:function(st){return this._value=Number(st),this},add:function(st){var ft=a.correctionFactor.call(null,this._value,st);function ht(gt,yt,Et,wt){return gt+Math.round(ft*yt)}return this._value=a.reduce([this._value,st],ht,0)/ft,this},subtract:function(st){var ft=a.correctionFactor.call(null,this._value,st);function ht(gt,yt,Et,wt){return gt-Math.round(ft*yt)}return this._value=a.reduce([st],ht,Math.round(this._value*ft))/ft,this},multiply:function(st){function ft(ht,gt,yt,Et){var wt=a.correctionFactor(ht,gt);return Math.round(ht*wt)*Math.round(gt*wt)/Math.round(wt*wt)}return this._value=a.reduce([this._value,st],ft,1),this},divide:function(st){function ft(ht,gt,yt,Et){var wt=a.correctionFactor(ht,gt);return Math.round(ht*wt)/Math.round(gt*wt)}return this._value=a.reduce([this._value,st],ft),this},difference:function(st){return Math.abs(s(this._value).subtract(st).value())}},s.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(st){var ft=st%10;return~~(st%100/10)===1?"th":ft===1?"st":ft===2?"nd":ft===3?"rd":"th"},currency:{symbol:"$"}}),function(){s.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(st,ft,ht){var gt=s._.includes(ft," BPS")?" ":"",yt;return st=st*1e4,ft=ft.replace(/\s?BPS/,""),yt=s._.numberToFormat(st,ft,ht),s._.includes(yt,")")?(yt=yt.split(""),yt.splice(-1,0,gt+"BPS"),yt=yt.join("")):yt=yt+gt+"BPS",yt},unformat:function(st){return+(s._.stringToNumber(st)*1e-4).toFixed(15)}})}(),function(){var st={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},ft={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},ht=st.suffixes.concat(ft.suffixes.filter(function(yt){return st.suffixes.indexOf(yt)<0})),gt=ht.join("|");gt="("+gt.replace("B","B(?!PS)")+")",s.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(gt)},format:function(yt,Et,wt){var bt,mt=s._.includes(Et,"ib")?ft:st,vt=s._.includes(Et," b")||s._.includes(Et," ib")?" ":"",xt,kt,Lt;for(Et=Et.replace(/\s?i?b/,""),xt=0;xt<=mt.suffixes.length;xt++)if(kt=Math.pow(mt.base,xt),Lt=Math.pow(mt.base,xt+1),yt===null||yt===0||yt>=kt&&yt<Lt){vt+=mt.suffixes[xt],kt>0&&(yt=yt/kt);break}return bt=s._.numberToFormat(yt,Et,wt),bt+vt},unformat:function(yt){var Et=s._.stringToNumber(yt),wt,bt;if(Et){for(wt=st.suffixes.length-1;wt>=0;wt--){if(s._.includes(yt,st.suffixes[wt])){bt=Math.pow(st.base,wt);break}if(s._.includes(yt,ft.suffixes[wt])){bt=Math.pow(ft.base,wt);break}}Et*=bt||1}return Et}})}(),function(){s.register("format","currency",{regexps:{format:/(\$)/},format:function(st,ft,ht){var gt=s.locales[s.options.currentLocale],yt={before:ft.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:ft.match(/([\+|\-|\)|\s|\$]*)$/)[0]},Et,wt,bt;for(ft=ft.replace(/\s?\$\s?/,""),Et=s._.numberToFormat(st,ft,ht),st>=0?(yt.before=yt.before.replace(/[\-\(]/,""),yt.after=yt.after.replace(/[\-\)]/,"")):st<0&&!s._.includes(yt.before,"-")&&!s._.includes(yt.before,"(")&&(yt.before="-"+yt.before),bt=0;bt<yt.before.length;bt++)switch(wt=yt.before[bt],wt){case"$":Et=s._.insert(Et,gt.currency.symbol,bt);break;case" ":Et=s._.insert(Et," ",bt+gt.currency.symbol.length-1);break}for(bt=yt.after.length-1;bt>=0;bt--)switch(wt=yt.after[bt],wt){case"$":Et=bt===yt.after.length-1?Et+gt.currency.symbol:s._.insert(Et,gt.currency.symbol,-(yt.after.length-(1+bt)));break;case" ":Et=bt===yt.after.length-1?Et+" ":s._.insert(Et," ",-(yt.after.length-(1+bt)+gt.currency.symbol.length-1));break}return Et}})}(),function(){s.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(st,ft,ht){var gt,yt=typeof st=="number"&&!s._.isNaN(st)?st.toExponential():"0e+0",Et=yt.split("e");return ft=ft.replace(/e[\+|\-]{1}0/,""),gt=s._.numberToFormat(Number(Et[0]),ft,ht),gt+"e"+Et[1]},unformat:function(st){var ft=s._.includes(st,"e+")?st.split("e+"):st.split("e-"),ht=Number(ft[0]),gt=Number(ft[1]);gt=s._.includes(st,"e-")?gt*=-1:gt;function yt(Et,wt,bt,mt){var vt=s._.correctionFactor(Et,wt),xt=Et*vt*(wt*vt)/(vt*vt);return xt}return s._.reduce([ht,Math.pow(10,gt)],yt,1)}})}(),function(){s.register("format","ordinal",{regexps:{format:/(o)/},format:function(st,ft,ht){var gt=s.locales[s.options.currentLocale],yt,Et=s._.includes(ft," o")?" ":"";return ft=ft.replace(/\s?o/,""),Et+=gt.ordinal(st),yt=s._.numberToFormat(st,ft,ht),yt+Et}})}(),function(){s.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(st,ft,ht){var gt=s._.includes(ft," %")?" ":"",yt;return s.options.scalePercentBy100&&(st=st*100),ft=ft.replace(/\s?\%/,""),yt=s._.numberToFormat(st,ft,ht),s._.includes(yt,")")?(yt=yt.split(""),yt.splice(-1,0,gt+"%"),yt=yt.join("")):yt=yt+gt+"%",yt},unformat:function(st){var ft=s._.stringToNumber(st);return s.options.scalePercentBy100?ft*.01:ft}})}(),function(){s.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(st,ft,ht){var gt=Math.floor(st/60/60),yt=Math.floor((st-gt*60*60)/60),Et=Math.round(st-gt*60*60-yt*60);return gt+":"+(yt<10?"0"+yt:yt)+":"+(Et<10?"0"+Et:Et)},unformat:function(st){var ft=st.split(":"),ht=0;return ft.length===3?(ht=ht+Number(ft[0])*60*60,ht=ht+Number(ft[1])*60,ht=ht+Number(ft[2])):ft.length===2&&(ht=ht+Number(ft[0])*60,ht=ht+Number(ft[1])),Number(ht)}})}(),s})})(numeral$1);var numeralExports=numeral$1.exports;const numeral=getDefaultExportFromCjs(numeralExports);function number$3(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function isBytes$3(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes$3(e,...s){if(!isBytes$3(e))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(e.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${e.length}`)}function hash$2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$3(e.outputLen),number$3(e.blockLen)}function exists$2(e,s=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(s&&e.finished)throw new Error("Hash#digest() has already been called")}function output$2(e,s){bytes$3(e);const a=s.outputLen;if(e.length<a)throw new Error(`digestInto() expects output buffer of length at least ${a}`)}const crypto$3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView$2=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr$2=(e,s)=>e<<32-s|e>>>s;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const hexes$3=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$3(e){bytes$3(e);let s="";for(let a=0;a<e.length;a++)s+=hexes$3[e[a]];return s}const asciis$1={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16$1(e){if(e>=asciis$1._0&&e<=asciis$1._9)return e-asciis$1._0;if(e>=asciis$1._A&&e<=asciis$1._F)return e-(asciis$1._A-10);if(e>=asciis$1._a&&e<=asciis$1._f)return e-(asciis$1._a-10)}function hexToBytes$4(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length,a=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const c=new Uint8Array(a);for(let h=0,b=0;h<a;h++,b+=2){const tt=asciiToBase16$1(e.charCodeAt(b)),nt=asciiToBase16$1(e.charCodeAt(b+1));if(tt===void 0||nt===void 0){const ot=e[b]+e[b+1];throw new Error('hex string expected, got non-hex character "'+ot+'" at index '+b)}c[h]=tt*16+nt}return c}function utf8ToBytes$4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes$2(e){return typeof e=="string"&&(e=utf8ToBytes$4(e)),bytes$3(e),e}function concatBytes$4(...e){let s=0;for(let c=0;c<e.length;c++){const h=e[c];bytes$3(h),s+=h.length}const a=new Uint8Array(s);for(let c=0,h=0;c<e.length;c++){const b=e[c];a.set(b,h),h+=b.length}return a}let Hash$2=class{clone(){return this._cloneInto()}};function wrapConstructor$2(e){const s=c=>e().update(toBytes$2(c)).digest(),a=e();return s.outputLen=a.outputLen,s.blockLen=a.blockLen,s.create=()=>e(),s}function randomBytes$2(e=32){if(crypto$3&&typeof crypto$3.getRandomValues=="function")return crypto$3.getRandomValues(new Uint8Array(e));if(crypto$3&&typeof crypto$3.randomBytes=="function")return crypto$3.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$2(e,s,a,c){if(typeof e.setBigUint64=="function")return e.setBigUint64(s,a,c);const h=BigInt(32),b=BigInt(4294967295),tt=Number(a>>h&b),nt=Number(a&b),ot=c?4:0,st=c?0:4;e.setUint32(s+ot,tt,c),e.setUint32(s+st,nt,c)}const Chi$2=(e,s,a)=>e&s^~e&a,Maj$2=(e,s,a)=>e&s^e&a^s&a;class HashMD extends Hash$2{constructor(s,a,c,h){super(),this.blockLen=s,this.outputLen=a,this.padOffset=c,this.isLE=h,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView$2(this.buffer)}update(s){exists$2(this);const{view:a,buffer:c,blockLen:h}=this;s=toBytes$2(s);const b=s.length;for(let tt=0;tt<b;){const nt=Math.min(h-this.pos,b-tt);if(nt===h){const ot=createView$2(s);for(;h<=b-tt;tt+=h)this.process(ot,tt);continue}c.set(s.subarray(tt,tt+nt),this.pos),this.pos+=nt,tt+=nt,this.pos===h&&(this.process(a,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){exists$2(this),output$2(s,this),this.finished=!0;const{buffer:a,view:c,blockLen:h,isLE:b}=this;let{pos:tt}=this;a[tt++]=128,this.buffer.subarray(tt).fill(0),this.padOffset>h-tt&&(this.process(c,0),tt=0);for(let ht=tt;ht<h;ht++)a[ht]=0;setBigUint64$2(c,h-8,BigInt(this.length*8),b),this.process(c,0);const nt=createView$2(s),ot=this.outputLen;if(ot%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const st=ot/4,ft=this.get();if(st>ft.length)throw new Error("_sha2: outputLen bigger than state");for(let ht=0;ht<st;ht++)nt.setUint32(4*ht,ft[ht],b)}digest(){const{buffer:s,outputLen:a}=this;this.digestInto(s);const c=s.slice(0,a);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:a,buffer:c,length:h,finished:b,destroyed:tt,pos:nt}=this;return s.length=h,s.pos=nt,s.finished=b,s.destroyed=tt,h%a&&s.buffer.set(c),s}}const SHA256_K$2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$2=new Uint32Array(64);let SHA256$2=class extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:s,B:a,C:c,D:h,E:b,F:tt,G:nt,H:ot}=this;return[s,a,c,h,b,tt,nt,ot]}set(s,a,c,h,b,tt,nt,ot){this.A=s|0,this.B=a|0,this.C=c|0,this.D=h|0,this.E=b|0,this.F=tt|0,this.G=nt|0,this.H=ot|0}process(s,a){for(let ht=0;ht<16;ht++,a+=4)SHA256_W$2[ht]=s.getUint32(a,!1);for(let ht=16;ht<64;ht++){const gt=SHA256_W$2[ht-15],yt=SHA256_W$2[ht-2],Et=rotr$2(gt,7)^rotr$2(gt,18)^gt>>>3,wt=rotr$2(yt,17)^rotr$2(yt,19)^yt>>>10;SHA256_W$2[ht]=wt+SHA256_W$2[ht-7]+Et+SHA256_W$2[ht-16]|0}let{A:c,B:h,C:b,D:tt,E:nt,F:ot,G:st,H:ft}=this;for(let ht=0;ht<64;ht++){const gt=rotr$2(nt,6)^rotr$2(nt,11)^rotr$2(nt,25),yt=ft+gt+Chi$2(nt,ot,st)+SHA256_K$2[ht]+SHA256_W$2[ht]|0,wt=(rotr$2(c,2)^rotr$2(c,13)^rotr$2(c,22))+Maj$2(c,h,b)|0;ft=st,st=ot,ot=nt,nt=tt+yt|0,tt=b,b=h,h=c,c=yt+wt|0}c=c+this.A|0,h=h+this.B|0,b=b+this.C|0,tt=tt+this.D|0,nt=nt+this.E|0,ot=ot+this.F|0,st=st+this.G|0,ft=ft+this.H|0,this.set(c,h,b,tt,nt,ot,st,ft)}roundClean(){SHA256_W$2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$2=wrapConstructor$2(()=>new SHA256$2);let HMAC$2=class extends Hash$2{constructor(s,a){super(),this.finished=!1,this.destroyed=!1,hash$2(s);const c=toBytes$2(a);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const h=this.blockLen,b=new Uint8Array(h);b.set(c.length>h?s.create().update(c).digest():c);for(let tt=0;tt<b.length;tt++)b[tt]^=54;this.iHash.update(b),this.oHash=s.create();for(let tt=0;tt<b.length;tt++)b[tt]^=106;this.oHash.update(b),b.fill(0)}update(s){return exists$2(this),this.iHash.update(s),this}digestInto(s){exists$2(this),bytes$3(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:h,destroyed:b,blockLen:tt,outputLen:nt}=this;return s=s,s.finished=h,s.destroyed=b,s.blockLen=tt,s.outputLen=nt,s.oHash=a._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$2=(e,s,a)=>new HMAC$2(e,s).update(a).digest();hmac$2.create=(e,s)=>new HMAC$2(e,s);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$9=BigInt(0),_1n$9=BigInt(1),_2n$5=BigInt(2);function isBytes$2(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function abytes(e){if(!isBytes$2(e))throw new Error("Uint8Array expected")}function abool(e,s){if(typeof s!="boolean")throw new Error(`${e} must be valid boolean, got "${s}".`)}const hexes$2=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$2(e){abytes(e);let s="";for(let a=0;a<e.length;a++)s+=hexes$2[e[a]];return s}function numberToHexUnpadded$1(e){const s=e.toString(16);return s.length&1?`0${s}`:s}function hexToNumber$1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(e){if(e>=asciis._0&&e<=asciis._9)return e-asciis._0;if(e>=asciis._A&&e<=asciis._F)return e-(asciis._A-10);if(e>=asciis._a&&e<=asciis._f)return e-(asciis._a-10)}function hexToBytes$3(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length,a=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const c=new Uint8Array(a);for(let h=0,b=0;h<a;h++,b+=2){const tt=asciiToBase16(e.charCodeAt(b)),nt=asciiToBase16(e.charCodeAt(b+1));if(tt===void 0||nt===void 0){const ot=e[b]+e[b+1];throw new Error('hex string expected, got non-hex character "'+ot+'" at index '+b)}c[h]=tt*16+nt}return c}function bytesToNumberBE$1(e){return hexToNumber$1(bytesToHex$2(e))}function bytesToNumberLE$1(e){return abytes(e),hexToNumber$1(bytesToHex$2(Uint8Array.from(e).reverse()))}function numberToBytesBE$1(e,s){return hexToBytes$3(e.toString(16).padStart(s*2,"0"))}function numberToBytesLE$1(e,s){return numberToBytesBE$1(e,s).reverse()}function numberToVarBytesBE$1(e){return hexToBytes$3(numberToHexUnpadded$1(e))}function ensureBytes$1(e,s,a){let c;if(typeof s=="string")try{c=hexToBytes$3(s)}catch(b){throw new Error(`${e} must be valid hex string, got "${s}". Cause: ${b}`)}else if(isBytes$2(s))c=Uint8Array.from(s);else throw new Error(`${e} must be hex string or Uint8Array`);const h=c.length;if(typeof a=="number"&&h!==a)throw new Error(`${e} expected ${a} bytes, got ${h}`);return c}function concatBytes$3(...e){let s=0;for(let c=0;c<e.length;c++){const h=e[c];abytes(h),s+=h.length}const a=new Uint8Array(s);for(let c=0,h=0;c<e.length;c++){const b=e[c];a.set(b,h),h+=b.length}return a}function equalBytes$2(e,s){if(e.length!==s.length)return!1;let a=0;for(let c=0;c<e.length;c++)a|=e[c]^s[c];return a===0}function utf8ToBytes$3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const isPosBig=e=>typeof e=="bigint"&&_0n$9<=e;function inRange(e,s,a){return isPosBig(e)&&isPosBig(s)&&isPosBig(a)&&s<=e&&e<a}function aInRange(e,s,a,c){if(!inRange(s,a,c))throw new Error(`expected valid ${e}: ${a} <= n < ${c}, got ${typeof s} ${s}`)}function bitLen$1(e){let s;for(s=0;e>_0n$9;e>>=_1n$9,s+=1);return s}function bitGet$1(e,s){return e>>BigInt(s)&_1n$9}function bitSet$1(e,s,a){return e|(a?_1n$9:_0n$9)<<BigInt(s)}const bitMask$1=e=>(_2n$5<<BigInt(e-1))-_1n$9,u8n$1=e=>new Uint8Array(e),u8fr$1=e=>Uint8Array.from(e);function createHmacDrbg$1(e,s,a){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof a!="function")throw new Error("hmacFn must be a function");let c=u8n$1(e),h=u8n$1(e),b=0;const tt=()=>{c.fill(1),h.fill(0),b=0},nt=(...ht)=>a(h,c,...ht),ot=(ht=u8n$1())=>{h=nt(u8fr$1([0]),ht),c=nt(),ht.length!==0&&(h=nt(u8fr$1([1]),ht),c=nt())},st=()=>{if(b++>=1e3)throw new Error("drbg: tried 1000 values");let ht=0;const gt=[];for(;ht<s;){c=nt();const yt=c.slice();gt.push(yt),ht+=c.length}return concatBytes$3(...gt)};return(ht,gt)=>{tt(),ot(ht);let yt;for(;!(yt=gt(st()));)ot();return tt(),yt}}const validatorFns$1={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||isBytes$2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,s)=>s.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function validateObject$1(e,s,a={}){const c=(h,b,tt)=>{const nt=validatorFns$1[b];if(typeof nt!="function")throw new Error(`Invalid validator "${b}", expected function`);const ot=e[h];if(!(tt&&ot===void 0)&&!nt(ot,e))throw new Error(`Invalid param ${String(h)}=${ot} (${typeof ot}), expected ${b}`)};for(const[h,b]of Object.entries(s))c(h,b,!1);for(const[h,b]of Object.entries(a))c(h,b,!0);return e}const notImplemented=()=>{throw new Error("not implemented")};function memoized(e){const s=new WeakMap;return(a,...c)=>{const h=s.get(a);if(h!==void 0)return h;const b=e(a,...c);return s.set(a,b),b}}const ut$1=Object.freeze(Object.defineProperty({__proto__:null,aInRange,abool,abytes,bitGet:bitGet$1,bitLen:bitLen$1,bitMask:bitMask$1,bitSet:bitSet$1,bytesToHex:bytesToHex$2,bytesToNumberBE:bytesToNumberBE$1,bytesToNumberLE:bytesToNumberLE$1,concatBytes:concatBytes$3,createHmacDrbg:createHmacDrbg$1,ensureBytes:ensureBytes$1,equalBytes:equalBytes$2,hexToBytes:hexToBytes$3,hexToNumber:hexToNumber$1,inRange,isBytes:isBytes$2,memoized,notImplemented,numberToBytesBE:numberToBytesBE$1,numberToBytesLE:numberToBytesLE$1,numberToHexUnpadded:numberToHexUnpadded$1,numberToVarBytesBE:numberToVarBytesBE$1,utf8ToBytes:utf8ToBytes$3,validateObject:validateObject$1},Symbol.toStringTag,{value:"Module"}));/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function chain$1(...e){const s=b=>b,a=(b,tt)=>nt=>b(tt(nt)),c=e.map(b=>b.encode).reduceRight(a,s),h=e.map(b=>b.decode).reduce(a,s);return{encode:c,decode:h}}function alphabet$1(e){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(a=>{if(a<0||a>=e.length)throw new Error(`Digit index outside alphabet: ${a} (alphabet: ${e.length})`);return e[a]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(a=>{if(typeof a!="string")throw new Error(`alphabet.decode: not string element=${a}`);const c=e.indexOf(a);if(c===-1)throw new Error(`Unknown letter: "${a}". Allowed: ${e}`);return c})}}}function join$1(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let a of s)if(typeof a!="string")throw new Error(`join.encode: non-string input=${a}`);return s.join(e)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(e)}}}function padding$1(e,s="="){if(typeof s!="string")throw new Error("padding chr should be string");return{encode(a){if(!Array.isArray(a)||a.length&&typeof a[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of a)if(typeof c!="string")throw new Error(`padding.encode: non-string input=${c}`);for(;a.length*e%8;)a.push(s);return a},decode(a){if(!Array.isArray(a)||a.length&&typeof a[0]!="string")throw new Error("padding.encode input should be array of strings");for(let h of a)if(typeof h!="string")throw new Error(`padding.decode: non-string input=${h}`);let c=a.length;if(c*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;c>0&&a[c-1]===s;c--)if(!((c-1)*e%8))throw new Error("Invalid padding: string has too much padding");return a.slice(0,c)}}}const gcd$1=(e,s)=>s?gcd$1(s,e%s):e,radix2carry$1=(e,s)=>e+(s-gcd$1(e,s));function convertRadix2$1(e,s,a,c){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(a<=0||a>32)throw new Error(`convertRadix2: wrong to=${a}`);if(radix2carry$1(s,a)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${a} carryBits=${radix2carry$1(s,a)}`);let h=0,b=0;const tt=2**a-1,nt=[];for(const ot of e){if(ot>=2**s)throw new Error(`convertRadix2: invalid data word=${ot} from=${s}`);if(h=h<<s|ot,b+s>32)throw new Error(`convertRadix2: carry overflow pos=${b} from=${s}`);for(b+=s;b>=a;b-=a)nt.push((h>>b-a&tt)>>>0);h&=2**b-1}if(h=h<<a-b&tt,!c&&b>=s)throw new Error("Excess padding");if(!c&&h)throw new Error(`Non-zero padding: ${h}`);return c&&b>0&&nt.push(h>>>0),nt}function radix2$1(e,s=!1){if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry$1(8,e)>32||radix2carry$1(e,8)>32)throw new Error("radix2: carry overflow");return{encode:a=>{if(!isBytes$1(a))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2$1(Array.from(a),8,e,!s)},decode:a=>{if(!Array.isArray(a)||a.length&&typeof a[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(convertRadix2$1(a,e,8,s))}}}function unsafeWrapper$1(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return e.apply(null,s)}catch{}}}const base64$1=chain$1(radix2$1(6),alphabet$1("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding$1(6),join$1("")),BECH_ALPHABET$1=chain$1(alphabet$1("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join$1("")),POLYMOD_GENERATORS$1=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod$1(e){const s=e>>25;let a=(e&33554431)<<5;for(let c=0;c<POLYMOD_GENERATORS$1.length;c++)(s>>c&1)===1&&(a^=POLYMOD_GENERATORS$1[c]);return a}function bechChecksum$1(e,s,a=1){const c=e.length;let h=1;for(let b=0;b<c;b++){const tt=e.charCodeAt(b);if(tt<33||tt>126)throw new Error(`Invalid prefix (${e})`);h=bech32Polymod$1(h)^tt>>5}h=bech32Polymod$1(h);for(let b=0;b<c;b++)h=bech32Polymod$1(h)^e.charCodeAt(b)&31;for(let b of s)h=bech32Polymod$1(h)^b;for(let b=0;b<6;b++)h=bech32Polymod$1(h);return h^=a,BECH_ALPHABET$1.encode(convertRadix2$1([h%2**30],30,5,!1))}function genBech32$1(e){const s=e==="bech32"?1:734539939,a=radix2$1(5),c=a.decode,h=a.encode,b=unsafeWrapper$1(c);function tt(ht,gt,yt=90){if(typeof ht!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof ht}`);if(gt instanceof Uint8Array&&(gt=Array.from(gt)),!Array.isArray(gt)||gt.length&&typeof gt[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof gt}`);if(ht.length===0)throw new TypeError(`Invalid prefix length ${ht.length}`);const Et=ht.length+7+gt.length;if(yt!==!1&&Et>yt)throw new TypeError(`Length ${Et} exceeds limit ${yt}`);const wt=ht.toLowerCase(),bt=bechChecksum$1(wt,gt,s);return`${wt}1${BECH_ALPHABET$1.encode(gt)}${bt}`}function nt(ht,gt=90){if(typeof ht!="string")throw new Error(`bech32.decode input should be string, not ${typeof ht}`);if(ht.length<8||gt!==!1&&ht.length>gt)throw new TypeError(`Wrong string length: ${ht.length} (${ht}). Expected (8..${gt})`);const yt=ht.toLowerCase();if(ht!==yt&&ht!==ht.toUpperCase())throw new Error("String must be lowercase or uppercase");const Et=yt.lastIndexOf("1");if(Et===0||Et===-1)throw new Error('Letter "1" must be present between prefix and data only');const wt=yt.slice(0,Et),bt=yt.slice(Et+1);if(bt.length<6)throw new Error("Data must be at least 6 characters long");const mt=BECH_ALPHABET$1.decode(bt).slice(0,-6),vt=bechChecksum$1(wt,mt,s);if(!bt.endsWith(vt))throw new Error(`Invalid checksum in ${ht}: expected "${vt}"`);return{prefix:wt,words:mt}}const ot=unsafeWrapper$1(nt);function st(ht){const{prefix:gt,words:yt}=nt(ht,!1);return{prefix:gt,words:yt,bytes:c(yt)}}function ft(ht,gt){return tt(ht,h(gt))}return{encode:tt,decode:nt,encodeFromBytes:ft,decodeToBytes:st,decodeUnsafe:ot,fromWords:c,fromWordsUnsafe:b,toWords:h}}const bech32$2=genBech32$1("bech32");function hmacSha256(e,...s){return hmac$2(sha256$2,e,concatBytes$3(...s))}function base64Encode(e){return base64$1.encode(e)}function hexToBytes$2(e){return hexToBytes$3(e)}async function getDataURLFromHTMLDOM(e){return toPng(e)}function downloadImage(e,s){const a=document.createElement("a");a.href=s,a.download=e,a.click()}function copyDataURL(e){const s=dataURLToBlob(e),a=new ClipboardItem({"image/png":s});return navigator.clipboard.write([a])}function dataURLToBlob(e){const s=e.split(","),a="image/png",c=atob(s[1]);let h=c.length;const b=new Uint8Array(h);for(;h--;)b[h]=c.charCodeAt(h);return new Blob([b],{type:a})}function proxyImg(e,s,a,c){const h=new TextEncoder;function b(gt){return gt.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tt(gt){const yt=hmacSha256(hexToBytes$2(s==null?void 0:s.key),hexToBytes$2(s==null?void 0:s.salt),h.encode(gt));return b(base64Encode(yt))}if(!s||e.startsWith("data:")||e.startsWith("blob:")||e.length==0)return e;const nt=[],ot=h.encode(e),st=b(base64Encode(ot)),ft=`/${nt.join("/")}/${st}`,ht=tt(ft);return`${new URL(s.url).toString()}${ht}${ft}`}function toReadableStatsFormat(e){return numeral(e).format("0.0a").replace(".0","")}function getRelaysFromLocalStorage(){const e=localStorage.getItem(RELAYS_LOCALSTORAGE_KEY);return e!==null?JSON.parse(e):null}function setRelaysInLocalStorage(e){localStorage.setItem(RELAYS_LOCALSTORAGE_KEY,JSON.stringify(e))}function getBreakpoint(){const e=window.innerWidth;return e<=425?"small":e>425&&e<=900?"medium":"large"}const Canvas=reactExports.forwardRef(({noteHTML:e,note:s,showResponse:a,gradient:c},h)=>{var ht,gt,yt;const b=reactExports.useRef(null),tt=reactExports.useRef(null),nt=reactExports.useRef(null),ot=reactExports.useRef(null),{width:st,height:ft}=useResizable({cardWrapperRef:b,leftResizeKnob:tt,rightResizeKnob:nt,bottomResizeKnob:ot,initialWidth:700,initialHeight:325});return jsxRuntimeExports.jsx(CanvasContainer,{children:jsxRuntimeExports.jsxs(CardWrapper,{ref:b,style:{width:st},children:[jsxRuntimeExports.jsxs(ResizeKnobs,{children:[jsxRuntimeExports.jsx(ResizeKnobContainer,{ref:tt,$position:ResizeKnobPosition.left,children:jsxRuntimeExports.jsx(ResizeKnob,{})}),jsxRuntimeExports.jsx(ResizeKnobContainer,{ref:nt,$position:ResizeKnobPosition.right,children:jsxRuntimeExports.jsx(ResizeKnob,{})}),jsxRuntimeExports.jsx(ResizeKnobContainer,{ref:ot,$position:ResizeKnobPosition.bottom,children:jsxRuntimeExports.jsx(ResizeKnob,{})})]}),jsxRuntimeExports.jsx(CardContainer,{ref:h,children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(BackgroundGradient,{$gradient:c}),jsxRuntimeExports.jsxs("div",{style:{width:"100%",position:"relative"},children:[jsxRuntimeExports.jsx(CardBlurShadow,{width:st,height:ft,$gradient:c}),jsxRuntimeExports.jsxs(CardContentContainer,{children:[jsxRuntimeExports.jsx(InnerGradient,{}),jsxRuntimeExports.jsxs(AuthorInfo,{children:[jsxRuntimeExports.jsx(AuthorImage,{src:proxyImg(((ht=s.author)==null?void 0:ht.image)||"",defaultImgProxy)}),jsxRuntimeExports.jsxs(AuthorNameAndNip05Container,{children:[jsxRuntimeExports.jsxs(AuthorNameContainer,{children:[jsxRuntimeExports.jsx(AuthorName,{children:(gt=s.author)==null?void 0:gt.name}),jsxRuntimeExports.jsx(VerificationCheckContainer,{children:jsxRuntimeExports.jsx(VerificationIconContainer,{children:jsxRuntimeExports.jsx(VerificationCheck,{})})})]}),jsxRuntimeExports.jsx(AuthorNip05,{children:(yt=s.author)==null?void 0:yt.nip05})]})]}),jsxRuntimeExports.jsx(TweetContent,{dangerouslySetInnerHTML:{__html:e}}),jsxRuntimeExports.jsxs(TweetTimestamp,{children:[dayjs(s.createdAt*1e3).format("hh:mm A"),"  ",dayjs(s.createdAt*1e3).format("DD MMM, YYYY")]}),a?jsxRuntimeExports.jsxs(TweetStats,{children:[jsxRuntimeExports.jsxs(StatItem,{children:[jsxRuntimeExports.jsx("span",{children:toReadableStatsFormat(s.replies)})," replies"]}),jsxRuntimeExports.jsxs(StatItem,{children:[jsxRuntimeExports.jsx("span",{children:toReadableStatsFormat(s.zaps)})," zaps"]}),jsxRuntimeExports.jsxs(StatItem,{children:[jsxRuntimeExports.jsx("span",{children:toReadableStatsFormat(s.likes)})," likes"]}),jsxRuntimeExports.jsxs(StatItem,{children:[jsxRuntimeExports.jsx("span",{children:toReadableStatsFormat(s.reposts)})," reposts"]})]}):null]})]})]})})]})})}),FooterWrapper=dt.footer`
    display: flex;
    justify-content: space-between;
    padding: 20px 60px;

    ${tablet(`
      padding: 20px;
    `)}
`,FooterContainer=dt.div`
    display: flex;
    align-items: center;
    justify-content: center;

    ${tablet(`
      flex-direction: column;
    `)}
`,FooterText=dt.span`
    color: #FFF;
`,FooterLink=dt.a`
    color: #CE66FF;
    font-weight: 600;
    text-decoration: underline;
`;dt.div`
    width: 1px;
    height: 18px;
    background-color: #616161;
    margin: 0 8px;
`;const HorizonalMargin=dt.div`
    margin: 0 8px;
    transform: translateY(3px);
`,PulsatedAnimation=dt.div`
    animation: pulse 1s linear infinite;

    @keyframes pulse {
        0% {
            transform: scale(1);
        }

        50% {
            transform: scale(1.5);
        }

        100% {
            transform: scale(1);
        }
    }
`,RotatedAnimation=dt.div`
    animation: rotate 1.5s linear infinite;

    @keyframes rotate {
        0% {
            transform: rotateY(0deg);
        }

        50% {
            transform: rotateY(180deg);
        }

        100% {
            transform: rotateY(360deg);
        }
    }
`,GlitchAnimation=dt.div`
    animation: glitchAnimation 2s infinite;

    @keyframes glitchAnimation {
      0% {
        transform: translate(0);
        filter: brightness(100%);
      }
      10% {
        transform: translate(-2px, 2px);
        filter: brightness(150%) hue-rotate(10deg);
      }
      20% {
        transform: translate(3px, -3px);
        filter: brightness(90%) hue-rotate(-15deg);
      }
      30% {
        transform: translate(-1px, 1px);
        filter: brightness(120%) blur(1px);
      }
      40% {
        transform: translate(0);
        filter: brightness(100%);
      }
      50% {
        transform: translate(2px, -2px);
        filter: brightness(130%) hue-rotate(15deg);
      }
      60% {
        transform: translate(-3px, 3px);
        filter: brightness(80%) blur(1px);
      }
      70% {
        transform: translate(0);
        filter: brightness(110%);
      }
      80% {
        transform: translate(1px, -1px);
        filter: brightness(140%) hue-rotate(-10deg);
      }
      90% {
        transform: translate(-2px, 2px);
        filter: brightness(100%) blur(2px);
      }
      100% {
        transform: translate(0);
        filter: brightness(100%);
      }
    }

    .glitch::before,
    .glitch::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: inherit;
      animation: glitchBefore 2s infinite;
    }

    .glitch::after {
      animation: glitchAfter 2s infinite;
    }

    /* Left to right shifting for glitch effect */
    @keyframes glitchBefore {
      0% {
        clip: rect(0, 9999px, 0, 0);
      }
      10% {
        clip: rect(0, 9999px, 0, 0);
        transform: translate(-2px, -2px);
      }
      20% {
        clip: rect(10px, 9999px, 20px, 0);
        transform: translate(3px, 2px);
      }
      30% {
        clip: rect(30px, 9999px, 60px, 0);
        transform: translate(0, 1px);
      }
      40% {
        clip: rect(10px, 9999px, 40px, 0);
        transform: translate(0, -2px);
      }
      50% {
        clip: rect(0, 9999px, 9999px, 0);
        transform: translate(2px, 1px);
      }
    }

    @keyframes glitchAfter {
      0% {
        clip: rect(0, 9999px, 0, 0);
      }
      10% {
        clip: rect(0, 9999px, 0, 0);
        transform: translate(2px, 2px);
      }
      20% {
        clip: rect(20px, 9999px, 40px, 0);
        transform: translate(-2px, -2px);
      }
      30% {
        clip: rect(40px, 9999px, 70px, 0);
        transform: translate(-1px, 0);
      }
      40% {
        clip: rect(0, 9999px, 30px, 0);
        transform: translate(1px, -1px);
      }
      50% {
        clip: rect(0, 9999px, 9999px, 0);
        transform: translate(-2px, 0);
      }
    }
`;function Footer(){return jsxRuntimeExports.jsxs(FooterWrapper,{children:[jsxRuntimeExports.jsxs(FooterContainer,{children:[jsxRuntimeExports.jsx(FooterText,{children:"Sponsored"}),jsxRuntimeExports.jsx(HorizonalMargin,{children:jsxRuntimeExports.jsx(RotatedAnimation,{children:jsxRuntimeExports.jsx(Bitcoin,{})})}),jsxRuntimeExports.jsxs(FooterText,{children:["by ",jsxRuntimeExports.jsx(FooterLink,{target:"_blank",href:"https://njump.me/npub1qsvv5ttv6mrlh38q8ydmw3gzwq360mdu8re2vr7rk68sqmhmsh4svhsft3",children:"@saiy2k"})]})]}),jsxRuntimeExports.jsxs(FooterContainer,{children:[jsxRuntimeExports.jsx(FooterText,{children:"Made with"}),jsxRuntimeExports.jsx(HorizonalMargin,{children:jsxRuntimeExports.jsx(PulsatedAnimation,{children:jsxRuntimeExports.jsx(HeartIcon2,{})})}),jsxRuntimeExports.jsxs(FooterText,{children:["by ",jsxRuntimeExports.jsx(FooterLink,{target:"_blank",href:"https://njump.me/npub1nraaalnsaxgfm5u7m2z3hqfjnygguql6na6az9j6cnlphtsp9zws4540xf",children:"@djhemath"})]})]}),jsxRuntimeExports.jsxs(FooterContainer,{children:[jsxRuntimeExports.jsx(FooterText,{children:"Inspired"}),jsxRuntimeExports.jsx(HorizonalMargin,{children:jsxRuntimeExports.jsx(GlitchAnimation,{children:jsxRuntimeExports.jsx(Bulb,{})})}),jsxRuntimeExports.jsxs(FooterText,{children:["by ",jsxRuntimeExports.jsx(FooterLink,{target:"_blank",href:"https://poet.so",children:"poet.so"})]})]})]})}const StyledHelpButton=dt.button`
    border: none;
    background-color: transparent;
    cursor: pointer;
    font-size: 36px;
    color: #FFF;
    width: 65px;
    height: 65px;
    border-radius: 5px;

    &:hover {
        background-color: rgba(39,39,40,1);
    }

    &:focus {
        outline: #CE66FF solid 2px;
    }
`;function HelpButton(){return jsxRuntimeExports.jsx(StyledHelpButton,{className:"rammetto-one-regular",children:"?"})}const StyledLogo=dt.h1`
    color: #FFF;
    font-size: 40px;
    margin: 0px;
    background: linear-gradient(90deg, #CE66FF, #FE983B);
    background-clip: text;
    -webkit-text-fill-color: transparent;
    user-select: none;
`;function Logo(){return jsxRuntimeExports.jsx(StyledLogo,{className:"rammetto-one-regular",children:"SnapNostr"})}const SearchBarWrapper=dt.div`
    display: flex;
    flex-direction: column;
    position: relative;
    top: 17px;

    ${tablet(`
        width: 100%;
    `)}
`,SearchBarContainer=dt.label`
    background-color: #272727;
    border: 1px solid #71717187;
    border-radius: 8px;
    padding: 10px 40px;
    width: 550px;
    height: 50px;
    box-shadow: 0 25px 40px 11px #00000040;
    transform: translateX(-10%);

    display: flex;
    align-items: center;
    gap: 10px;

    transition: all 0.2s;

    cursor: text;

    &:hover {
        border: 1px solid #717171;
    }

    &:has(input:focus) {
        outline: #CE66FF solid 2px;
    }

    &:focus-within, &:has(input:not(:placeholder-shown)) {
        padding-left: 10px;
    }

    position: relative;

    ${tablet(`
        width: 100%;
        transform: unset;
        padding: 10px 10px;
    `)}
`,SearchBarForm=dt.form`
    height: 100%;
    width: 100%;
`,SearchInput=dt.input`
    border: none;
    background-color: transparent !important;
    height: 100%;
    width: 100%;
    font-size: 16px;
    outline: none;
    color: #FFF;
`,SearchBarProgressContainer=dt.div`
    position: absolute;
    inset: 3px 3px 1px;
    border-radius: .5rem;
    overflow: hidden;
    pointer-events: none;
    width: 100.5%;
    left: -2px;
    bottom: 0px;
`,SearchBarProgress=dt.div`
    background: #27c4f5 linear-gradient(to right,#CE66FF,#FE983B);
    -webkit-animation: 3s linear infinite rainbow,.5s ease-out enter;
    animation: 3s linear infinite rainbow,.5s ease-out enter;
    transition: opacity .3s ease-in-out;
    transform-origin: left;
    background-size: 500%;
    z-index: 999999;
    position: absolute;
    display: block;
    width: 100%;
    opacity: 1;
    left: 0;
    bottom: 0;
    height: 2px;
`;function number$2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bytes$2(e,...s){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(e.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${e.length}`)}function hash$1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$2(e.outputLen),number$2(e.blockLen)}function exists$1(e,s=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(s&&e.finished)throw new Error("Hash#digest() has already been called")}function output$1(e,s){bytes$2(e);const a=s.outputLen;if(e.length<a)throw new Error(`digestInto() expects output buffer of length at least ${a}`)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$2=e=>e instanceof Uint8Array,createView$1=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr$1=(e,s)=>e<<32-s|e>>>s,isLE$2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$2)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$2(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes$1(e){if(typeof e=="string"&&(e=utf8ToBytes$2(e)),!u8a$2(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function concatBytes$2(...e){const s=new Uint8Array(e.reduce((c,h)=>c+h.length,0));let a=0;return e.forEach(c=>{if(!u8a$2(c))throw new Error("Uint8Array expected");s.set(c,a),a+=c.length}),s}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor$1(e){const s=c=>e().update(toBytes$1(c)).digest(),a=e();return s.outputLen=a.outputLen,s.blockLen=a.blockLen,s.create=()=>e(),s}function randomBytes$1(e=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(e,s,a,c){if(typeof e.setBigUint64=="function")return e.setBigUint64(s,a,c);const h=BigInt(32),b=BigInt(4294967295),tt=Number(a>>h&b),nt=Number(a&b),ot=c?4:0,st=c?0:4;e.setUint32(s+ot,tt,c),e.setUint32(s+st,nt,c)}let SHA2$1=class extends Hash$1{constructor(s,a,c,h){super(),this.blockLen=s,this.outputLen=a,this.padOffset=c,this.isLE=h,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView$1(this.buffer)}update(s){exists$1(this);const{view:a,buffer:c,blockLen:h}=this;s=toBytes$1(s);const b=s.length;for(let tt=0;tt<b;){const nt=Math.min(h-this.pos,b-tt);if(nt===h){const ot=createView$1(s);for(;h<=b-tt;tt+=h)this.process(ot,tt);continue}c.set(s.subarray(tt,tt+nt),this.pos),this.pos+=nt,tt+=nt,this.pos===h&&(this.process(a,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){exists$1(this),output$1(s,this),this.finished=!0;const{buffer:a,view:c,blockLen:h,isLE:b}=this;let{pos:tt}=this;a[tt++]=128,this.buffer.subarray(tt).fill(0),this.padOffset>h-tt&&(this.process(c,0),tt=0);for(let ht=tt;ht<h;ht++)a[ht]=0;setBigUint64$1(c,h-8,BigInt(this.length*8),b),this.process(c,0);const nt=createView$1(s),ot=this.outputLen;if(ot%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const st=ot/4,ft=this.get();if(st>ft.length)throw new Error("_sha2: outputLen bigger than state");for(let ht=0;ht<st;ht++)nt.setUint32(4*ht,ft[ht],b)}digest(){const{buffer:s,outputLen:a}=this;this.digestInto(s);const c=s.slice(0,a);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:a,buffer:c,length:h,finished:b,destroyed:tt,pos:nt}=this;return s.length=h,s.pos=nt,s.finished=b,s.destroyed=tt,h%a&&s.buffer.set(c),s}};const Chi$1=(e,s,a)=>e&s^~e&a,Maj$1=(e,s,a)=>e&s^e&a^s&a,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$1=class extends SHA2$1{constructor(){super(64,32,8,!1),this.A=IV$1[0]|0,this.B=IV$1[1]|0,this.C=IV$1[2]|0,this.D=IV$1[3]|0,this.E=IV$1[4]|0,this.F=IV$1[5]|0,this.G=IV$1[6]|0,this.H=IV$1[7]|0}get(){const{A:s,B:a,C:c,D:h,E:b,F:tt,G:nt,H:ot}=this;return[s,a,c,h,b,tt,nt,ot]}set(s,a,c,h,b,tt,nt,ot){this.A=s|0,this.B=a|0,this.C=c|0,this.D=h|0,this.E=b|0,this.F=tt|0,this.G=nt|0,this.H=ot|0}process(s,a){for(let ht=0;ht<16;ht++,a+=4)SHA256_W$1[ht]=s.getUint32(a,!1);for(let ht=16;ht<64;ht++){const gt=SHA256_W$1[ht-15],yt=SHA256_W$1[ht-2],Et=rotr$1(gt,7)^rotr$1(gt,18)^gt>>>3,wt=rotr$1(yt,17)^rotr$1(yt,19)^yt>>>10;SHA256_W$1[ht]=wt+SHA256_W$1[ht-7]+Et+SHA256_W$1[ht-16]|0}let{A:c,B:h,C:b,D:tt,E:nt,F:ot,G:st,H:ft}=this;for(let ht=0;ht<64;ht++){const gt=rotr$1(nt,6)^rotr$1(nt,11)^rotr$1(nt,25),yt=ft+gt+Chi$1(nt,ot,st)+SHA256_K$1[ht]+SHA256_W$1[ht]|0,wt=(rotr$1(c,2)^rotr$1(c,13)^rotr$1(c,22))+Maj$1(c,h,b)|0;ft=st,st=ot,ot=nt,nt=tt+yt|0,tt=b,b=h,h=c,c=yt+wt|0}c=c+this.A|0,h=h+this.B|0,b=b+this.C|0,tt=tt+this.D|0,nt=nt+this.E|0,ot=ot+this.F|0,st=st+this.G|0,ft=ft+this.H|0,this.set(c,h,b,tt,nt,ot,st,ft)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$1=wrapConstructor$1(()=>new SHA256$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$8=BigInt(0),_1n$8=BigInt(1),_2n$4=BigInt(2),u8a$1=e=>e instanceof Uint8Array,hexes$1=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$1(e){if(!u8a$1(e))throw new Error("Uint8Array expected");let s="";for(let a=0;a<e.length;a++)s+=hexes$1[e[a]];return s}function numberToHexUnpadded(e){const s=e.toString(16);return s.length&1?`0${s}`:s}function hexToNumber(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function hexToBytes$1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const a=new Uint8Array(s/2);for(let c=0;c<a.length;c++){const h=c*2,b=e.slice(h,h+2),tt=Number.parseInt(b,16);if(Number.isNaN(tt)||tt<0)throw new Error("Invalid byte sequence");a[c]=tt}return a}function bytesToNumberBE(e){return hexToNumber(bytesToHex$1(e))}function bytesToNumberLE(e){if(!u8a$1(e))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex$1(Uint8Array.from(e).reverse()))}function numberToBytesBE(e,s){return hexToBytes$1(e.toString(16).padStart(s*2,"0"))}function numberToBytesLE(e,s){return numberToBytesBE(e,s).reverse()}function numberToVarBytesBE(e){return hexToBytes$1(numberToHexUnpadded(e))}function ensureBytes(e,s,a){let c;if(typeof s=="string")try{c=hexToBytes$1(s)}catch(b){throw new Error(`${e} must be valid hex string, got "${s}". Cause: ${b}`)}else if(u8a$1(s))c=Uint8Array.from(s);else throw new Error(`${e} must be hex string or Uint8Array`);const h=c.length;if(typeof a=="number"&&h!==a)throw new Error(`${e} expected ${a} bytes, got ${h}`);return c}function concatBytes$1(...e){const s=new Uint8Array(e.reduce((c,h)=>c+h.length,0));let a=0;return e.forEach(c=>{if(!u8a$1(c))throw new Error("Uint8Array expected");s.set(c,a),a+=c.length}),s}function equalBytes$1(e,s){if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==s[a])return!1;return!0}function utf8ToBytes$1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function bitLen(e){let s;for(s=0;e>_0n$8;e>>=_1n$8,s+=1);return s}function bitGet(e,s){return e>>BigInt(s)&_1n$8}const bitSet=(e,s,a)=>e|(a?_1n$8:_0n$8)<<BigInt(s),bitMask=e=>(_2n$4<<BigInt(e-1))-_1n$8,u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,s,a){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof a!="function")throw new Error("hmacFn must be a function");let c=u8n(e),h=u8n(e),b=0;const tt=()=>{c.fill(1),h.fill(0),b=0},nt=(...ht)=>a(h,c,...ht),ot=(ht=u8n())=>{h=nt(u8fr([0]),ht),c=nt(),ht.length!==0&&(h=nt(u8fr([1]),ht),c=nt())},st=()=>{if(b++>=1e3)throw new Error("drbg: tried 1000 values");let ht=0;const gt=[];for(;ht<s;){c=nt();const yt=c.slice();gt.push(yt),ht+=c.length}return concatBytes$1(...gt)};return(ht,gt)=>{tt(),ot(ht);let yt;for(;!(yt=gt(st()));)ot();return tt(),yt}}const validatorFns={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,s)=>s.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function validateObject(e,s,a={}){const c=(h,b,tt)=>{const nt=validatorFns[b];if(typeof nt!="function")throw new Error(`Invalid validator "${b}", expected function`);const ot=e[h];if(!(tt&&ot===void 0)&&!nt(ot,e))throw new Error(`Invalid param ${String(h)}=${ot} (${typeof ot}), expected ${b}`)};for(const[h,b]of Object.entries(s))c(h,b,!1);for(const[h,b]of Object.entries(a))c(h,b,!0);return e}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex:bytesToHex$1,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes,equalBytes:equalBytes$1,hexToBytes:hexToBytes$1,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$7=BigInt(0),_1n$7=BigInt(1),_2n$3=BigInt(2),_3n$3=BigInt(3),_4n$1=BigInt(4),_5n$1=BigInt(5),_8n$1=BigInt(8);BigInt(9);BigInt(16);function mod$1(e,s){const a=e%s;return a>=_0n$7?a:s+a}function pow$1(e,s,a){if(a<=_0n$7||s<_0n$7)throw new Error("Expected power/modulo > 0");if(a===_1n$7)return _0n$7;let c=_1n$7;for(;s>_0n$7;)s&_1n$7&&(c=c*e%a),e=e*e%a,s>>=_1n$7;return c}function pow2$1(e,s,a){let c=e;for(;s-- >_0n$7;)c*=c,c%=a;return c}function invert$1(e,s){if(e===_0n$7||s<=_0n$7)throw new Error(`invert: expected positive integers, got n=${e} mod=${s}`);let a=mod$1(e,s),c=s,h=_0n$7,b=_1n$7;for(;a!==_0n$7;){const nt=c/a,ot=c%a,st=h-b*nt;c=a,a=ot,h=b,b=st}if(c!==_1n$7)throw new Error("invert: does not exist");return mod$1(h,s)}function tonelliShanks$1(e){const s=(e-_1n$7)/_2n$3;let a,c,h;for(a=e-_1n$7,c=0;a%_2n$3===_0n$7;a/=_2n$3,c++);for(h=_2n$3;h<e&&pow$1(h,s,e)!==e-_1n$7;h++);if(c===1){const tt=(e+_1n$7)/_4n$1;return function(ot,st){const ft=ot.pow(st,tt);if(!ot.eql(ot.sqr(ft),st))throw new Error("Cannot find square root");return ft}}const b=(a+_1n$7)/_2n$3;return function(nt,ot){if(nt.pow(ot,s)===nt.neg(nt.ONE))throw new Error("Cannot find square root");let st=c,ft=nt.pow(nt.mul(nt.ONE,h),a),ht=nt.pow(ot,b),gt=nt.pow(ot,a);for(;!nt.eql(gt,nt.ONE);){if(nt.eql(gt,nt.ZERO))return nt.ZERO;let yt=1;for(let wt=nt.sqr(gt);yt<st&&!nt.eql(wt,nt.ONE);yt++)wt=nt.sqr(wt);const Et=nt.pow(ft,_1n$7<<BigInt(st-yt-1));ft=nt.sqr(Et),ht=nt.mul(ht,Et),gt=nt.mul(gt,ft),st=yt}return ht}}function FpSqrt$1(e){if(e%_4n$1===_3n$3){const s=(e+_1n$7)/_4n$1;return function(c,h){const b=c.pow(h,s);if(!c.eql(c.sqr(b),h))throw new Error("Cannot find square root");return b}}if(e%_8n$1===_5n$1){const s=(e-_5n$1)/_8n$1;return function(c,h){const b=c.mul(h,_2n$3),tt=c.pow(b,s),nt=c.mul(h,tt),ot=c.mul(c.mul(nt,_2n$3),tt),st=c.mul(nt,c.sub(ot,c.ONE));if(!c.eql(c.sqr(st),h))throw new Error("Cannot find square root");return st}}return tonelliShanks$1(e)}const FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(e){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},a=FIELD_FIELDS$1.reduce((c,h)=>(c[h]="function",c),s);return validateObject(e,a)}function FpPow$1(e,s,a){if(a<_0n$7)throw new Error("Expected power > 0");if(a===_0n$7)return e.ONE;if(a===_1n$7)return s;let c=e.ONE,h=s;for(;a>_0n$7;)a&_1n$7&&(c=e.mul(c,h)),h=e.sqr(h),a>>=_1n$7;return c}function FpInvertBatch$1(e,s){const a=new Array(s.length),c=s.reduce((b,tt,nt)=>e.is0(tt)?b:(a[nt]=b,e.mul(b,tt)),e.ONE),h=e.inv(c);return s.reduceRight((b,tt,nt)=>e.is0(tt)?b:(a[nt]=e.mul(b,a[nt]),e.mul(b,tt)),h),a}function nLength$1(e,s){const a=s!==void 0?s:e.toString(2).length,c=Math.ceil(a/8);return{nBitLength:a,nByteLength:c}}function Field$1(e,s,a=!1,c={}){if(e<=_0n$7)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:h,nByteLength:b}=nLength$1(e,s);if(b>2048)throw new Error("Field lengths over 2048 bytes are not supported");const tt=FpSqrt$1(e),nt=Object.freeze({ORDER:e,BITS:h,BYTES:b,MASK:bitMask(h),ZERO:_0n$7,ONE:_1n$7,create:ot=>mod$1(ot,e),isValid:ot=>{if(typeof ot!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ot}`);return _0n$7<=ot&&ot<e},is0:ot=>ot===_0n$7,isOdd:ot=>(ot&_1n$7)===_1n$7,neg:ot=>mod$1(-ot,e),eql:(ot,st)=>ot===st,sqr:ot=>mod$1(ot*ot,e),add:(ot,st)=>mod$1(ot+st,e),sub:(ot,st)=>mod$1(ot-st,e),mul:(ot,st)=>mod$1(ot*st,e),pow:(ot,st)=>FpPow$1(nt,ot,st),div:(ot,st)=>mod$1(ot*invert$1(st,e),e),sqrN:ot=>ot*ot,addN:(ot,st)=>ot+st,subN:(ot,st)=>ot-st,mulN:(ot,st)=>ot*st,inv:ot=>invert$1(ot,e),sqrt:c.sqrt||(ot=>tt(nt,ot)),invertBatch:ot=>FpInvertBatch$1(nt,ot),cmov:(ot,st,ft)=>ft?st:ot,toBytes:ot=>a?numberToBytesLE(ot,b):numberToBytesBE(ot,b),fromBytes:ot=>{if(ot.length!==b)throw new Error(`Fp.fromBytes: expected ${b}, got ${ot.length}`);return a?bytesToNumberLE(ot):bytesToNumberBE(ot)}});return Object.freeze(nt)}function getFieldBytesLength$1(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const s=e.toString(2).length;return Math.ceil(s/8)}function getMinHashLength$1(e){const s=getFieldBytesLength$1(e);return s+Math.ceil(s/2)}function mapHashToField$1(e,s,a=!1){const c=e.length,h=getFieldBytesLength$1(s),b=getMinHashLength$1(s);if(c<16||c<b||c>1024)throw new Error(`expected ${b}-1024 bytes of input, got ${c}`);const tt=a?bytesToNumberBE(e):bytesToNumberLE(e),nt=mod$1(tt,s-_1n$7)+_1n$7;return a?numberToBytesLE(nt,h):numberToBytesBE(nt,h)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$6=BigInt(0),_1n$6=BigInt(1);function wNAF$1(e,s){const a=(h,b)=>{const tt=b.negate();return h?tt:b},c=h=>{const b=Math.ceil(s/h)+1,tt=2**(h-1);return{windows:b,windowSize:tt}};return{constTimeNegate:a,unsafeLadder(h,b){let tt=e.ZERO,nt=h;for(;b>_0n$6;)b&_1n$6&&(tt=tt.add(nt)),nt=nt.double(),b>>=_1n$6;return tt},precomputeWindow(h,b){const{windows:tt,windowSize:nt}=c(b),ot=[];let st=h,ft=st;for(let ht=0;ht<tt;ht++){ft=st,ot.push(ft);for(let gt=1;gt<nt;gt++)ft=ft.add(st),ot.push(ft);st=ft.double()}return ot},wNAF(h,b,tt){const{windows:nt,windowSize:ot}=c(h);let st=e.ZERO,ft=e.BASE;const ht=BigInt(2**h-1),gt=2**h,yt=BigInt(h);for(let Et=0;Et<nt;Et++){const wt=Et*ot;let bt=Number(tt&ht);tt>>=yt,bt>ot&&(bt-=gt,tt+=_1n$6);const mt=wt,vt=wt+Math.abs(bt)-1,xt=Et%2!==0,kt=bt<0;bt===0?ft=ft.add(a(xt,b[mt])):st=st.add(a(kt,b[vt]))}return{p:st,f:ft}},wNAFCached(h,b,tt,nt){const ot=h._WINDOW_SIZE||1;let st=b.get(h);return st||(st=this.precomputeWindow(h,ot),ot!==1&&b.set(h,nt(st))),this.wNAF(ot,st,tt)}}}function validateBasic$1(e){return validateField$1(e.Fp),validateObject(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$1(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts$1(e){const s=validateBasic$1(e);validateObject(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:a,Fp:c,a:h}=s;if(a){if(!c.eql(h,c.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof a!="object"||typeof a.beta!="bigint"||typeof a.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:b2n$1,hexToBytes:h2b$1}=ut,DER$1={Err:class extends Error{constructor(s=""){super(s)}},_parseInt(e){const{Err:s}=DER$1;if(e.length<2||e[0]!==2)throw new s("Invalid signature integer tag");const a=e[1],c=e.subarray(2,a+2);if(!a||c.length!==a)throw new s("Invalid signature integer: wrong length");if(c[0]&128)throw new s("Invalid signature integer: negative");if(c[0]===0&&!(c[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return{d:b2n$1(c),l:e.subarray(a+2)}},toSig(e){const{Err:s}=DER$1,a=typeof e=="string"?h2b$1(e):e;if(!(a instanceof Uint8Array))throw new Error("ui8a expected");let c=a.length;if(c<2||a[0]!=48)throw new s("Invalid signature tag");if(a[1]!==c-2)throw new s("Invalid signature: incorrect length");const{d:h,l:b}=DER$1._parseInt(a.subarray(2)),{d:tt,l:nt}=DER$1._parseInt(b);if(nt.length)throw new s("Invalid signature: left bytes after parsing");return{r:h,s:tt}},hexFromSig(e){const s=st=>Number.parseInt(st[0],16)&8?"00"+st:st,a=st=>{const ft=st.toString(16);return ft.length&1?`0${ft}`:ft},c=s(a(e.s)),h=s(a(e.r)),b=c.length/2,tt=h.length/2,nt=a(b),ot=a(tt);return`30${a(tt+b+4)}02${ot}${h}02${nt}${c}`}},_0n$5=BigInt(0),_1n$5=BigInt(1);BigInt(2);const _3n$2=BigInt(3);BigInt(4);function weierstrassPoints$1(e){const s=validatePointOpts$1(e),{Fp:a}=s,c=s.toBytes||((Et,wt,bt)=>{const mt=wt.toAffine();return concatBytes$1(Uint8Array.from([4]),a.toBytes(mt.x),a.toBytes(mt.y))}),h=s.fromBytes||(Et=>{const wt=Et.subarray(1),bt=a.fromBytes(wt.subarray(0,a.BYTES)),mt=a.fromBytes(wt.subarray(a.BYTES,2*a.BYTES));return{x:bt,y:mt}});function b(Et){const{a:wt,b:bt}=s,mt=a.sqr(Et),vt=a.mul(mt,Et);return a.add(a.add(vt,a.mul(Et,wt)),bt)}if(!a.eql(a.sqr(s.Gy),b(s.Gx)))throw new Error("bad generator point: equation left != right");function tt(Et){return typeof Et=="bigint"&&_0n$5<Et&&Et<s.n}function nt(Et){if(!tt(Et))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ot(Et){const{allowedPrivateKeyLengths:wt,nByteLength:bt,wrapPrivateKey:mt,n:vt}=s;if(wt&&typeof Et!="bigint"){if(Et instanceof Uint8Array&&(Et=bytesToHex$1(Et)),typeof Et!="string"||!wt.includes(Et.length))throw new Error("Invalid key");Et=Et.padStart(bt*2,"0")}let xt;try{xt=typeof Et=="bigint"?Et:bytesToNumberBE(ensureBytes("private key",Et,bt))}catch{throw new Error(`private key must be ${bt} bytes, hex or bigint, not ${typeof Et}`)}return mt&&(xt=mod$1(xt,vt)),nt(xt),xt}const st=new Map;function ft(Et){if(!(Et instanceof ht))throw new Error("ProjectivePoint expected")}class ht{constructor(wt,bt,mt){if(this.px=wt,this.py=bt,this.pz=mt,wt==null||!a.isValid(wt))throw new Error("x required");if(bt==null||!a.isValid(bt))throw new Error("y required");if(mt==null||!a.isValid(mt))throw new Error("z required")}static fromAffine(wt){const{x:bt,y:mt}=wt||{};if(!wt||!a.isValid(bt)||!a.isValid(mt))throw new Error("invalid affine point");if(wt instanceof ht)throw new Error("projective point not allowed");const vt=xt=>a.eql(xt,a.ZERO);return vt(bt)&&vt(mt)?ht.ZERO:new ht(bt,mt,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(wt){const bt=a.invertBatch(wt.map(mt=>mt.pz));return wt.map((mt,vt)=>mt.toAffine(bt[vt])).map(ht.fromAffine)}static fromHex(wt){const bt=ht.fromAffine(h(ensureBytes("pointHex",wt)));return bt.assertValidity(),bt}static fromPrivateKey(wt){return ht.BASE.multiply(ot(wt))}_setWindowSize(wt){this._WINDOW_SIZE=wt,st.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!a.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:wt,y:bt}=this.toAffine();if(!a.isValid(wt)||!a.isValid(bt))throw new Error("bad point: x or y not FE");const mt=a.sqr(bt),vt=b(wt);if(!a.eql(mt,vt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:wt}=this.toAffine();if(a.isOdd)return!a.isOdd(wt);throw new Error("Field doesn't support isOdd")}equals(wt){ft(wt);const{px:bt,py:mt,pz:vt}=this,{px:xt,py:kt,pz:Lt}=wt,Ct=a.eql(a.mul(bt,Lt),a.mul(xt,vt)),St=a.eql(a.mul(mt,Lt),a.mul(kt,vt));return Ct&&St}negate(){return new ht(this.px,a.neg(this.py),this.pz)}double(){const{a:wt,b:bt}=s,mt=a.mul(bt,_3n$2),{px:vt,py:xt,pz:kt}=this;let Lt=a.ZERO,Ct=a.ZERO,St=a.ZERO,Pt=a.mul(vt,vt),Ot=a.mul(xt,xt),zt=a.mul(kt,kt),Rt=a.mul(vt,xt);return Rt=a.add(Rt,Rt),St=a.mul(vt,kt),St=a.add(St,St),Lt=a.mul(wt,St),Ct=a.mul(mt,zt),Ct=a.add(Lt,Ct),Lt=a.sub(Ot,Ct),Ct=a.add(Ot,Ct),Ct=a.mul(Lt,Ct),Lt=a.mul(Rt,Lt),St=a.mul(mt,St),zt=a.mul(wt,zt),Rt=a.sub(Pt,zt),Rt=a.mul(wt,Rt),Rt=a.add(Rt,St),St=a.add(Pt,Pt),Pt=a.add(St,Pt),Pt=a.add(Pt,zt),Pt=a.mul(Pt,Rt),Ct=a.add(Ct,Pt),zt=a.mul(xt,kt),zt=a.add(zt,zt),Pt=a.mul(zt,Rt),Lt=a.sub(Lt,Pt),St=a.mul(zt,Ot),St=a.add(St,St),St=a.add(St,St),new ht(Lt,Ct,St)}add(wt){ft(wt);const{px:bt,py:mt,pz:vt}=this,{px:xt,py:kt,pz:Lt}=wt;let Ct=a.ZERO,St=a.ZERO,Pt=a.ZERO;const Ot=s.a,zt=a.mul(s.b,_3n$2);let Rt=a.mul(bt,xt),Nt=a.mul(mt,kt),Mt=a.mul(vt,Lt),It=a.add(bt,mt),$t=a.add(xt,kt);It=a.mul(It,$t),$t=a.add(Rt,Nt),It=a.sub(It,$t),$t=a.add(bt,vt);let _t=a.add(xt,Lt);return $t=a.mul($t,_t),_t=a.add(Rt,Mt),$t=a.sub($t,_t),_t=a.add(mt,vt),Ct=a.add(kt,Lt),_t=a.mul(_t,Ct),Ct=a.add(Nt,Mt),_t=a.sub(_t,Ct),Pt=a.mul(Ot,$t),Ct=a.mul(zt,Mt),Pt=a.add(Ct,Pt),Ct=a.sub(Nt,Pt),Pt=a.add(Nt,Pt),St=a.mul(Ct,Pt),Nt=a.add(Rt,Rt),Nt=a.add(Nt,Rt),Mt=a.mul(Ot,Mt),$t=a.mul(zt,$t),Nt=a.add(Nt,Mt),Mt=a.sub(Rt,Mt),Mt=a.mul(Ot,Mt),$t=a.add($t,Mt),Rt=a.mul(Nt,$t),St=a.add(St,Rt),Rt=a.mul(_t,$t),Ct=a.mul(It,Ct),Ct=a.sub(Ct,Rt),Rt=a.mul(It,Nt),Pt=a.mul(_t,Pt),Pt=a.add(Pt,Rt),new ht(Ct,St,Pt)}subtract(wt){return this.add(wt.negate())}is0(){return this.equals(ht.ZERO)}wNAF(wt){return yt.wNAFCached(this,st,wt,bt=>{const mt=a.invertBatch(bt.map(vt=>vt.pz));return bt.map((vt,xt)=>vt.toAffine(mt[xt])).map(ht.fromAffine)})}multiplyUnsafe(wt){const bt=ht.ZERO;if(wt===_0n$5)return bt;if(nt(wt),wt===_1n$5)return this;const{endo:mt}=s;if(!mt)return yt.unsafeLadder(this,wt);let{k1neg:vt,k1:xt,k2neg:kt,k2:Lt}=mt.splitScalar(wt),Ct=bt,St=bt,Pt=this;for(;xt>_0n$5||Lt>_0n$5;)xt&_1n$5&&(Ct=Ct.add(Pt)),Lt&_1n$5&&(St=St.add(Pt)),Pt=Pt.double(),xt>>=_1n$5,Lt>>=_1n$5;return vt&&(Ct=Ct.negate()),kt&&(St=St.negate()),St=new ht(a.mul(St.px,mt.beta),St.py,St.pz),Ct.add(St)}multiply(wt){nt(wt);let bt=wt,mt,vt;const{endo:xt}=s;if(xt){const{k1neg:kt,k1:Lt,k2neg:Ct,k2:St}=xt.splitScalar(bt);let{p:Pt,f:Ot}=this.wNAF(Lt),{p:zt,f:Rt}=this.wNAF(St);Pt=yt.constTimeNegate(kt,Pt),zt=yt.constTimeNegate(Ct,zt),zt=new ht(a.mul(zt.px,xt.beta),zt.py,zt.pz),mt=Pt.add(zt),vt=Ot.add(Rt)}else{const{p:kt,f:Lt}=this.wNAF(bt);mt=kt,vt=Lt}return ht.normalizeZ([mt,vt])[0]}multiplyAndAddUnsafe(wt,bt,mt){const vt=ht.BASE,xt=(Lt,Ct)=>Ct===_0n$5||Ct===_1n$5||!Lt.equals(vt)?Lt.multiplyUnsafe(Ct):Lt.multiply(Ct),kt=xt(this,bt).add(xt(wt,mt));return kt.is0()?void 0:kt}toAffine(wt){const{px:bt,py:mt,pz:vt}=this,xt=this.is0();wt==null&&(wt=xt?a.ONE:a.inv(vt));const kt=a.mul(bt,wt),Lt=a.mul(mt,wt),Ct=a.mul(vt,wt);if(xt)return{x:a.ZERO,y:a.ZERO};if(!a.eql(Ct,a.ONE))throw new Error("invZ was invalid");return{x:kt,y:Lt}}isTorsionFree(){const{h:wt,isTorsionFree:bt}=s;if(wt===_1n$5)return!0;if(bt)return bt(ht,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:wt,clearCofactor:bt}=s;return wt===_1n$5?this:bt?bt(ht,this):this.multiplyUnsafe(s.h)}toRawBytes(wt=!0){return this.assertValidity(),c(ht,this,wt)}toHex(wt=!0){return bytesToHex$1(this.toRawBytes(wt))}}ht.BASE=new ht(s.Gx,s.Gy,a.ONE),ht.ZERO=new ht(a.ZERO,a.ONE,a.ZERO);const gt=s.nBitLength,yt=wNAF$1(ht,s.endo?Math.ceil(gt/2):gt);return{CURVE:s,ProjectivePoint:ht,normPrivateKeyToScalar:ot,weierstrassEquation:b,isWithinCurveOrder:tt}}function validateOpts$1(e){const s=validateBasic$1(e);return validateObject(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function weierstrass$1(e){const s=validateOpts$1(e),{Fp:a,n:c}=s,h=a.BYTES+1,b=2*a.BYTES+1;function tt($t){return _0n$5<$t&&$t<a.ORDER}function nt($t){return mod$1($t,c)}function ot($t){return invert$1($t,c)}const{ProjectivePoint:st,normPrivateKeyToScalar:ft,weierstrassEquation:ht,isWithinCurveOrder:gt}=weierstrassPoints$1({...s,toBytes($t,_t,Bt){const Tt=_t.toAffine(),jt=a.toBytes(Tt.x),Ft=concatBytes$1;return Bt?Ft(Uint8Array.from([_t.hasEvenY()?2:3]),jt):Ft(Uint8Array.from([4]),jt,a.toBytes(Tt.y))},fromBytes($t){const _t=$t.length,Bt=$t[0],Tt=$t.subarray(1);if(_t===h&&(Bt===2||Bt===3)){const jt=bytesToNumberBE(Tt);if(!tt(jt))throw new Error("Point is not on curve");const Ft=ht(jt);let Ut=a.sqrt(Ft);const Ht=(Ut&_1n$5)===_1n$5;return(Bt&1)===1!==Ht&&(Ut=a.neg(Ut)),{x:jt,y:Ut}}else if(_t===b&&Bt===4){const jt=a.fromBytes(Tt.subarray(0,a.BYTES)),Ft=a.fromBytes(Tt.subarray(a.BYTES,2*a.BYTES));return{x:jt,y:Ft}}else throw new Error(`Point of length ${_t} was invalid. Expected ${h} compressed bytes or ${b} uncompressed bytes`)}}),yt=$t=>bytesToHex$1(numberToBytesBE($t,s.nByteLength));function Et($t){const _t=c>>_1n$5;return $t>_t}function wt($t){return Et($t)?nt(-$t):$t}const bt=($t,_t,Bt)=>bytesToNumberBE($t.slice(_t,Bt));class mt{constructor(_t,Bt,Tt){this.r=_t,this.s=Bt,this.recovery=Tt,this.assertValidity()}static fromCompact(_t){const Bt=s.nByteLength;return _t=ensureBytes("compactSignature",_t,Bt*2),new mt(bt(_t,0,Bt),bt(_t,Bt,2*Bt))}static fromDER(_t){const{r:Bt,s:Tt}=DER$1.toSig(ensureBytes("DER",_t));return new mt(Bt,Tt)}assertValidity(){if(!gt(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!gt(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_t){return new mt(this.r,this.s,_t)}recoverPublicKey(_t){const{r:Bt,s:Tt,recovery:jt}=this,Ft=St(ensureBytes("msgHash",_t));if(jt==null||![0,1,2,3].includes(jt))throw new Error("recovery id invalid");const Ut=jt===2||jt===3?Bt+s.n:Bt;if(Ut>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ht=jt&1?"03":"02",Dt=st.fromHex(Ht+yt(Ut)),Vt=ot(Ut),Gt=nt(-Ft*Vt),Wt=nt(Tt*Vt),qt=st.BASE.multiplyAndAddUnsafe(Dt,Gt,Wt);if(!qt)throw new Error("point at infinify");return qt.assertValidity(),qt}hasHighS(){return Et(this.s)}normalizeS(){return this.hasHighS()?new mt(this.r,nt(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$1(this.toDERHex())}toDERHex(){return DER$1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$1(this.toCompactHex())}toCompactHex(){return yt(this.r)+yt(this.s)}}const vt={isValidPrivateKey($t){try{return ft($t),!0}catch{return!1}},normPrivateKeyToScalar:ft,randomPrivateKey:()=>{const $t=getMinHashLength$1(s.n);return mapHashToField$1(s.randomBytes($t),s.n)},precompute($t=8,_t=st.BASE){return _t._setWindowSize($t),_t.multiply(BigInt(3)),_t}};function xt($t,_t=!0){return st.fromPrivateKey($t).toRawBytes(_t)}function kt($t){const _t=$t instanceof Uint8Array,Bt=typeof $t=="string",Tt=(_t||Bt)&&$t.length;return _t?Tt===h||Tt===b:Bt?Tt===2*h||Tt===2*b:$t instanceof st}function Lt($t,_t,Bt=!0){if(kt($t))throw new Error("first arg must be private key");if(!kt(_t))throw new Error("second arg must be public key");return st.fromHex(_t).multiply(ft($t)).toRawBytes(Bt)}const Ct=s.bits2int||function($t){const _t=bytesToNumberBE($t),Bt=$t.length*8-s.nBitLength;return Bt>0?_t>>BigInt(Bt):_t},St=s.bits2int_modN||function($t){return nt(Ct($t))},Pt=bitMask(s.nBitLength);function Ot($t){if(typeof $t!="bigint")throw new Error("bigint expected");if(!(_0n$5<=$t&&$t<Pt))throw new Error(`bigint expected < 2^${s.nBitLength}`);return numberToBytesBE($t,s.nByteLength)}function zt($t,_t,Bt=Rt){if(["recovered","canonical"].some(Yt=>Yt in Bt))throw new Error("sign() legacy options not supported");const{hash:Tt,randomBytes:jt}=s;let{lowS:Ft,prehash:Ut,extraEntropy:Ht}=Bt;Ft==null&&(Ft=!0),$t=ensureBytes("msgHash",$t),Ut&&($t=ensureBytes("prehashed msgHash",Tt($t)));const Dt=St($t),Vt=ft(_t),Gt=[Ot(Vt),Ot(Dt)];if(Ht!=null){const Yt=Ht===!0?jt(a.BYTES):Ht;Gt.push(ensureBytes("extraEntropy",Yt))}const Wt=concatBytes$1(...Gt),qt=Dt;function Qt(Yt){const Xt=Ct(Yt);if(!gt(Xt))return;const Kt=ot(Xt),Zt=st.BASE.multiply(Xt).toAffine(),Jt=nt(Zt.x);if(Jt===_0n$5)return;const en=nt(Kt*nt(qt+Jt*Vt));if(en===_0n$5)return;let sn=(Zt.x===Jt?0:2)|Number(Zt.y&_1n$5),an=en;return Ft&&Et(en)&&(an=wt(en),sn^=1),new mt(Jt,an,sn)}return{seed:Wt,k2sig:Qt}}const Rt={lowS:s.lowS,prehash:!1},Nt={lowS:s.lowS,prehash:!1};function Mt($t,_t,Bt=Rt){const{seed:Tt,k2sig:jt}=zt($t,_t,Bt),Ft=s;return createHmacDrbg(Ft.hash.outputLen,Ft.nByteLength,Ft.hmac)(Tt,jt)}st.BASE._setWindowSize(8);function It($t,_t,Bt,Tt=Nt){var Zt;const jt=$t;if(_t=ensureBytes("msgHash",_t),Bt=ensureBytes("publicKey",Bt),"strict"in Tt)throw new Error("options.strict was renamed to lowS");const{lowS:Ft,prehash:Ut}=Tt;let Ht,Dt;try{if(typeof jt=="string"||jt instanceof Uint8Array)try{Ht=mt.fromDER(jt)}catch(Jt){if(!(Jt instanceof DER$1.Err))throw Jt;Ht=mt.fromCompact(jt)}else if(typeof jt=="object"&&typeof jt.r=="bigint"&&typeof jt.s=="bigint"){const{r:Jt,s:en}=jt;Ht=new mt(Jt,en)}else throw new Error("PARSE");Dt=st.fromHex(Bt)}catch(Jt){if(Jt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ft&&Ht.hasHighS())return!1;Ut&&(_t=s.hash(_t));const{r:Vt,s:Gt}=Ht,Wt=St(_t),qt=ot(Gt),Qt=nt(Wt*qt),Yt=nt(Vt*qt),Xt=(Zt=st.BASE.multiplyAndAddUnsafe(Dt,Qt,Yt))==null?void 0:Zt.toAffine();return Xt?nt(Xt.x)===Vt:!1}return{CURVE:s,getPublicKey:xt,getSharedSecret:Lt,sign:Mt,verify:It,ProjectivePoint:st,Signature:mt,utils:vt}}let HMAC$1=class extends Hash$1{constructor(s,a){super(),this.finished=!1,this.destroyed=!1,hash$1(s);const c=toBytes$1(a);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const h=this.blockLen,b=new Uint8Array(h);b.set(c.length>h?s.create().update(c).digest():c);for(let tt=0;tt<b.length;tt++)b[tt]^=54;this.iHash.update(b),this.oHash=s.create();for(let tt=0;tt<b.length;tt++)b[tt]^=106;this.oHash.update(b),b.fill(0)}update(s){return exists$1(this),this.iHash.update(s),this}digestInto(s){exists$1(this),bytes$2(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:h,destroyed:b,blockLen:tt,outputLen:nt}=this;return s=s,s.finished=h,s.destroyed=b,s.blockLen=tt,s.outputLen=nt,s.oHash=a._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$1=(e,s,a)=>new HMAC$1(e,s).update(a).digest();hmac$1.create=(e,s)=>new HMAC$1(e,s);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(e){return{hash:e,hmac:(s,...a)=>hmac$1(e,s,concatBytes$2(...a)),randomBytes:randomBytes$1}}function createCurve$1(e,s){const a=c=>weierstrass$1({...e,...getHash$1(c)});return Object.freeze({...a(s),create:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$4=BigInt(1),_2n$2=BigInt(2),divNearest$1=(e,s)=>(e+s/_2n$2)/s;function sqrtMod$1(e){const s=secp256k1P$1,a=BigInt(3),c=BigInt(6),h=BigInt(11),b=BigInt(22),tt=BigInt(23),nt=BigInt(44),ot=BigInt(88),st=e*e*e%s,ft=st*st*e%s,ht=pow2$1(ft,a,s)*ft%s,gt=pow2$1(ht,a,s)*ft%s,yt=pow2$1(gt,_2n$2,s)*st%s,Et=pow2$1(yt,h,s)*yt%s,wt=pow2$1(Et,b,s)*Et%s,bt=pow2$1(wt,nt,s)*wt%s,mt=pow2$1(bt,ot,s)*bt%s,vt=pow2$1(mt,nt,s)*wt%s,xt=pow2$1(vt,a,s)*ft%s,kt=pow2$1(xt,tt,s)*Et%s,Lt=pow2$1(kt,c,s)*st%s,Ct=pow2$1(Lt,_2n$2,s);if(!Fp$1.eql(Fp$1.sqr(Ct),e))throw new Error("Cannot find square root");return Ct}const Fp$1=Field$1(secp256k1P$1,void 0,void 0,{sqrt:sqrtMod$1}),secp256k1$1=createCurve$1({a:BigInt(0),b:BigInt(7),Fp:Fp$1,n:secp256k1N$1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const s=secp256k1N$1,a=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-_1n$4*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),h=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b=a,tt=BigInt("0x100000000000000000000000000000000"),nt=divNearest$1(b*e,s),ot=divNearest$1(-c*e,s);let st=mod$1(e-nt*a-ot*h,s),ft=mod$1(-nt*c-ot*b,s);const ht=st>tt,gt=ft>tt;if(ht&&(st=s-st),gt&&(ft=s-ft),st>tt||ft>tt)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:ht,k1:st,k2neg:gt,k2:ft}}}},sha256$1),_0n$4=BigInt(0),fe=e=>typeof e=="bigint"&&_0n$4<e&&e<secp256k1P$1,ge=e=>typeof e=="bigint"&&_0n$4<e&&e<secp256k1N$1,TAGGED_HASH_PREFIXES$1={};function taggedHash$1(e,...s){let a=TAGGED_HASH_PREFIXES$1[e];if(a===void 0){const c=sha256$1(Uint8Array.from(e,h=>h.charCodeAt(0)));a=concatBytes$1(c,c),TAGGED_HASH_PREFIXES$1[e]=a}return sha256$1(concatBytes$1(a,...s))}const pointToBytes$1=e=>e.toRawBytes(!0).slice(1),numTo32b$1=e=>numberToBytesBE(e,32),modP$1=e=>mod$1(e,secp256k1P$1),modN$1=e=>mod$1(e,secp256k1N$1),Point$1=secp256k1$1.ProjectivePoint,GmulAdd$1=(e,s,a)=>Point$1.BASE.multiplyAndAddUnsafe(e,s,a);function schnorrGetExtPubKey$1(e){let s=secp256k1$1.utils.normPrivateKeyToScalar(e),a=Point$1.fromPrivateKey(s);return{scalar:a.hasEvenY()?s:modN$1(-s),bytes:pointToBytes$1(a)}}function lift_x$1(e){if(!fe(e))throw new Error("bad x: need 0 < x < p");const s=modP$1(e*e),a=modP$1(s*e+BigInt(7));let c=sqrtMod$1(a);c%_2n$2!==_0n$4&&(c=modP$1(-c));const h=new Point$1(e,c,_1n$4);return h.assertValidity(),h}function challenge$1(...e){return modN$1(bytesToNumberBE(taggedHash$1("BIP0340/challenge",...e)))}function schnorrGetPublicKey$1(e){return schnorrGetExtPubKey$1(e).bytes}function schnorrSign$1(e,s,a=randomBytes$1(32)){const c=ensureBytes("message",e),{bytes:h,scalar:b}=schnorrGetExtPubKey$1(s),tt=ensureBytes("auxRand",a,32),nt=numTo32b$1(b^bytesToNumberBE(taggedHash$1("BIP0340/aux",tt))),ot=taggedHash$1("BIP0340/nonce",nt,h,c),st=modN$1(bytesToNumberBE(ot));if(st===_0n$4)throw new Error("sign failed: k is zero");const{bytes:ft,scalar:ht}=schnorrGetExtPubKey$1(st),gt=challenge$1(ft,h,c),yt=new Uint8Array(64);if(yt.set(ft,0),yt.set(numTo32b$1(modN$1(ht+gt*b)),32),!schnorrVerify$1(yt,c,h))throw new Error("sign: Invalid signature produced");return yt}function schnorrVerify$1(e,s,a){const c=ensureBytes("signature",e,64),h=ensureBytes("message",s),b=ensureBytes("publicKey",a,32);try{const tt=lift_x$1(bytesToNumberBE(b)),nt=bytesToNumberBE(c.subarray(0,32));if(!fe(nt))return!1;const ot=bytesToNumberBE(c.subarray(32,64));if(!ge(ot))return!1;const st=challenge$1(numTo32b$1(nt),pointToBytes$1(tt),h),ft=GmulAdd$1(tt,ot,modN$1(-st));return!(!ft||!ft.hasEvenY()||ft.toAffine().x!==nt)}catch{return!1}}const schnorr$1={getPublicKey:schnorrGetPublicKey$1,sign:schnorrSign$1,verify:schnorrVerify$1,utils:{randomPrivateKey:secp256k1$1.utils.randomPrivateKey,lift_x:lift_x$1,pointToBytes:pointToBytes$1,numberToBytesBE,bytesToNumberBE,taggedHash:taggedHash$1,mod:mod$1}},crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a=e=>e instanceof Uint8Array,createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,s)=>e<<32-s|e>>>s,isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");const hexes=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex(e){if(!u8a(e))throw new Error("Uint8Array expected");let s="";for(let a=0;a<e.length;a++)s+=hexes[e[a]];return s}function hexToBytes(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const a=new Uint8Array(s/2);for(let c=0;c<a.length;c++){const h=c*2,b=e.slice(h,h+2),tt=Number.parseInt(b,16);if(Number.isNaN(tt)||tt<0)throw new Error("Invalid byte sequence");a[c]=tt}return a}function utf8ToBytes(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes(e){if(typeof e=="string"&&(e=utf8ToBytes(e)),!u8a(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function concatBytes(...e){const s=new Uint8Array(e.reduce((c,h)=>c+h.length,0));let a=0;return e.forEach(c=>{if(!u8a(c))throw new Error("Uint8Array expected");s.set(c,a),a+=c.length}),s}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(e){const s=c=>e().update(toBytes(c)).digest(),a=e();return s.outputLen=a.outputLen,s.blockLen=a.blockLen,s.create=()=>e(),s}function randomBytes(e=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function number$1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bool$1(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function bytes$1(e,...s){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(e.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${e.length}`)}function hash(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(e.outputLen),number$1(e.blockLen)}function exists(e,s=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(s&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,s){bytes$1(e);const a=s.outputLen;if(e.length<a)throw new Error(`digestInto() expects output buffer of length at least ${a}`)}const assert={number:number$1,bool:bool$1,bytes:bytes$1,hash,exists,output};function setBigUint64(e,s,a,c){if(typeof e.setBigUint64=="function")return e.setBigUint64(s,a,c);const h=BigInt(32),b=BigInt(4294967295),tt=Number(a>>h&b),nt=Number(a&b),ot=c?4:0,st=c?0:4;e.setUint32(s+ot,tt,c),e.setUint32(s+st,nt,c)}class SHA2 extends Hash{constructor(s,a,c,h){super(),this.blockLen=s,this.outputLen=a,this.padOffset=c,this.isLE=h,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){assert.exists(this);const{view:a,buffer:c,blockLen:h}=this;s=toBytes(s);const b=s.length;for(let tt=0;tt<b;){const nt=Math.min(h-this.pos,b-tt);if(nt===h){const ot=createView(s);for(;h<=b-tt;tt+=h)this.process(ot,tt);continue}c.set(s.subarray(tt,tt+nt),this.pos),this.pos+=nt,tt+=nt,this.pos===h&&(this.process(a,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){assert.exists(this),assert.output(s,this),this.finished=!0;const{buffer:a,view:c,blockLen:h,isLE:b}=this;let{pos:tt}=this;a[tt++]=128,this.buffer.subarray(tt).fill(0),this.padOffset>h-tt&&(this.process(c,0),tt=0);for(let ht=tt;ht<h;ht++)a[ht]=0;setBigUint64(c,h-8,BigInt(this.length*8),b),this.process(c,0);const nt=createView(s),ot=this.outputLen;if(ot%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const st=ot/4,ft=this.get();if(st>ft.length)throw new Error("_sha2: outputLen bigger than state");for(let ht=0;ht<st;ht++)nt.setUint32(4*ht,ft[ht],b)}digest(){const{buffer:s,outputLen:a}=this;this.digestInto(s);const c=s.slice(0,a);return this.destroy(),c}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:a,buffer:c,length:h,finished:b,destroyed:tt,pos:nt}=this;return s.length=h,s.pos=nt,s.finished=b,s.destroyed=tt,h%a&&s.buffer.set(c),s}}const Chi=(e,s,a)=>e&s^~e&a,Maj=(e,s,a)=>e&s^e&a^s&a,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:s,B:a,C:c,D:h,E:b,F:tt,G:nt,H:ot}=this;return[s,a,c,h,b,tt,nt,ot]}set(s,a,c,h,b,tt,nt,ot){this.A=s|0,this.B=a|0,this.C=c|0,this.D=h|0,this.E=b|0,this.F=tt|0,this.G=nt|0,this.H=ot|0}process(s,a){for(let ht=0;ht<16;ht++,a+=4)SHA256_W[ht]=s.getUint32(a,!1);for(let ht=16;ht<64;ht++){const gt=SHA256_W[ht-15],yt=SHA256_W[ht-2],Et=rotr(gt,7)^rotr(gt,18)^gt>>>3,wt=rotr(yt,17)^rotr(yt,19)^yt>>>10;SHA256_W[ht]=wt+SHA256_W[ht-7]+Et+SHA256_W[ht-16]|0}let{A:c,B:h,C:b,D:tt,E:nt,F:ot,G:st,H:ft}=this;for(let ht=0;ht<64;ht++){const gt=rotr(nt,6)^rotr(nt,11)^rotr(nt,25),yt=ft+gt+Chi(nt,ot,st)+SHA256_K[ht]+SHA256_W[ht]|0,wt=(rotr(c,2)^rotr(c,13)^rotr(c,22))+Maj(c,h,b)|0;ft=st,st=ot,ot=nt,nt=tt+yt|0,tt=b,b=h,h=c,c=yt+wt|0}c=c+this.A|0,h=h+this.B|0,b=b+this.C|0,tt=tt+this.D|0,nt=nt+this.E|0,ot=ot+this.F|0,st=st+this.G|0,ft=ft+this.H|0,this.set(c,h,b,tt,nt,ot,st,ft)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const sha256=wrapConstructor(()=>new SHA256);wrapConstructor(()=>new SHA224);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function assertNumber(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function chain(...e){const s=(h,b)=>tt=>h(b(tt)),a=Array.from(e).reverse().reduce((h,b)=>h?s(h,b.encode):b.encode,void 0),c=e.reduce((h,b)=>h?s(h,b.decode):b.decode,void 0);return{encode:a,decode:c}}function alphabet(e){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(a=>{if(assertNumber(a),a<0||a>=e.length)throw new Error(`Digit index outside alphabet: ${a} (alphabet: ${e.length})`);return e[a]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(a=>{if(typeof a!="string")throw new Error(`alphabet.decode: not string element=${a}`);const c=e.indexOf(a);if(c===-1)throw new Error(`Unknown letter: "${a}". Allowed: ${e}`);return c})}}}function join(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let a of s)if(typeof a!="string")throw new Error(`join.encode: non-string input=${a}`);return s.join(e)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(e)}}}function padding(e,s="="){if(assertNumber(e),typeof s!="string")throw new Error("padding chr should be string");return{encode(a){if(!Array.isArray(a)||a.length&&typeof a[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of a)if(typeof c!="string")throw new Error(`padding.encode: non-string input=${c}`);for(;a.length*e%8;)a.push(s);return a},decode(a){if(!Array.isArray(a)||a.length&&typeof a[0]!="string")throw new Error("padding.encode input should be array of strings");for(let h of a)if(typeof h!="string")throw new Error(`padding.decode: non-string input=${h}`);let c=a.length;if(c*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;c>0&&a[c-1]===s;c--)if(!((c-1)*e%8))throw new Error("Invalid padding: string has too much padding");return a.slice(0,c)}}}function normalize$1(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:s=>s,decode:s=>e(s)}}function convertRadix(e,s,a){if(s<2)throw new Error(`convertRadix: wrong from=${s}, base cannot be less than 2`);if(a<2)throw new Error(`convertRadix: wrong to=${a}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let c=0;const h=[],b=Array.from(e);for(b.forEach(tt=>{if(assertNumber(tt),tt<0||tt>=s)throw new Error(`Wrong integer: ${tt}`)});;){let tt=0,nt=!0;for(let ot=c;ot<b.length;ot++){const st=b[ot],ft=s*tt+st;if(!Number.isSafeInteger(ft)||s*tt/s!==tt||ft-st!==s*tt)throw new Error("convertRadix: carry overflow");if(tt=ft%a,b[ot]=Math.floor(ft/a),!Number.isSafeInteger(b[ot])||b[ot]*a+tt!==ft)throw new Error("convertRadix: carry overflow");if(nt)b[ot]?nt=!1:c=ot;else continue}if(h.push(tt),nt)break}for(let tt=0;tt<e.length-1&&e[tt]===0;tt++)h.push(0);return h.reverse()}const gcd=(e,s)=>s?gcd(s,e%s):e,radix2carry=(e,s)=>e+(s-gcd(e,s));function convertRadix2(e,s,a,c){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(a<=0||a>32)throw new Error(`convertRadix2: wrong to=${a}`);if(radix2carry(s,a)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${a} carryBits=${radix2carry(s,a)}`);let h=0,b=0;const tt=2**a-1,nt=[];for(const ot of e){if(assertNumber(ot),ot>=2**s)throw new Error(`convertRadix2: invalid data word=${ot} from=${s}`);if(h=h<<s|ot,b+s>32)throw new Error(`convertRadix2: carry overflow pos=${b} from=${s}`);for(b+=s;b>=a;b-=a)nt.push((h>>b-a&tt)>>>0);h&=2**b-1}if(h=h<<a-b&tt,!c&&b>=s)throw new Error("Excess padding");if(!c&&h)throw new Error(`Non-zero padding: ${h}`);return c&&b>0&&nt.push(h>>>0),nt}function radix(e){return assertNumber(e),{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(s),2**8,e)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(convertRadix(s,e,2**8))}}}function radix2(e,s=!1){if(assertNumber(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,e)>32||radix2carry(e,8)>32)throw new Error("radix2: carry overflow");return{encode:a=>{if(!(a instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(a),8,e,!s)},decode:a=>{if(!Array.isArray(a)||a.length&&typeof a[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(convertRadix2(a,e,8,s))}}}function unsafeWrapper(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return e.apply(null,s)}catch{}}}const base16=chain(radix2(4),alphabet("0123456789ABCDEF"),join("")),base32=chain(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join(""));chain(radix2(5),alphabet("0123456789ABCDEFGHIJKLMNOPQRSTUV"),padding(5),join(""));chain(radix2(5),alphabet("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),join(""),normalize$1(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const base64=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join("")),base64url=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),padding(6),join("")),genBase58=e=>chain(radix(58),alphabet(e),join("")),base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");genBase58("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");genBase58("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const XMR_BLOCK_LEN=[0,2,3,5,6,7,9,10,11],base58xmr={encode(e){let s="";for(let a=0;a<e.length;a+=8){const c=e.subarray(a,a+8);s+=base58.encode(c).padStart(XMR_BLOCK_LEN[c.length],"1")}return s},decode(e){let s=[];for(let a=0;a<e.length;a+=11){const c=e.slice(a,a+11),h=XMR_BLOCK_LEN.indexOf(c.length),b=base58.decode(c);for(let tt=0;tt<b.length-h;tt++)if(b[tt]!==0)throw new Error("base58xmr: wrong padding");s=s.concat(Array.from(b.slice(b.length-h)))}return Uint8Array.from(s)}},BECH_ALPHABET=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join("")),POLYMOD_GENERATORS=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(e){const s=e>>25;let a=(e&33554431)<<5;for(let c=0;c<POLYMOD_GENERATORS.length;c++)(s>>c&1)===1&&(a^=POLYMOD_GENERATORS[c]);return a}function bechChecksum(e,s,a=1){const c=e.length;let h=1;for(let b=0;b<c;b++){const tt=e.charCodeAt(b);if(tt<33||tt>126)throw new Error(`Invalid prefix (${e})`);h=bech32Polymod(h)^tt>>5}h=bech32Polymod(h);for(let b=0;b<c;b++)h=bech32Polymod(h)^e.charCodeAt(b)&31;for(let b of s)h=bech32Polymod(h)^b;for(let b=0;b<6;b++)h=bech32Polymod(h);return h^=a,BECH_ALPHABET.encode(convertRadix2([h%2**30],30,5,!1))}function genBech32(e){const s=e==="bech32"?1:734539939,a=radix2(5),c=a.decode,h=a.encode,b=unsafeWrapper(c);function tt(ft,ht,gt=90){if(typeof ft!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof ft}`);if(!Array.isArray(ht)||ht.length&&typeof ht[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof ht}`);const yt=ft.length+7+ht.length;if(gt!==!1&&yt>gt)throw new TypeError(`Length ${yt} exceeds limit ${gt}`);return ft=ft.toLowerCase(),`${ft}1${BECH_ALPHABET.encode(ht)}${bechChecksum(ft,ht,s)}`}function nt(ft,ht=90){if(typeof ft!="string")throw new Error(`bech32.decode input should be string, not ${typeof ft}`);if(ft.length<8||ht!==!1&&ft.length>ht)throw new TypeError(`Wrong string length: ${ft.length} (${ft}). Expected (8..${ht})`);const gt=ft.toLowerCase();if(ft!==gt&&ft!==ft.toUpperCase())throw new Error("String must be lowercase or uppercase");ft=gt;const yt=ft.lastIndexOf("1");if(yt===0||yt===-1)throw new Error('Letter "1" must be present between prefix and data only');const Et=ft.slice(0,yt),wt=ft.slice(yt+1);if(wt.length<6)throw new Error("Data must be at least 6 characters long");const bt=BECH_ALPHABET.decode(wt).slice(0,-6),mt=bechChecksum(Et,bt,s);if(!wt.endsWith(mt))throw new Error(`Invalid checksum in ${ft}: expected "${mt}"`);return{prefix:Et,words:bt}}const ot=unsafeWrapper(nt);function st(ft){const{prefix:ht,words:gt}=nt(ft,!1);return{prefix:ht,words:gt,bytes:c(gt)}}return{encode:tt,decode:nt,decodeToBytes:st,decodeUnsafe:ot,fromWords:c,fromWordsUnsafe:b,toWords:h}}const bech32$1=genBech32("bech32");genBech32("bech32m");const utf8$1={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},hex$1=chain(radix2(4),alphabet("0123456789abcdef"),join(""),normalize$1(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),CODERS={utf8:utf8$1,hex:hex$1,base16,base32,base64,base64url,base58,base58xmr};`${Object.keys(CODERS).join(", ")}`;function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function bool(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function isBytes(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes(e,...s){if(!isBytes(e))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(e.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function checkOpts(e,s){if(s==null||typeof s!="object")throw new Error("options must be defined");return Object.assign(e,s)}function equalBytes(e,s){if(e.length!==s.length)return!1;let a=0;for(let c=0;c<e.length;c++)a|=e[c]^s[c];return a===0}const wrapCipher=(e,s)=>(Object.assign(s,e),s),BLOCK_SIZE=16,POLY=283;function mul2(e){return e<<1^POLY&-(e>>7)}function mul(e,s){let a=0;for(;s>0;s>>=1)a^=e&-(s&1),e=mul2(e);return a}const sbox=(()=>{let e=new Uint8Array(256);for(let a=0,c=1;a<256;a++,c^=mul2(c))e[a]=c;const s=new Uint8Array(256);s[0]=99;for(let a=0;a<255;a++){let c=e[255-a];c|=c<<8,s[e[a]]=(c^c>>4^c>>5^c>>6^c>>7^99)&255}return s})(),invSbox=sbox.map((e,s)=>sbox.indexOf(s)),rotr32_8=e=>e<<24|e>>>8,rotl32_8=e=>e<<8|e>>>24;function genTtable(e,s){if(e.length!==256)throw new Error("Wrong sbox length");const a=new Uint32Array(256).map((st,ft)=>s(e[ft])),c=a.map(rotl32_8),h=c.map(rotl32_8),b=h.map(rotl32_8),tt=new Uint32Array(256*256),nt=new Uint32Array(256*256),ot=new Uint16Array(256*256);for(let st=0;st<256;st++)for(let ft=0;ft<256;ft++){const ht=st*256+ft;tt[ht]=a[st]^c[ft],nt[ht]=h[st]^b[ft],ot[ht]=e[st]<<8|e[ft]}return{sbox:e,sbox2:ot,T0:a,T1:c,T2:h,T3:b,T01:tt,T23:nt}}const tableEncoding=genTtable(sbox,e=>mul(e,3)<<24|e<<16|e<<8|mul(e,2)),tableDecoding=genTtable(invSbox,e=>mul(e,11)<<24|mul(e,13)<<16|mul(e,9)<<8|mul(e,14)),xPowers=(()=>{const e=new Uint8Array(16);for(let s=0,a=1;s<16;s++,a=mul2(a))e[s]=a;return e})();function expandKeyLE(e){bytes(e);const s=e.length;if(![16,24,32].includes(s))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${s}`);const{sbox2:a}=tableEncoding,c=u32(e),h=c.length,b=nt=>applySbox(a,nt,nt,nt,nt),tt=new Uint32Array(s+28);tt.set(c);for(let nt=h;nt<tt.length;nt++){let ot=tt[nt-1];nt%h===0?ot=b(rotr32_8(ot))^xPowers[nt/h-1]:h>6&&nt%h===4&&(ot=b(ot)),tt[nt]=tt[nt-h]^ot}return tt}function expandKeyDecLE(e){const s=expandKeyLE(e),a=s.slice(),c=s.length,{sbox2:h}=tableEncoding,{T0:b,T1:tt,T2:nt,T3:ot}=tableDecoding;for(let st=0;st<c;st+=4)for(let ft=0;ft<4;ft++)a[st+ft]=s[c-st-4+ft];s.fill(0);for(let st=4;st<c-4;st++){const ft=a[st],ht=applySbox(h,ft,ft,ft,ft);a[st]=b[ht&255]^tt[ht>>>8&255]^nt[ht>>>16&255]^ot[ht>>>24]}return a}function apply0123(e,s,a,c,h,b){return e[a<<8&65280|c>>>8&255]^s[h>>>8&65280|b>>>24&255]}function applySbox(e,s,a,c,h){return e[s&255|a&65280]|e[c>>>16&255|h>>>16&65280]<<16}function encrypt$2(e,s,a,c,h){const{sbox2:b,T01:tt,T23:nt}=tableEncoding;let ot=0;s^=e[ot++],a^=e[ot++],c^=e[ot++],h^=e[ot++];const st=e.length/4-2;for(let Et=0;Et<st;Et++){const wt=e[ot++]^apply0123(tt,nt,s,a,c,h),bt=e[ot++]^apply0123(tt,nt,a,c,h,s),mt=e[ot++]^apply0123(tt,nt,c,h,s,a),vt=e[ot++]^apply0123(tt,nt,h,s,a,c);s=wt,a=bt,c=mt,h=vt}const ft=e[ot++]^applySbox(b,s,a,c,h),ht=e[ot++]^applySbox(b,a,c,h,s),gt=e[ot++]^applySbox(b,c,h,s,a),yt=e[ot++]^applySbox(b,h,s,a,c);return{s0:ft,s1:ht,s2:gt,s3:yt}}function decrypt$2(e,s,a,c,h){const{sbox2:b,T01:tt,T23:nt}=tableDecoding;let ot=0;s^=e[ot++],a^=e[ot++],c^=e[ot++],h^=e[ot++];const st=e.length/4-2;for(let Et=0;Et<st;Et++){const wt=e[ot++]^apply0123(tt,nt,s,h,c,a),bt=e[ot++]^apply0123(tt,nt,a,s,h,c),mt=e[ot++]^apply0123(tt,nt,c,a,s,h),vt=e[ot++]^apply0123(tt,nt,h,c,a,s);s=wt,a=bt,c=mt,h=vt}const ft=e[ot++]^applySbox(b,s,h,c,a),ht=e[ot++]^applySbox(b,a,s,h,c),gt=e[ot++]^applySbox(b,c,a,s,h),yt=e[ot++]^applySbox(b,h,c,a,s);return{s0:ft,s1:ht,s2:gt,s3:yt}}function getDst(e,s){if(!s)return new Uint8Array(e);if(bytes(s),s.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${s.length}`);return s}function validateBlockDecrypt(e){if(bytes(e),e.length%BLOCK_SIZE!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${BLOCK_SIZE}`)}function validateBlockEncrypt(e,s,a){let c=e.length;const h=c%BLOCK_SIZE;if(!s&&h!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const b=u32(e);if(s){let ot=BLOCK_SIZE-h;ot||(ot=BLOCK_SIZE),c=c+ot}const tt=getDst(c,a),nt=u32(tt);return{b,o:nt,out:tt}}function validatePCKS(e,s){if(!s)return e;const a=e.length;if(!a)throw new Error("aes/pcks5: empty ciphertext not allowed");const c=e[a-1];if(c<=0||c>16)throw new Error(`aes/pcks5: wrong padding byte: ${c}`);const h=e.subarray(0,-c);for(let b=0;b<c;b++)if(e[a-b-1]!==c)throw new Error("aes/pcks5: wrong padding");return h}function padPCKS(e){const s=new Uint8Array(16),a=u32(s);s.set(e);const c=BLOCK_SIZE-e.length;for(let h=BLOCK_SIZE-c;h<BLOCK_SIZE;h++)s[h]=c;return a}const cbc=wrapCipher({blockSize:16,nonceLength:16},function(s,a,c={}){bytes(s),bytes(a,16);const h=!c.disablePadding;return{encrypt:(b,tt)=>{const nt=expandKeyLE(s),{b:ot,o:st,out:ft}=validateBlockEncrypt(b,h,tt),ht=u32(a);let gt=ht[0],yt=ht[1],Et=ht[2],wt=ht[3],bt=0;for(;bt+4<=ot.length;)gt^=ot[bt+0],yt^=ot[bt+1],Et^=ot[bt+2],wt^=ot[bt+3],{s0:gt,s1:yt,s2:Et,s3:wt}=encrypt$2(nt,gt,yt,Et,wt),st[bt++]=gt,st[bt++]=yt,st[bt++]=Et,st[bt++]=wt;if(h){const mt=padPCKS(b.subarray(bt*4));gt^=mt[0],yt^=mt[1],Et^=mt[2],wt^=mt[3],{s0:gt,s1:yt,s2:Et,s3:wt}=encrypt$2(nt,gt,yt,Et,wt),st[bt++]=gt,st[bt++]=yt,st[bt++]=Et,st[bt++]=wt}return nt.fill(0),ft},decrypt:(b,tt)=>{validateBlockDecrypt(b);const nt=expandKeyDecLE(s),ot=u32(a),st=getDst(b.length,tt),ft=u32(b),ht=u32(st);let gt=ot[0],yt=ot[1],Et=ot[2],wt=ot[3];for(let bt=0;bt+4<=ft.length;){const mt=gt,vt=yt,xt=Et,kt=wt;gt=ft[bt+0],yt=ft[bt+1],Et=ft[bt+2],wt=ft[bt+3];const{s0:Lt,s1:Ct,s2:St,s3:Pt}=decrypt$2(nt,gt,yt,Et,wt);ht[bt++]=Lt^mt,ht[bt++]=Ct^vt,ht[bt++]=St^xt,ht[bt++]=Pt^kt}return nt.fill(0),validatePCKS(st,h)}}}),_utf8ToBytes=e=>Uint8Array.from(e.split("").map(s=>s.charCodeAt(0))),sigma16=_utf8ToBytes("expand 16-byte k"),sigma32=_utf8ToBytes("expand 32-byte k"),sigma16_32=u32(sigma16),sigma32_32=u32(sigma32);sigma32_32.slice();function rotl(e,s){return e<<s|e>>>32-s}function isAligned32(e){return e.byteOffset%4===0}const BLOCK_LEN=64,BLOCK_LEN32=16,MAX_COUNTER=2**32-1,U32_EMPTY=new Uint32Array;function runCipher(e,s,a,c,h,b,tt,nt){const ot=h.length,st=new Uint8Array(BLOCK_LEN),ft=u32(st),ht=isAligned32(h)&&isAligned32(b),gt=ht?u32(h):U32_EMPTY,yt=ht?u32(b):U32_EMPTY;for(let Et=0;Et<ot;tt++){if(e(s,a,c,ft,tt,nt),tt>=MAX_COUNTER)throw new Error("arx: counter overflow");const wt=Math.min(BLOCK_LEN,ot-Et);if(ht&&wt===BLOCK_LEN){const bt=Et/4;if(Et%4!==0)throw new Error("arx: invalid block position");for(let mt=0,vt;mt<BLOCK_LEN32;mt++)vt=bt+mt,yt[vt]=gt[vt]^ft[mt];Et+=BLOCK_LEN;continue}for(let bt=0,mt;bt<wt;bt++)mt=Et+bt,b[mt]=h[mt]^st[bt];Et+=wt}}function createCipher(e,s){const{allowShortKeys:a,extendNonceFn:c,counterLength:h,counterRight:b,rounds:tt}=checkOpts({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},s);if(typeof e!="function")throw new Error("core must be a function");return number(h),number(tt),bool(b),bool(a),(nt,ot,st,ft,ht=0)=>{bytes(nt),bytes(ot),bytes(st);const gt=st.length;if(ft||(ft=new Uint8Array(gt)),bytes(ft),number(ht),ht<0||ht>=MAX_COUNTER)throw new Error("arx: counter overflow");if(ft.length<gt)throw new Error(`arx: output (${ft.length}) is shorter than data (${gt})`);const yt=[];let Et=nt.length,wt,bt;if(Et===32)wt=nt.slice(),yt.push(wt),bt=sigma32_32;else if(Et===16&&a)wt=new Uint8Array(32),wt.set(nt),wt.set(nt,16),bt=sigma16_32,yt.push(wt);else throw new Error(`arx: invalid 32-byte key, got length=${Et}`);isAligned32(ot)||(ot=ot.slice(),yt.push(ot));const mt=u32(wt);if(c){if(ot.length!==24)throw new Error("arx: extended nonce must be 24 bytes");c(bt,mt,u32(ot.subarray(0,16)),mt),ot=ot.subarray(16)}const vt=16-h;if(vt!==ot.length)throw new Error(`arx: nonce must be ${vt} or 16 bytes`);if(vt!==12){const kt=new Uint8Array(12);kt.set(ot,b?0:12-ot.length),ot=kt,yt.push(ot)}const xt=u32(ot);for(runCipher(e,bt,mt,xt,st,ft,ht,tt);yt.length>0;)yt.pop().fill(0);return ft}}function chachaCore(e,s,a,c,h,b=20){let tt=e[0],nt=e[1],ot=e[2],st=e[3],ft=s[0],ht=s[1],gt=s[2],yt=s[3],Et=s[4],wt=s[5],bt=s[6],mt=s[7],vt=h,xt=a[0],kt=a[1],Lt=a[2],Ct=tt,St=nt,Pt=ot,Ot=st,zt=ft,Rt=ht,Nt=gt,Mt=yt,It=Et,$t=wt,_t=bt,Bt=mt,Tt=vt,jt=xt,Ft=kt,Ut=Lt;for(let Dt=0;Dt<b;Dt+=2)Ct=Ct+zt|0,Tt=rotl(Tt^Ct,16),It=It+Tt|0,zt=rotl(zt^It,12),Ct=Ct+zt|0,Tt=rotl(Tt^Ct,8),It=It+Tt|0,zt=rotl(zt^It,7),St=St+Rt|0,jt=rotl(jt^St,16),$t=$t+jt|0,Rt=rotl(Rt^$t,12),St=St+Rt|0,jt=rotl(jt^St,8),$t=$t+jt|0,Rt=rotl(Rt^$t,7),Pt=Pt+Nt|0,Ft=rotl(Ft^Pt,16),_t=_t+Ft|0,Nt=rotl(Nt^_t,12),Pt=Pt+Nt|0,Ft=rotl(Ft^Pt,8),_t=_t+Ft|0,Nt=rotl(Nt^_t,7),Ot=Ot+Mt|0,Ut=rotl(Ut^Ot,16),Bt=Bt+Ut|0,Mt=rotl(Mt^Bt,12),Ot=Ot+Mt|0,Ut=rotl(Ut^Ot,8),Bt=Bt+Ut|0,Mt=rotl(Mt^Bt,7),Ct=Ct+Rt|0,Ut=rotl(Ut^Ct,16),_t=_t+Ut|0,Rt=rotl(Rt^_t,12),Ct=Ct+Rt|0,Ut=rotl(Ut^Ct,8),_t=_t+Ut|0,Rt=rotl(Rt^_t,7),St=St+Nt|0,Tt=rotl(Tt^St,16),Bt=Bt+Tt|0,Nt=rotl(Nt^Bt,12),St=St+Nt|0,Tt=rotl(Tt^St,8),Bt=Bt+Tt|0,Nt=rotl(Nt^Bt,7),Pt=Pt+Mt|0,jt=rotl(jt^Pt,16),It=It+jt|0,Mt=rotl(Mt^It,12),Pt=Pt+Mt|0,jt=rotl(jt^Pt,8),It=It+jt|0,Mt=rotl(Mt^It,7),Ot=Ot+zt|0,Ft=rotl(Ft^Ot,16),$t=$t+Ft|0,zt=rotl(zt^$t,12),Ot=Ot+zt|0,Ft=rotl(Ft^Ot,8),$t=$t+Ft|0,zt=rotl(zt^$t,7);let Ht=0;c[Ht++]=tt+Ct|0,c[Ht++]=nt+St|0,c[Ht++]=ot+Pt|0,c[Ht++]=st+Ot|0,c[Ht++]=ft+zt|0,c[Ht++]=ht+Rt|0,c[Ht++]=gt+Nt|0,c[Ht++]=yt+Mt|0,c[Ht++]=Et+It|0,c[Ht++]=wt+$t|0,c[Ht++]=bt+_t|0,c[Ht++]=mt+Bt|0,c[Ht++]=vt+Tt|0,c[Ht++]=xt+jt|0,c[Ht++]=kt+Ft|0,c[Ht++]=Lt+Ut|0}const chacha20=createCipher(chachaCore,{counterRight:!1,counterLength:4,allowShortKeys:!1});class HMAC extends Hash{constructor(s,a){super(),this.finished=!1,this.destroyed=!1,assert.hash(s);const c=toBytes(a);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const h=this.blockLen,b=new Uint8Array(h);b.set(c.length>h?s.create().update(c).digest():c);for(let tt=0;tt<b.length;tt++)b[tt]^=54;this.iHash.update(b),this.oHash=s.create();for(let tt=0;tt<b.length;tt++)b[tt]^=106;this.oHash.update(b),b.fill(0)}update(s){return assert.exists(this),this.iHash.update(s),this}digestInto(s){assert.exists(this),assert.bytes(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:h,destroyed:b,blockLen:tt,outputLen:nt}=this;return s=s,s.finished=h,s.destroyed=b,s.blockLen=tt,s.outputLen=nt,s.oHash=a._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e,s,a)=>new HMAC(e,s).update(a).digest();hmac.create=(e,s)=>new HMAC(e,s);function extract(e,s,a){return assert.hash(e),hmac(e,toBytes(a),toBytes(s))}const HKDF_COUNTER=new Uint8Array([0]),EMPTY_BUFFER=new Uint8Array;function expand(e,s,a,c=32){if(assert.hash(e),assert.number(c),c>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const h=Math.ceil(c/e.outputLen);a===void 0&&(a=EMPTY_BUFFER);const b=new Uint8Array(h*e.outputLen),tt=hmac.create(e,s),nt=tt._cloneInto(),ot=new Uint8Array(tt.outputLen);for(let st=0;st<h;st++)HKDF_COUNTER[0]=st+1,nt.update(st===0?EMPTY_BUFFER:ot).update(a).update(HKDF_COUNTER).digestInto(ot),b.set(ot,e.outputLen*st),tt._cloneInto(nt);return tt.destroy(),nt.destroy(),ot.fill(0),HKDF_COUNTER.fill(0),b.slice(0,c)}var __defProp=Object.defineProperty,__export=(e,s)=>{for(var a in s)__defProp(e,a,{get:s[a],enumerable:!0})},verifiedSymbol=Symbol("verified"),isRecord=e=>e instanceof Object;function validateEvent(e){if(!isRecord(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let s=0;s<e.tags.length;s++){let a=e.tags[s];if(!Array.isArray(a))return!1;for(let c=0;c<a.length;c++)if(typeof a[c]=="object")return!1}return!0}var utils_exports={};__export(utils_exports,{Queue:()=>Queue$1,QueueNode:()=>QueueNode,binarySearch:()=>binarySearch,insertEventIntoAscendingList:()=>insertEventIntoAscendingList,insertEventIntoDescendingList:()=>insertEventIntoDescendingList,normalizeURL:()=>normalizeURL,utf8Decoder:()=>utf8Decoder,utf8Encoder:()=>utf8Encoder});var utf8Decoder=new TextDecoder("utf-8"),utf8Encoder=new TextEncoder;function normalizeURL(e){e.indexOf("://")===-1&&(e="wss://"+e);let s=new URL(e);return s.pathname=s.pathname.replace(/\/+/g,"/"),s.pathname.endsWith("/")&&(s.pathname=s.pathname.slice(0,-1)),(s.port==="80"&&s.protocol==="ws:"||s.port==="443"&&s.protocol==="wss:")&&(s.port=""),s.searchParams.sort(),s.hash="",s.toString()}function insertEventIntoDescendingList(e,s){const[a,c]=binarySearch(e,h=>s.id===h.id?0:s.created_at===h.created_at?-1:h.created_at-s.created_at);return c||e.splice(a,0,s),e}function insertEventIntoAscendingList(e,s){const[a,c]=binarySearch(e,h=>s.id===h.id?0:s.created_at===h.created_at?-1:s.created_at-h.created_at);return c||e.splice(a,0,s),e}function binarySearch(e,s){let a=0,c=e.length-1;for(;a<=c;){const h=Math.floor((a+c)/2),b=s(e[h]);if(b===0)return[h,!0];b<0?c=h-1:a=h+1}return[a,!1]}var QueueNode=class{constructor(e){At(this,"value");At(this,"next",null);At(this,"prev",null);this.value=e}},Queue$1=class{constructor(){At(this,"first");At(this,"last");this.first=null,this.last=null}enqueue(s){const a=new QueueNode(s);return this.last?this.last===this.first?(this.last=a,this.last.prev=this.first,this.first.next=a):(a.prev=this.last,this.last.next=a,this.last=a):(this.first=a,this.last=a),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const a=this.first;return this.first=null,this.last=null,a.value}const s=this.first;return this.first=s.next,s.value}},JS=class{generateSecretKey(){return schnorr$1.utils.randomPrivateKey()}getPublicKey(e){return bytesToHex(schnorr$1.getPublicKey(e))}finalizeEvent(e,s){const a=e;return a.pubkey=bytesToHex(schnorr$1.getPublicKey(s)),a.id=getEventHash$1(a),a.sig=bytesToHex(schnorr$1.sign(getEventHash$1(a),s)),a[verifiedSymbol]=!0,a}verifyEvent(e){if(typeof e[verifiedSymbol]=="boolean")return e[verifiedSymbol];const s=getEventHash$1(e);if(s!==e.id)return e[verifiedSymbol]=!1,!1;try{const a=schnorr$1.verify(e.sig,s,e.pubkey);return e[verifiedSymbol]=a,a}catch{return e[verifiedSymbol]=!1,!1}}};function serializeEvent(e){if(!validateEvent(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function getEventHash$1(e){let s=sha256(utf8Encoder.encode(serializeEvent(e)));return bytesToHex(s)}var i=new JS,generateSecretKey=i.generateSecretKey,getPublicKey=i.getPublicKey,finalizeEvent=i.finalizeEvent,verifyEvent=i.verifyEvent,kinds_exports={};__export(kinds_exports,{Application:()=>Application,BadgeAward:()=>BadgeAward,BadgeDefinition:()=>BadgeDefinition,BlockedRelaysList:()=>BlockedRelaysList,BookmarkList:()=>BookmarkList,Bookmarksets:()=>Bookmarksets,Calendar:()=>Calendar,CalendarEventRSVP:()=>CalendarEventRSVP,ChannelCreation:()=>ChannelCreation,ChannelHideMessage:()=>ChannelHideMessage,ChannelMessage:()=>ChannelMessage,ChannelMetadata:()=>ChannelMetadata,ChannelMuteUser:()=>ChannelMuteUser,ClassifiedListing:()=>ClassifiedListing,ClientAuth:()=>ClientAuth,CommunitiesList:()=>CommunitiesList,CommunityDefinition:()=>CommunityDefinition,CommunityPostApproval:()=>CommunityPostApproval,Contacts:()=>Contacts,CreateOrUpdateProduct:()=>CreateOrUpdateProduct,CreateOrUpdateStall:()=>CreateOrUpdateStall,Curationsets:()=>Curationsets,Date:()=>Date2,DraftClassifiedListing:()=>DraftClassifiedListing,DraftLong:()=>DraftLong,Emojisets:()=>Emojisets,EncryptedDirectMessage:()=>EncryptedDirectMessage,EncryptedDirectMessages:()=>EncryptedDirectMessages,EventDeletion:()=>EventDeletion,FileMetadata:()=>FileMetadata,FileServerPreference:()=>FileServerPreference,Followsets:()=>Followsets,GenericRepost:()=>GenericRepost,Genericlists:()=>Genericlists,HTTPAuth:()=>HTTPAuth,Handlerinformation:()=>Handlerinformation,Handlerrecommendation:()=>Handlerrecommendation,Highlights:()=>Highlights,InterestsList:()=>InterestsList,Interestsets:()=>Interestsets,JobFeedback:()=>JobFeedback,JobRequest:()=>JobRequest,JobResult:()=>JobResult,Label:()=>Label,LightningPubRPC:()=>LightningPubRPC,LiveChatMessage:()=>LiveChatMessage,LiveEvent:()=>LiveEvent,LongFormArticle:()=>LongFormArticle,Metadata:()=>Metadata,Mutelist:()=>Mutelist,NWCWalletInfo:()=>NWCWalletInfo,NWCWalletRequest:()=>NWCWalletRequest,NWCWalletResponse:()=>NWCWalletResponse,NostrConnect:()=>NostrConnect,OpenTimestamps:()=>OpenTimestamps,Pinlist:()=>Pinlist,ProblemTracker:()=>ProblemTracker,ProfileBadges:()=>ProfileBadges,PublicChatsList:()=>PublicChatsList,Reaction:()=>Reaction,RecommendRelay:()=>RecommendRelay,RelayList:()=>RelayList$1,Relaysets:()=>Relaysets,Report:()=>Report,Reporting:()=>Reporting,Repost:()=>Repost,SearchRelaysList:()=>SearchRelaysList,ShortTextNote:()=>ShortTextNote,Time:()=>Time,UserEmojiList:()=>UserEmojiList,UserStatuses:()=>UserStatuses,Zap:()=>Zap,ZapGoal:()=>ZapGoal,ZapRequest:()=>ZapRequest,classifyKind:()=>classifyKind,isEphemeralKind:()=>isEphemeralKind,isParameterizedReplaceableKind:()=>isParameterizedReplaceableKind,isRegularKind:()=>isRegularKind,isReplaceableKind:()=>isReplaceableKind});function isRegularKind(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function isReplaceableKind(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function isEphemeralKind(e){return 2e4<=e&&e<3e4}function isParameterizedReplaceableKind(e){return 3e4<=e&&e<4e4}function classifyKind(e){return isRegularKind(e)?"regular":isReplaceableKind(e)?"replaceable":isEphemeralKind(e)?"ephemeral":isParameterizedReplaceableKind(e)?"parameterized":"unknown"}var Metadata=0,ShortTextNote=1,RecommendRelay=2,Contacts=3,EncryptedDirectMessage=4,EncryptedDirectMessages=4,EventDeletion=5,Repost=6,Reaction=7,BadgeAward=8,GenericRepost=16,ChannelCreation=40,ChannelMetadata=41,ChannelMessage=42,ChannelHideMessage=43,ChannelMuteUser=44,OpenTimestamps=1040,FileMetadata=1063,LiveChatMessage=1311,ProblemTracker=1971,Report=1984,Reporting=1984,Label=1985,CommunityPostApproval=4550,JobRequest=5999,JobResult=6999,JobFeedback=7e3,ZapGoal=9041,ZapRequest=9734,Zap=9735,Highlights=9802,Mutelist=1e4,Pinlist=10001,RelayList$1=10002,BookmarkList=10003,CommunitiesList=10004,PublicChatsList=10005,BlockedRelaysList=10006,SearchRelaysList=10007,InterestsList=10015,UserEmojiList=10030,FileServerPreference=10096,NWCWalletInfo=13194,LightningPubRPC=21e3,ClientAuth=22242,NWCWalletRequest=23194,NWCWalletResponse=23195,NostrConnect=24133,HTTPAuth=27235,Followsets=3e4,Genericlists=30001,Relaysets=30002,Bookmarksets=30003,Curationsets=30004,ProfileBadges=30008,BadgeDefinition=30009,Interestsets=30015,CreateOrUpdateStall=30017,CreateOrUpdateProduct=30018,LongFormArticle=30023,DraftLong=30024,Emojisets=30030,Application=30078,LiveEvent=30311,UserStatuses=30315,ClassifiedListing=30402,DraftClassifiedListing=30403,Date2=31922,Time=31923,Calendar=31924,CalendarEventRSVP=31925,Handlerrecommendation=31989,Handlerinformation=31990,CommunityDefinition=34550;function matchFilter(e,s){if(e.ids&&e.ids.indexOf(s.id)===-1||e.kinds&&e.kinds.indexOf(s.kind)===-1||e.authors&&e.authors.indexOf(s.pubkey)===-1)return!1;for(let a in e)if(a[0]==="#"){let c=a.slice(1),h=e[`#${c}`];if(h&&!s.tags.find(([b,tt])=>b===a.slice(1)&&h.indexOf(tt)!==-1))return!1}return!(e.since&&s.created_at<e.since||e.until&&s.created_at>e.until)}function matchFilters(e,s){for(let a=0;a<e.length;a++)if(matchFilter(e[a],s))return!0;return!1}var fakejson_exports={};__export(fakejson_exports,{getHex64:()=>getHex64,getInt:()=>getInt,getSubscriptionId:()=>getSubscriptionId,matchEventId:()=>matchEventId,matchEventKind:()=>matchEventKind,matchEventPubkey:()=>matchEventPubkey});function getHex64(e,s){let a=s.length+3,c=e.indexOf(`"${s}":`)+a,h=e.slice(c).indexOf('"')+c+1;return e.slice(h,h+64)}function getInt(e,s){let a=s.length,c=e.indexOf(`"${s}":`)+a+3,h=e.slice(c),b=Math.min(h.indexOf(","),h.indexOf("}"));return parseInt(h.slice(0,b),10)}function getSubscriptionId(e){let s=e.slice(0,22).indexOf('"EVENT"');if(s===-1)return null;let a=e.slice(s+7+1).indexOf('"');if(a===-1)return null;let c=s+7+1+a,h=e.slice(c+1,80).indexOf('"');if(h===-1)return null;let b=c+1+h;return e.slice(c+1,b)}function matchEventId(e,s){return s===getHex64(e,"id")}function matchEventPubkey(e,s){return s===getHex64(e,"pubkey")}function matchEventKind(e,s){return s===getInt(e,"kind")}var nip42_exports={};__export(nip42_exports,{makeAuthEvent:()=>makeAuthEvent});function makeAuthEvent(e,s){return{kind:ClientAuth,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",s]],content:""}}var _WebSocket;try{_WebSocket=WebSocket}catch{}var _WebSocket2;try{_WebSocket2=WebSocket}catch{}var nip19_exports={};__export(nip19_exports,{BECH32_REGEX:()=>BECH32_REGEX$1,Bech32MaxSize:()=>Bech32MaxSize,decode:()=>decode$1,encodeBytes:()=>encodeBytes,naddrEncode:()=>naddrEncode,neventEncode:()=>neventEncode,noteEncode:()=>noteEncode,nprofileEncode:()=>nprofileEncode,npubEncode:()=>npubEncode,nrelayEncode:()=>nrelayEncode,nsecEncode:()=>nsecEncode});var Bech32MaxSize=5e3,BECH32_REGEX$1=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function integerToUint8Array(e){const s=new Uint8Array(4);return s[0]=e>>24&255,s[1]=e>>16&255,s[2]=e>>8&255,s[3]=e&255,s}function decode$1(e){var h,b,tt,nt,ot,st,ft,ht;let{prefix:s,words:a}=bech32$1.decode(e,Bech32MaxSize),c=new Uint8Array(bech32$1.fromWords(a));switch(s){case"nprofile":{let gt=parseTLV(c);if(!((h=gt[0])!=null&&h[0]))throw new Error("missing TLV 0 for nprofile");if(gt[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:bytesToHex(gt[0][0]),relays:gt[1]?gt[1].map(yt=>utf8Decoder.decode(yt)):[]}}}case"nevent":{let gt=parseTLV(c);if(!((b=gt[0])!=null&&b[0]))throw new Error("missing TLV 0 for nevent");if(gt[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(gt[2]&&gt[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(gt[3]&&gt[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:bytesToHex(gt[0][0]),relays:gt[1]?gt[1].map(yt=>utf8Decoder.decode(yt)):[],author:(tt=gt[2])!=null&&tt[0]?bytesToHex(gt[2][0]):void 0,kind:(nt=gt[3])!=null&&nt[0]?parseInt(bytesToHex(gt[3][0]),16):void 0}}}case"naddr":{let gt=parseTLV(c);if(!((ot=gt[0])!=null&&ot[0]))throw new Error("missing TLV 0 for naddr");if(!((st=gt[2])!=null&&st[0]))throw new Error("missing TLV 2 for naddr");if(gt[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((ft=gt[3])!=null&&ft[0]))throw new Error("missing TLV 3 for naddr");if(gt[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:utf8Decoder.decode(gt[0][0]),pubkey:bytesToHex(gt[2][0]),kind:parseInt(bytesToHex(gt[3][0]),16),relays:gt[1]?gt[1].map(yt=>utf8Decoder.decode(yt)):[]}}}case"nrelay":{let gt=parseTLV(c);if(!((ht=gt[0])!=null&&ht[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:utf8Decoder.decode(gt[0][0])}}case"nsec":return{type:s,data:c};case"npub":case"note":return{type:s,data:bytesToHex(c)};default:throw new Error(`unknown prefix ${s}`)}}function parseTLV(e){let s={},a=e;for(;a.length>0;){let c=a[0],h=a[1],b=a.slice(2,2+h);if(a=a.slice(2+h),b.length<h)throw new Error(`not enough data to read on TLV ${c}`);s[c]=s[c]||[],s[c].push(b)}return s}function nsecEncode(e){return encodeBytes("nsec",e)}function npubEncode(e){return encodeBytes("npub",hexToBytes(e))}function noteEncode(e){return encodeBytes("note",hexToBytes(e))}function encodeBech32(e,s){let a=bech32$1.toWords(s);return bech32$1.encode(e,a,Bech32MaxSize)}function encodeBytes(e,s){return encodeBech32(e,s)}function nprofileEncode(e){let s=encodeTLV({0:[hexToBytes(e.pubkey)],1:(e.relays||[]).map(a=>utf8Encoder.encode(a))});return encodeBech32("nprofile",s)}function neventEncode(e){let s;e.kind!==void 0&&(s=integerToUint8Array(e.kind));let a=encodeTLV({0:[hexToBytes(e.id)],1:(e.relays||[]).map(c=>utf8Encoder.encode(c)),2:e.author?[hexToBytes(e.author)]:[],3:s?[new Uint8Array(s)]:[]});return encodeBech32("nevent",a)}function naddrEncode(e){let s=new ArrayBuffer(4);new DataView(s).setUint32(0,e.kind,!1);let a=encodeTLV({0:[utf8Encoder.encode(e.identifier)],1:(e.relays||[]).map(c=>utf8Encoder.encode(c)),2:[hexToBytes(e.pubkey)],3:[new Uint8Array(s)]});return encodeBech32("naddr",a)}function nrelayEncode(e){let s=encodeTLV({0:[utf8Encoder.encode(e)]});return encodeBech32("nrelay",s)}function encodeTLV(e){let s=[];return Object.entries(e).reverse().forEach(([a,c])=>{c.forEach(h=>{let b=new Uint8Array(h.length+2);b.set([parseInt(a)],0),b.set([h.length],1),b.set(h,2),s.push(b)})}),concatBytes(...s)}var nip04_exports={};__export(nip04_exports,{decrypt:()=>decrypt$1,encrypt:()=>encrypt$1});async function encrypt$1(e,s,a){const c=e instanceof Uint8Array?bytesToHex(e):e,h=secp256k1$1.getSharedSecret(c,"02"+s),b=getNormalizedX(h);let tt=Uint8Array.from(randomBytes(16)),nt=utf8Encoder.encode(a),ot=cbc(b,tt).encrypt(nt),st=base64.encode(new Uint8Array(ot)),ft=base64.encode(new Uint8Array(tt.buffer));return`${st}?iv=${ft}`}async function decrypt$1(e,s,a){const c=e instanceof Uint8Array?bytesToHex(e):e;let[h,b]=a.split("?iv="),tt=secp256k1$1.getSharedSecret(c,"02"+s),nt=getNormalizedX(tt),ot=base64.decode(b),st=base64.decode(h),ft=cbc(nt,ot).decrypt(st);return utf8Decoder.decode(ft)}function getNormalizedX(e){return e.slice(1,33)}var nip05_exports={};__export(nip05_exports,{NIP05_REGEX:()=>NIP05_REGEX$1,isValid:()=>isValid,queryProfile:()=>queryProfile,searchDomain:()=>searchDomain,useFetchImplementation:()=>useFetchImplementation});var NIP05_REGEX$1=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,_fetch;try{_fetch=fetch}catch{}function useFetchImplementation(e){_fetch=e}async function searchDomain(e,s=""){try{const a=`https://${e}/.well-known/nostr.json?name=${s}`;return(await(await _fetch(a,{redirect:"error"})).json()).names}catch{return{}}}async function queryProfile(e){var b;const s=e.match(NIP05_REGEX$1);if(!s)return null;const[a,c="_",h]=s;try{const tt=`https://${h}/.well-known/nostr.json?name=${c}`,nt=await(await _fetch(tt,{redirect:"error"})).json();let ot=nt.names[c];return ot?{pubkey:ot,relays:(b=nt.relays)==null?void 0:b[ot]}:null}catch{return null}}async function isValid(e,s){let a=await queryProfile(s);return a?a.pubkey===e:!1}var nip10_exports={};__export(nip10_exports,{parse:()=>parse});function parse(e){const s={reply:void 0,root:void 0,mentions:[],profiles:[]},a=[];for(const c of e.tags)c[0]==="e"&&c[1]&&a.push(c),c[0]==="p"&&c[1]&&s.profiles.push({pubkey:c[1],relays:c[2]?[c[2]]:[]});for(let c=0;c<a.length;c++){const h=a[c],[b,tt,nt,ot]=h,st={id:tt,relays:nt?[nt]:[]},ft=c===0,ht=c===a.length-1;if(ot==="root"){s.root=st;continue}if(ot==="reply"){s.reply=st;continue}if(ot==="mention"){s.mentions.push(st);continue}if(ft){s.root=st;continue}if(ht){s.reply=st;continue}s.mentions.push(st)}return s}var nip11_exports={};__export(nip11_exports,{fetchRelayInformation:()=>fetchRelayInformation,useFetchImplementation:()=>useFetchImplementation2});var _fetch2;try{_fetch2=fetch}catch{}function useFetchImplementation2(e){_fetch2=e}async function fetchRelayInformation(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var nip13_exports={};__export(nip13_exports,{getPow:()=>getPow,minePow:()=>minePow});function getPow(e){let s=0;for(let a=0;a<e.length;a++){const c=parseInt(e[a],16);if(c===0)s+=4;else{s+=Math.clz32(c)-28;break}}return s}function minePow(e,s){let a=0;const c=e,h=["nonce",a.toString(),s.toString()];for(c.tags.push(h);;){const b=Math.floor(new Date().getTime()/1e3);if(b!==c.created_at&&(a=0,c.created_at=b),h[1]=(++a).toString(),c.id=getEventHash$1(c),getPow(c.id)>=s)break}return c}var nip18_exports={};__export(nip18_exports,{finishRepostEvent:()=>finishRepostEvent,getRepostedEvent:()=>getRepostedEvent,getRepostedEventPointer:()=>getRepostedEventPointer});function finishRepostEvent(e,s,a,c){return finalizeEvent({kind:Repost,tags:[...e.tags??[],["e",s.id,a],["p",s.pubkey]],content:e.content===""?"":JSON.stringify(s),created_at:e.created_at},c)}function getRepostedEventPointer(e){if(e.kind!==Repost)return;let s,a;for(let c=e.tags.length-1;c>=0&&(s===void 0||a===void 0);c--){const h=e.tags[c];h.length>=2&&(h[0]==="e"&&s===void 0?s=h:h[0]==="p"&&a===void 0&&(a=h))}if(s!==void 0)return{id:s[1],relays:[s[2],a==null?void 0:a[2]].filter(c=>typeof c=="string"),author:a==null?void 0:a[1]}}function getRepostedEvent(e,{skipVerification:s}={}){const a=getRepostedEventPointer(e);if(a===void 0||e.content==="")return;let c;try{c=JSON.parse(e.content)}catch{return}if(c.id===a.id&&!(!s&&!verifyEvent(c)))return c}var nip21_exports={};__export(nip21_exports,{NOSTR_URI_REGEX:()=>NOSTR_URI_REGEX,parse:()=>parse2,test:()=>test});var NOSTR_URI_REGEX=new RegExp(`nostr:(${BECH32_REGEX$1.source})`);function test(e){return typeof e=="string"&&new RegExp(`^${NOSTR_URI_REGEX.source}$`).test(e)}function parse2(e){const s=e.match(new RegExp(`^${NOSTR_URI_REGEX.source}$`));if(!s)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:s[0],value:s[1],decoded:decode$1(s[1])}}var nip25_exports={};__export(nip25_exports,{finishReactionEvent:()=>finishReactionEvent,getReactedEventPointer:()=>getReactedEventPointer});function finishReactionEvent(e,s,a){const c=s.tags.filter(h=>h.length>=2&&(h[0]==="e"||h[0]==="p"));return finalizeEvent({...e,kind:Reaction,tags:[...e.tags??[],...c,["e",s.id],["p",s.pubkey]],content:e.content??"+"},a)}function getReactedEventPointer(e){if(e.kind!==Reaction)return;let s,a;for(let c=e.tags.length-1;c>=0&&(s===void 0||a===void 0);c--){const h=e.tags[c];h.length>=2&&(h[0]==="e"&&s===void 0?s=h:h[0]==="p"&&a===void 0&&(a=h))}if(!(s===void 0||a===void 0))return{id:s[1],relays:[s[2],a[2]].filter(c=>c!==void 0),author:a[1]}}var nip27_exports={};__export(nip27_exports,{matchAll:()=>matchAll,regex:()=>regex,replaceAll:()=>replaceAll});var regex=()=>new RegExp(`\\b${NOSTR_URI_REGEX.source}\\b`,"g");function*matchAll(e){const s=e.matchAll(regex());for(const a of s)try{const[c,h]=a;yield{uri:c,value:h,decoded:decode$1(h),start:a.index,end:a.index+c.length}}catch{}}function replaceAll(e,s){return e.replaceAll(regex(),(a,c)=>s({uri:a,value:c,decoded:decode$1(c)}))}var nip28_exports={};__export(nip28_exports,{channelCreateEvent:()=>channelCreateEvent,channelHideMessageEvent:()=>channelHideMessageEvent,channelMessageEvent:()=>channelMessageEvent,channelMetadataEvent:()=>channelMetadataEvent,channelMuteUserEvent:()=>channelMuteUserEvent});var channelCreateEvent=(e,s)=>{let a;if(typeof e.content=="object")a=JSON.stringify(e.content);else if(typeof e.content=="string")a=e.content;else return;return finalizeEvent({kind:ChannelCreation,tags:[...e.tags??[]],content:a,created_at:e.created_at},s)},channelMetadataEvent=(e,s)=>{let a;if(typeof e.content=="object")a=JSON.stringify(e.content);else if(typeof e.content=="string")a=e.content;else return;return finalizeEvent({kind:ChannelMetadata,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:a,created_at:e.created_at},s)},channelMessageEvent=(e,s)=>{const a=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&a.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),finalizeEvent({kind:ChannelMessage,tags:[...a,...e.tags??[]],content:e.content,created_at:e.created_at},s)},channelHideMessageEvent=(e,s)=>{let a;if(typeof e.content=="object")a=JSON.stringify(e.content);else if(typeof e.content=="string")a=e.content;else return;return finalizeEvent({kind:ChannelHideMessage,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:a,created_at:e.created_at},s)},channelMuteUserEvent=(e,s)=>{let a;if(typeof e.content=="object")a=JSON.stringify(e.content);else if(typeof e.content=="string")a=e.content;else return;return finalizeEvent({kind:ChannelMuteUser,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:a,created_at:e.created_at},s)},nip30_exports={};__export(nip30_exports,{EMOJI_SHORTCODE_REGEX:()=>EMOJI_SHORTCODE_REGEX,matchAll:()=>matchAll2,regex:()=>regex2,replaceAll:()=>replaceAll2});var EMOJI_SHORTCODE_REGEX=/:(\w+):/,regex2=()=>new RegExp(`\\B${EMOJI_SHORTCODE_REGEX.source}\\B`,"g");function*matchAll2(e){const s=e.matchAll(regex2());for(const a of s)try{const[c,h]=a;yield{shortcode:c,name:h,start:a.index,end:a.index+c.length}}catch{}}function replaceAll2(e,s){return e.replaceAll(regex2(),(a,c)=>s({shortcode:a,name:c}))}var nip39_exports={};__export(nip39_exports,{useFetchImplementation:()=>useFetchImplementation3,validateGithub:()=>validateGithub});var _fetch3;try{_fetch3=fetch}catch{}function useFetchImplementation3(e){_fetch3=e}async function validateGithub(e,s,a){try{return await(await _fetch3(`https://gist.github.com/${s}/${a}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var nip44_exports={};__export(nip44_exports,{decrypt:()=>decrypt2,encrypt:()=>encrypt2,getConversationKey:()=>getConversationKey,v2:()=>v2});var minPlaintextSize=1,maxPlaintextSize=65535;function getConversationKey(e,s){const a=secp256k1$1.getSharedSecret(e,"02"+s).subarray(1,33);return extract(sha256,a,"nip44-v2")}function getMessageKeys(e,s){const a=expand(sha256,e,s,76);return{chacha_key:a.subarray(0,32),chacha_nonce:a.subarray(32,44),hmac_key:a.subarray(44,76)}}function calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const s=1<<Math.floor(Math.log2(e-1))+1,a=s<=256?32:s/8;return a*(Math.floor((e-1)/a)+1)}function writeU16BE(e){if(!Number.isSafeInteger(e)||e<minPlaintextSize||e>maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const s=new Uint8Array(2);return new DataView(s.buffer).setUint16(0,e,!1),s}function pad(e){const s=utf8Encoder.encode(e),a=s.length,c=writeU16BE(a),h=new Uint8Array(calcPaddedLen(a)-a);return concatBytes(c,s,h)}function unpad(e){const s=new DataView(e.buffer).getUint16(0),a=e.subarray(2,2+s);if(s<minPlaintextSize||s>maxPlaintextSize||a.length!==s||e.length!==2+calcPaddedLen(s))throw new Error("invalid padding");return utf8Decoder.decode(a)}function hmacAad(e,s,a){if(a.length!==32)throw new Error("AAD associated data must be 32 bytes");const c=concatBytes(a,s);return hmac(sha256,e,c)}function decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const s=e.length;if(s<132||s>87472)throw new Error("invalid payload length: "+s);if(e[0]==="#")throw new Error("unknown encryption version");let a;try{a=base64.decode(e)}catch(b){throw new Error("invalid base64: "+b.message)}const c=a.length;if(c<99||c>65603)throw new Error("invalid data length: "+c);const h=a[0];if(h!==2)throw new Error("unknown encryption version "+h);return{nonce:a.subarray(1,33),ciphertext:a.subarray(33,-32),mac:a.subarray(-32)}}function encrypt2(e,s,a=randomBytes(32)){const{chacha_key:c,chacha_nonce:h,hmac_key:b}=getMessageKeys(s,a),tt=pad(e),nt=chacha20(c,h,tt),ot=hmacAad(b,nt,a);return base64.encode(concatBytes(new Uint8Array([2]),a,nt,ot))}function decrypt2(e,s){const{nonce:a,ciphertext:c,mac:h}=decodePayload(e),{chacha_key:b,chacha_nonce:tt,hmac_key:nt}=getMessageKeys(s,a),ot=hmacAad(nt,c,a);if(!equalBytes(ot,h))throw new Error("invalid MAC");const st=chacha20(b,tt,c);return unpad(st)}var v2={utils:{getConversationKey,calcPaddedLen},encrypt:encrypt2,decrypt:decrypt2},nip47_exports={};__export(nip47_exports,{makeNwcRequestEvent:()=>makeNwcRequestEvent,parseConnectionString:()=>parseConnectionString});function parseConnectionString(e){const{pathname:s,searchParams:a}=new URL(e),c=s,h=a.get("relay"),b=a.get("secret");if(!c||!h||!b)throw new Error("invalid connection string");return{pubkey:c,relay:h,secret:b}}async function makeNwcRequestEvent(e,s,a){const h=await encrypt$1(s,e,JSON.stringify({method:"pay_invoice",params:{invoice:a}})),b={kind:NWCWalletRequest,created_at:Math.round(Date.now()/1e3),content:h,tags:[["p",e]]};return finalizeEvent(b,s)}var nip57_exports={};__export(nip57_exports,{getZapEndpoint:()=>getZapEndpoint,makeZapReceipt:()=>makeZapReceipt,makeZapRequest:()=>makeZapRequest,useFetchImplementation:()=>useFetchImplementation4,validateZapRequest:()=>validateZapRequest});var _fetch4;try{_fetch4=fetch}catch{}function useFetchImplementation4(e){_fetch4=e}async function getZapEndpoint(e){try{let s="",{lud06:a,lud16:c}=JSON.parse(e.content);if(a){let{words:tt}=bech32$1.decode(a,1e3),nt=bech32$1.fromWords(tt);s=utf8Decoder.decode(nt)}else if(c){let[tt,nt]=c.split("@");s=new URL(`/.well-known/lnurlp/${tt}`,`https://${nt}`).toString()}else return null;let b=await(await _fetch4(s)).json();if(b.allowsNostr&&b.nostrPubkey)return b.callback}catch{}return null}function makeZapRequest({profile:e,event:s,amount:a,relays:c,comment:h=""}){if(!a)throw new Error("amount not given");if(!e)throw new Error("profile not given");let b={kind:9734,created_at:Math.round(Date.now()/1e3),content:h,tags:[["p",e],["amount",a.toString()],["relays",...c]]};return s&&b.tags.push(["e",s]),b}function validateZapRequest(e){let s;try{s=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!validateEvent(s))return"Zap request is not a valid Nostr event.";if(!verifyEvent(s))return"Invalid signature on zap request.";let a=s.tags.find(([b,tt])=>b==="p"&&tt);if(!a)return"Zap request doesn't have a 'p' tag.";if(!a[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let c=s.tags.find(([b,tt])=>b==="e"&&tt);return c&&!c[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":s.tags.find(([b,tt])=>b==="relays"&&tt)?null:"Zap request doesn't have a 'relays' tag."}function makeZapReceipt({zapRequest:e,preimage:s,bolt11:a,paidAt:c}){let h=JSON.parse(e),b=h.tags.filter(([nt])=>nt==="e"||nt==="p"||nt==="a"),tt={kind:9735,created_at:Math.round(c.getTime()/1e3),content:"",tags:[...b,["P",h.pubkey],["bolt11",a],["description",e]]};return s&&tt.tags.push(["preimage",s]),tt}var nip98_exports={};__export(nip98_exports,{getToken:()=>getToken,hashPayload:()=>hashPayload,unpackEventFromToken:()=>unpackEventFromToken,validateEvent:()=>validateEvent2,validateEventKind:()=>validateEventKind,validateEventMethodTag:()=>validateEventMethodTag,validateEventPayloadTag:()=>validateEventPayloadTag,validateEventTimestamp:()=>validateEventTimestamp,validateEventUrlTag:()=>validateEventUrlTag,validateToken:()=>validateToken});var _authorizationScheme="Nostr ";async function getToken(e,s,a,c=!1,h){const b={kind:HTTPAuth,tags:[["u",e],["method",s]],created_at:Math.round(new Date().getTime()/1e3),content:""};h&&b.tags.push(["payload",hashPayload(h)]);const tt=await a(b);return(c?_authorizationScheme:"")+base64.encode(utf8Encoder.encode(JSON.stringify(tt)))}async function validateToken(e,s,a){const c=await unpackEventFromToken(e).catch(b=>{throw b});return await validateEvent2(c,s,a).catch(b=>{throw b})}async function unpackEventFromToken(e){if(!e)throw new Error("Missing token");e=e.replace(_authorizationScheme,"");const s=utf8Decoder.decode(base64.decode(e));if(!s||s.length===0||!s.startsWith("{"))throw new Error("Invalid token");return JSON.parse(s)}function validateEventTimestamp(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function validateEventKind(e){return e.kind===HTTPAuth}function validateEventUrlTag(e,s){const a=e.tags.find(c=>c[0]==="u");return a?a.length>0&&a[1]===s:!1}function validateEventMethodTag(e,s){const a=e.tags.find(c=>c[0]==="method");return a?a.length>0&&a[1].toLowerCase()===s.toLowerCase():!1}function hashPayload(e){const s=sha256(utf8Encoder.encode(JSON.stringify(e)));return bytesToHex(s)}function validateEventPayloadTag(e,s){const a=e.tags.find(h=>h[0]==="payload");if(!a)return!1;const c=hashPayload(s);return a.length>0&&a[1]===c}async function validateEvent2(e,s,a,c){if(!verifyEvent(e))throw new Error("Invalid nostr event, signature invalid");if(!validateEventKind(e))throw new Error("Invalid nostr event, kind invalid");if(!validateEventTimestamp(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!validateEventUrlTag(e,s))throw new Error("Invalid nostr event, url tag invalid");if(!validateEventMethodTag(e,a))throw new Error("Invalid nostr event, method tag invalid");if(c&&typeof c=="object"&&Object.keys(c).length>0&&!validateEventPayloadTag(e,c))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var lib$1={},types={};Object.defineProperty(types,"__esModule",{value:!0});var ee={},taskCollection$1={},taskCollection={},bakeCollection={};(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.bakeCollectionVariadic=exports.bakeCollectionAwait=exports.bakeCollection=exports.BAKED_EMPTY_FUNC=void 0,exports.BAKED_EMPTY_FUNC=function(){};var FORLOOP_FALLBACK=1500;function generateArgsDefCode(e){var s="";if(e===0)return s;for(var a=0;a<e-1;++a)s+="arg"+String(a)+", ";return s+="arg"+String(e-1),s}function generateBodyPartsCode(e,s){for(var a="",c="",h=0;h<s;++h)a+="var f".concat(h," = collection[").concat(h,`];
`),c+="f".concat(h,"(").concat(e,`)
`);return{funcDefCode:a,funcCallCode:c}}function generateBodyPartsVariadicCode(e){for(var s="",a="",c=0;c<e;++c)s+="var f".concat(c," = collection[").concat(c,`];
`),a+="f".concat(c,`.apply(undefined, arguments)
`);return{funcDefCode:s,funcCallCode:a}}function bakeCollection(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function(`).concat(argsDefCode,`) {
                `).concat(funcCallCode,`
            });
        })`)}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);collection.length%10===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 10) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                        collection[i+3](`).concat(argsDefCode,`);
                        collection[i+4](`).concat(argsDefCode,`);
                        collection[i+5](`).concat(argsDefCode,`);
                        collection[i+6](`).concat(argsDefCode,`);
                        collection[i+7](`).concat(argsDefCode,`);
                        collection[i+8](`).concat(argsDefCode,`);
                        collection[i+9](`).concat(argsDefCode,`);
                    }
                });
            })`):collection.length%4===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 4) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                        collection[i+3](`).concat(argsDefCode,`);
                    }
                });
            })`):collection.length%3===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 3) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                    }
                });
            })`):funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; ++i) {
                        collection[i](`).concat(argsDefCode,`);
                    }
                });
            })`)}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollection=bakeCollection;function bakeCollectionAwait(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function(`).concat(argsDefCode,`) {
                return Promise.all([ `).concat(funcCallCode,` ]);
            });
        })`)}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=`(function(collection) {
            return (function(`.concat(argsDefCode,`) {
                var promises = Array(collection.length);
                for (var i = 0; i < collection.length; ++i) {
                    promises[i] = collection[i](`).concat(argsDefCode,`);
                }
                return Promise.all(promises);
            });
        })`)}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionAwait=bakeCollectionAwait;function bakeCollectionVariadic(collection){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var _a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function() {
                `).concat(funcCallCode,`
            });
        })`)}else funcFactoryCode=`(function(collection) {
            return (function() {
                for (var i = 0; i < collection.length; ++i) {
                    collection[i].apply(undefined, arguments);
                }
            });
        })`;{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionVariadic=bakeCollectionVariadic})(bakeCollection);var __spreadArray$1=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,s,a){if(a||arguments.length===2)for(var c=0,h=s.length,b;c<h;c++)(b||!(c in s))&&(b||(b=Array.prototype.slice.call(s,0,c)),b[c]=s[c]);return e.concat(b||Array.prototype.slice.call(s))};Object.defineProperty(taskCollection,"__esModule",{value:!0});taskCollection.TaskCollection=taskCollection._fast_remove_single=void 0;var bake_collection_1=bakeCollection;function push_norebuild(e,s){var a=this.length;if(a>1)if(s){var c;(c=this._tasks).push.apply(c,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(s){if(a===1){var h=Array(1+arguments.length);h.push(h),h.push.apply(h,arguments),this._tasks=h}else{var h=Array(arguments.length);h.push.apply(h,arguments),this._tasks=h}this.length+=arguments.length}else a===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++}function push_rebuild(e,s){var a=this.length;if(a>1)if(s){var c;(c=this._tasks).push.apply(c,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(s){if(a===1){var h=Array(1+arguments.length);h.push(h),h.push.apply(h,arguments),this._tasks=h}else{var h=Array(arguments.length);h.push.apply(h,arguments),this._tasks=h}this.length+=arguments.length}else a===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function _fast_remove_single(e,s){s!==-1&&(s===0?e.shift():s===e.length-1?e.length=e.length-1:e.splice(s,1))}taskCollection._fast_remove_single=_fast_remove_single;function removeLast_norebuild(e){this.length!==0&&(this.length===1?this._tasks===e&&(this.length=0):(_fast_remove_single(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function removeLast_rebuild(e){if(this.length!==0){if(this.length===1)if(this._tasks===e&&(this.length=0),this.firstEmitBuildStrategy){this.call=bake_collection_1.BAKED_EMPTY_FUNC;return}else{this.rebuild();return}else _fast_remove_single(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}}function insert_norebuild(e){for(var s,a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];this.length===0?(this._tasks=a,this.length=1):this.length===1?(a.unshift(this._tasks),this._tasks=a,this.length=this._tasks.length):((s=this._tasks).splice.apply(s,__spreadArray$1([e,0],a,!1)),this.length=this._tasks.length)}function insert_rebuild(e){for(var s,a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];this.length===0?(this._tasks=a,this.length=1):this.length===1?(a.unshift(this._tasks),this._tasks=a,this.length=this._tasks.length):((s=this._tasks).splice.apply(s,__spreadArray$1([e,0],a,!1)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function rebuild_noawait(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=(0,bake_collection_1.bakeCollection)(this._tasks,this.argsNum)}function rebuild_await(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=(0,bake_collection_1.bakeCollectionAwait)(this._tasks,this.argsNum)}function rebuild_on_first_call(){this.rebuild(),this.call.apply(void 0,arguments)}var TaskCollection=function(){function e(s,a,c,h){a===void 0&&(a=!0),c===void 0&&(c=null),h===void 0&&(h=!1),this.awaitTasks=h,this.call=bake_collection_1.BAKED_EMPTY_FUNC,this.argsNum=s,this.firstEmitBuildStrategy=!0,h?this.rebuild=rebuild_await.bind(this):this.rebuild=rebuild_noawait.bind(this),this.setAutoRebuild(a),c?typeof c=="function"?(this._tasks=c,this.length=1):(this._tasks=c,this.length=c.length):(this._tasks=null,this.length=0),a&&this.rebuild()}return e}();taskCollection.TaskCollection=TaskCollection;function fastClear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function clear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function growArgsNum(e){this.argsNum<e&&(this.argsNum=e,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}function setAutoRebuild(e){e?(this.push=push_rebuild.bind(this),this.insert=insert_rebuild.bind(this),this.removeLast=removeLast_rebuild.bind(this)):(this.push=push_norebuild.bind(this),this.insert=insert_norebuild.bind(this),this.removeLast=removeLast_norebuild.bind(this))}function tasksAsArray(){return this.length===0?[]:this.length===1?[this._tasks]:this._tasks}function setTasks(e){e.length===0?(this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC):e.length===1?(this.length=1,this.call=e[0],this._tasks=e[0]):(this.length=e.length,this._tasks=e,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}TaskCollection.prototype.fastClear=fastClear;TaskCollection.prototype.clear=clear;TaskCollection.prototype.growArgsNum=growArgsNum;TaskCollection.prototype.setAutoRebuild=setAutoRebuild;TaskCollection.prototype.tasksAsArray=tasksAsArray;TaskCollection.prototype.setTasks=setTasks;(function(e){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,h,b,tt){tt===void 0&&(tt=b);var nt=Object.getOwnPropertyDescriptor(h,b);(!nt||("get"in nt?!h.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return h[b]}}),Object.defineProperty(c,tt,nt)}:function(c,h,b,tt){tt===void 0&&(tt=b),c[tt]=h[b]}),a=commonjsGlobal&&commonjsGlobal.__exportStar||function(c,h){for(var b in c)b!=="default"&&!Object.prototype.hasOwnProperty.call(h,b)&&s(h,c,b)};Object.defineProperty(e,"__esModule",{value:!0}),a(taskCollection,e)})(taskCollection$1);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.nullObj=void 0;function nullObj(){var e={};return e.__proto__=null,e.prototype=null,e}utils.nullObj=nullObj;var __spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,s,a){if(a||arguments.length===2)for(var c=0,h=s.length,b;c<h;c++)(b||!(c in s))&&(b||(b=Array.prototype.slice.call(s,0,c)),b[c]=s[c]);return e.concat(b||Array.prototype.slice.call(s))};Object.defineProperty(ee,"__esModule",{value:!0});ee.EventEmitter=void 0;var task_collection_1=taskCollection$1,utils_1=utils;function emit(e,s,a,c,h,b){var tt=this.events[e];return tt?tt.length===0?!1:(tt.argsNum<6?tt.call(s,a,c,h,b):tt.call.apply(void 0,arguments),!0):!1}function emitHasOnce(e,s,a,c,h,b){var tt=this.events[e];if(tt){if(tt.length===0)return!1;tt.argsNum<6?tt.call(s,a,c,h,b):tt.call.apply(void 0,arguments)}var nt=this.onceEvents[e];if(nt){if(typeof nt=="function")this.onceEvents[e]=void 0,arguments.length<6?nt(s,a,c,h,b):nt.apply(void 0,arguments);else{var ot=nt;if(this.onceEvents[e]=void 0,arguments.length<6)for(var st=0;st<ot.length;++st)ot[st](s,a,c,h,b);else for(var st=0;st<ot.length;++st)ot[st].apply(void 0,arguments)}return!0}return!!tt}var EventEmitter=function(){function e(){this.events=(0,utils_1.nullObj)(),this.onceEvents=(0,utils_1.nullObj)(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!1,configurable:!0}),e}();ee.EventEmitter=EventEmitter;function once(e,s){switch(this.emit===emit&&(this.emit=emitHasOnce),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=s,typeof e=="symbol"&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],s];break;case"object":this.onceEvents[e].push(s)}return this}function addListener(e,s,a){if(a===void 0&&(a=s.length),typeof s!="function")throw new TypeError("The listener must be a function");var c=this.events[e];return c?(c.push(s),c.growArgsNum(a),this.maxListeners!==1/0&&this.maxListeners<=c.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(this.events[e]=new task_collection_1.TaskCollection(a,!0,s,!1),typeof e=="symbol"&&this._symbolKeys.add(e)),this}function removeListener(e,s){var a=this.events[e];a&&a.removeLast(s);var c=this.onceEvents[e];return c&&(typeof c=="function"?this.onceEvents[e]=void 0:typeof c=="object"&&(c.length===1&&c[0]===s?this.onceEvents[e]=void 0:(0,task_collection_1._fast_remove_single)(c,c.lastIndexOf(s)))),this}function addListenerBound(e,s,a,c){a===void 0&&(a=this),c===void 0&&(c=s.length),this.boundFuncs||(this.boundFuncs=new Map);var h=s.bind(a);return this.boundFuncs.set(s,h),this.addListener(e,h,c)}function removeListenerBound(e,s){var a,c,h=(a=this.boundFuncs)===null||a===void 0?void 0:a.get(s);return(c=this.boundFuncs)===null||c===void 0||c.delete(s),this.removeListener(e,h)}function hasListeners(e){return this.events[e]&&!!this.events[e].length}function prependListener(e,s,a){if(a===void 0&&(a=s.length),typeof s!="function")throw new TypeError("The listener must be a function");var c=this.events[e];return!c||!(c instanceof task_collection_1.TaskCollection)?(c=this.events[e]=new task_collection_1.TaskCollection(a,!0,s,!1),typeof e=="symbol"&&this._symbolKeys.add(e)):(c.insert(0,s),c.growArgsNum(a),this.maxListeners!==1/0&&this.maxListeners<=c.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))),this}function prependOnceListener(e,s){this.emit===emit&&(this.emit=emitHasOnce);var a=this.onceEvents[e];return a?typeof a!="object"?(this.onceEvents[e]=[s,a],typeof e=="symbol"&&this._symbolKeys.add(e)):(a.unshift(s),this.maxListeners!==1/0&&this.maxListeners<=a.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" once event!'))):(this.onceEvents[e]=[s],typeof e=="symbol"&&this._symbolKeys.add(e)),this}function removeAllListeners(e){return e===void 0?(this.events=(0,utils_1.nullObj)(),this.onceEvents=(0,utils_1.nullObj)(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,typeof e=="symbol"&&this._symbolKeys.delete(e)),this}function setMaxListeners(e){return this.maxListeners=e,this}function getMaxListeners(){return this.maxListeners}function listeners(e){return this.emit===emit?this.events[e]?this.events[e].tasksAsArray().slice():[]:this.events[e]&&this.onceEvents[e]?__spreadArray(__spreadArray([],this.events[e].tasksAsArray(),!0),typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e],!0):this.events[e]?this.events[e].tasksAsArray():this.onceEvents[e]?typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e]:[]}function eventNames(){var e=this;if(this.emit===emit){var s=Object.keys(this.events);return __spreadArray(__spreadArray([],s,!0),Array.from(this._symbolKeys),!0).filter(function(c){return c in e.events&&e.events[c]&&e.events[c].length})}else{var s=Object.keys(this.events).filter(function(h){return e.events[h]&&e.events[h].length}),a=Object.keys(this.onceEvents).filter(function(h){return e.onceEvents[h]&&e.onceEvents[h].length});return __spreadArray(__spreadArray(__spreadArray([],s,!0),a,!0),Array.from(this._symbolKeys).filter(function(h){return h in e.events&&e.events[h]&&e.events[h].length||h in e.onceEvents&&e.onceEvents[h]&&e.onceEvents[h].length}),!0)}}function listenerCount(e){return this.emit===emit?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}EventEmitter.prototype.emit=emit;EventEmitter.prototype.on=addListener;EventEmitter.prototype.once=once;EventEmitter.prototype.addListener=addListener;EventEmitter.prototype.removeListener=removeListener;EventEmitter.prototype.addListenerBound=addListenerBound;EventEmitter.prototype.removeListenerBound=removeListenerBound;EventEmitter.prototype.hasListeners=hasListeners;EventEmitter.prototype.prependListener=prependListener;EventEmitter.prototype.prependOnceListener=prependOnceListener;EventEmitter.prototype.off=removeListener;EventEmitter.prototype.removeAllListeners=removeAllListeners;EventEmitter.prototype.setMaxListeners=setMaxListeners;EventEmitter.prototype.getMaxListeners=getMaxListeners;EventEmitter.prototype.listeners=listeners;EventEmitter.prototype.eventNames=eventNames;EventEmitter.prototype.listenerCount=listenerCount;(function(e){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,h,b,tt){tt===void 0&&(tt=b);var nt=Object.getOwnPropertyDescriptor(h,b);(!nt||("get"in nt?!h.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return h[b]}}),Object.defineProperty(c,tt,nt)}:function(c,h,b,tt){tt===void 0&&(tt=b),c[tt]=h[b]}),a=commonjsGlobal&&commonjsGlobal.__exportStar||function(c,h){for(var b in c)b!=="default"&&!Object.prototype.hasOwnProperty.call(h,b)&&s(h,c,b)};Object.defineProperty(e,"__esModule",{value:!0}),a(types,e),a(ee,e)})(lib$1);var browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,s=e*60,a=s*60,c=a*24,h=c*7,b=c*365.25;ms=function(ft,ht){ht=ht||{};var gt=typeof ft;if(gt==="string"&&ft.length>0)return tt(ft);if(gt==="number"&&isFinite(ft))return ht.long?ot(ft):nt(ft);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ft))};function tt(ft){if(ft=String(ft),!(ft.length>100)){var ht=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ft);if(ht){var gt=parseFloat(ht[1]),yt=(ht[2]||"ms").toLowerCase();switch(yt){case"years":case"year":case"yrs":case"yr":case"y":return gt*b;case"weeks":case"week":case"w":return gt*h;case"days":case"day":case"d":return gt*c;case"hours":case"hour":case"hrs":case"hr":case"h":return gt*a;case"minutes":case"minute":case"mins":case"min":case"m":return gt*s;case"seconds":case"second":case"secs":case"sec":case"s":return gt*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return gt;default:return}}}}function nt(ft){var ht=Math.abs(ft);return ht>=c?Math.round(ft/c)+"d":ht>=a?Math.round(ft/a)+"h":ht>=s?Math.round(ft/s)+"m":ht>=e?Math.round(ft/e)+"s":ft+"ms"}function ot(ft){var ht=Math.abs(ft);return ht>=c?st(ft,ht,c,"day"):ht>=a?st(ft,ht,a,"hour"):ht>=s?st(ft,ht,s,"minute"):ht>=e?st(ft,ht,e,"second"):ft+" ms"}function st(ft,ht,gt,yt){var Et=ht>=gt*1.5;return Math.round(ft/gt)+" "+yt+(Et?"s":"")}return ms}function setup(e){a.debug=a,a.default=a,a.coerce=ot,a.disable=b,a.enable=h,a.enabled=tt,a.humanize=requireMs(),a.destroy=st,Object.keys(e).forEach(ft=>{a[ft]=e[ft]}),a.names=[],a.skips=[],a.formatters={};function s(ft){let ht=0;for(let gt=0;gt<ft.length;gt++)ht=(ht<<5)-ht+ft.charCodeAt(gt),ht|=0;return a.colors[Math.abs(ht)%a.colors.length]}a.selectColor=s;function a(ft){let ht,gt=null,yt,Et;function wt(...bt){if(!wt.enabled)return;const mt=wt,vt=Number(new Date),xt=vt-(ht||vt);mt.diff=xt,mt.prev=ht,mt.curr=vt,ht=vt,bt[0]=a.coerce(bt[0]),typeof bt[0]!="string"&&bt.unshift("%O");let kt=0;bt[0]=bt[0].replace(/%([a-zA-Z%])/g,(Ct,St)=>{if(Ct==="%%")return"%";kt++;const Pt=a.formatters[St];if(typeof Pt=="function"){const Ot=bt[kt];Ct=Pt.call(mt,Ot),bt.splice(kt,1),kt--}return Ct}),a.formatArgs.call(mt,bt),(mt.log||a.log).apply(mt,bt)}return wt.namespace=ft,wt.useColors=a.useColors(),wt.color=a.selectColor(ft),wt.extend=c,wt.destroy=a.destroy,Object.defineProperty(wt,"enabled",{enumerable:!0,configurable:!1,get:()=>gt!==null?gt:(yt!==a.namespaces&&(yt=a.namespaces,Et=a.enabled(ft)),Et),set:bt=>{gt=bt}}),typeof a.init=="function"&&a.init(wt),wt}function c(ft,ht){const gt=a(this.namespace+(typeof ht>"u"?":":ht)+ft);return gt.log=this.log,gt}function h(ft){a.save(ft),a.namespaces=ft,a.names=[],a.skips=[];let ht;const gt=(typeof ft=="string"?ft:"").split(/[\s,]+/),yt=gt.length;for(ht=0;ht<yt;ht++)gt[ht]&&(ft=gt[ht].replace(/\*/g,".*?"),ft[0]==="-"?a.skips.push(new RegExp("^"+ft.slice(1)+"$")):a.names.push(new RegExp("^"+ft+"$")))}function b(){const ft=[...a.names.map(nt),...a.skips.map(nt).map(ht=>"-"+ht)].join(",");return a.enable(""),ft}function tt(ft){if(ft[ft.length-1]==="*")return!0;let ht,gt;for(ht=0,gt=a.skips.length;ht<gt;ht++)if(a.skips[ht].test(ft))return!1;for(ht=0,gt=a.names.length;ht<gt;ht++)if(a.names[ht].test(ft))return!0;return!1}function nt(ft){return ft.toString().substring(2,ft.toString().length-2).replace(/\.\*\?$/,"*")}function ot(ft){return ft instanceof Error?ft.stack||ft.message:ft}function st(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}var common=setup;(function(e,s){var a={};s.formatArgs=h,s.save=b,s.load=tt,s.useColors=c,s.storage=nt(),s.destroy=(()=>{let st=!1;return()=>{st||(st=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let st;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(st=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(st[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function h(st){if(st[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+st[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const ft="color: "+this.color;st.splice(1,0,ft,"color: inherit");let ht=0,gt=0;st[0].replace(/%[a-zA-Z%]/g,yt=>{yt!=="%%"&&(ht++,yt==="%c"&&(gt=ht))}),st.splice(gt,0,ft)}s.log=console.debug||console.log||(()=>{});function b(st){try{st?s.storage.setItem("debug",st):s.storage.removeItem("debug")}catch{}}function tt(){let st;try{st=s.storage.getItem("debug")}catch{}return!st&&typeof process<"u"&&"env"in process&&(st=a.DEBUG),st}function nt(){try{return localStorage}catch{}}e.exports=common(s);const{formatters:ot}=e.exports;ot.j=function(st){try{return JSON.stringify(st)}catch(ft){return"[UnexpectedJSONParseError]: "+ft.message}}})(browser,browser.exports);var browserExports=browser.exports;const debug7=getDefaultExportFromCjs(browserExports);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(e,s){const a=e%s;return a>=_0n$3?a:s+a}function pow(e,s,a){if(a<=_0n$3||s<_0n$3)throw new Error("Expected power/modulo > 0");if(a===_1n$3)return _0n$3;let c=_1n$3;for(;s>_0n$3;)s&_1n$3&&(c=c*e%a),e=e*e%a,s>>=_1n$3;return c}function pow2(e,s,a){let c=e;for(;s-- >_0n$3;)c*=c,c%=a;return c}function invert(e,s){if(e===_0n$3||s<=_0n$3)throw new Error(`invert: expected positive integers, got n=${e} mod=${s}`);let a=mod(e,s),c=s,h=_0n$3,b=_1n$3;for(;a!==_0n$3;){const nt=c/a,ot=c%a,st=h-b*nt;c=a,a=ot,h=b,b=st}if(c!==_1n$3)throw new Error("invert: does not exist");return mod(h,s)}function tonelliShanks(e){const s=(e-_1n$3)/_2n$1;let a,c,h;for(a=e-_1n$3,c=0;a%_2n$1===_0n$3;a/=_2n$1,c++);for(h=_2n$1;h<e&&pow(h,s,e)!==e-_1n$3;h++);if(c===1){const tt=(e+_1n$3)/_4n;return function(ot,st){const ft=ot.pow(st,tt);if(!ot.eql(ot.sqr(ft),st))throw new Error("Cannot find square root");return ft}}const b=(a+_1n$3)/_2n$1;return function(nt,ot){if(nt.pow(ot,s)===nt.neg(nt.ONE))throw new Error("Cannot find square root");let st=c,ft=nt.pow(nt.mul(nt.ONE,h),a),ht=nt.pow(ot,b),gt=nt.pow(ot,a);for(;!nt.eql(gt,nt.ONE);){if(nt.eql(gt,nt.ZERO))return nt.ZERO;let yt=1;for(let wt=nt.sqr(gt);yt<st&&!nt.eql(wt,nt.ONE);yt++)wt=nt.sqr(wt);const Et=nt.pow(ft,_1n$3<<BigInt(st-yt-1));ft=nt.sqr(Et),ht=nt.mul(ht,Et),gt=nt.mul(gt,ft),st=yt}return ht}}function FpSqrt(e){if(e%_4n===_3n$1){const s=(e+_1n$3)/_4n;return function(c,h){const b=c.pow(h,s);if(!c.eql(c.sqr(b),h))throw new Error("Cannot find square root");return b}}if(e%_8n===_5n){const s=(e-_5n)/_8n;return function(c,h){const b=c.mul(h,_2n$1),tt=c.pow(b,s),nt=c.mul(h,tt),ot=c.mul(c.mul(nt,_2n$1),tt),st=c.mul(nt,c.sub(ot,c.ONE));if(!c.eql(c.sqr(st),h))throw new Error("Cannot find square root");return st}}return tonelliShanks(e)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(e){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},a=FIELD_FIELDS.reduce((c,h)=>(c[h]="function",c),s);return validateObject$1(e,a)}function FpPow(e,s,a){if(a<_0n$3)throw new Error("Expected power > 0");if(a===_0n$3)return e.ONE;if(a===_1n$3)return s;let c=e.ONE,h=s;for(;a>_0n$3;)a&_1n$3&&(c=e.mul(c,h)),h=e.sqr(h),a>>=_1n$3;return c}function FpInvertBatch(e,s){const a=new Array(s.length),c=s.reduce((b,tt,nt)=>e.is0(tt)?b:(a[nt]=b,e.mul(b,tt)),e.ONE),h=e.inv(c);return s.reduceRight((b,tt,nt)=>e.is0(tt)?b:(a[nt]=e.mul(b,a[nt]),e.mul(b,tt)),h),a}function nLength(e,s){const a=s!==void 0?s:e.toString(2).length,c=Math.ceil(a/8);return{nBitLength:a,nByteLength:c}}function Field(e,s,a=!1,c={}){if(e<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:h,nByteLength:b}=nLength(e,s);if(b>2048)throw new Error("Field lengths over 2048 bytes are not supported");const tt=FpSqrt(e),nt=Object.freeze({ORDER:e,BITS:h,BYTES:b,MASK:bitMask$1(h),ZERO:_0n$3,ONE:_1n$3,create:ot=>mod(ot,e),isValid:ot=>{if(typeof ot!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ot}`);return _0n$3<=ot&&ot<e},is0:ot=>ot===_0n$3,isOdd:ot=>(ot&_1n$3)===_1n$3,neg:ot=>mod(-ot,e),eql:(ot,st)=>ot===st,sqr:ot=>mod(ot*ot,e),add:(ot,st)=>mod(ot+st,e),sub:(ot,st)=>mod(ot-st,e),mul:(ot,st)=>mod(ot*st,e),pow:(ot,st)=>FpPow(nt,ot,st),div:(ot,st)=>mod(ot*invert(st,e),e),sqrN:ot=>ot*ot,addN:(ot,st)=>ot+st,subN:(ot,st)=>ot-st,mulN:(ot,st)=>ot*st,inv:ot=>invert(ot,e),sqrt:c.sqrt||(ot=>tt(nt,ot)),invertBatch:ot=>FpInvertBatch(nt,ot),cmov:(ot,st,ft)=>ft?st:ot,toBytes:ot=>a?numberToBytesLE$1(ot,b):numberToBytesBE$1(ot,b),fromBytes:ot=>{if(ot.length!==b)throw new Error(`Fp.fromBytes: expected ${b}, got ${ot.length}`);return a?bytesToNumberLE$1(ot):bytesToNumberBE$1(ot)}});return Object.freeze(nt)}function getFieldBytesLength(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const s=e.toString(2).length;return Math.ceil(s/8)}function getMinHashLength(e){const s=getFieldBytesLength(e);return s+Math.ceil(s/2)}function mapHashToField(e,s,a=!1){const c=e.length,h=getFieldBytesLength(s),b=getMinHashLength(s);if(c<16||c<b||c>1024)throw new Error(`expected ${b}-1024 bytes of input, got ${c}`);const tt=a?bytesToNumberBE$1(e):bytesToNumberLE$1(e),nt=mod(tt,s-_1n$3)+_1n$3;return a?numberToBytesLE$1(nt,h):numberToBytesBE$1(nt,h)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1),pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function wNAF(e,s){const a=(b,tt)=>{const nt=tt.negate();return b?nt:tt},c=b=>{if(!Number.isSafeInteger(b)||b<=0||b>s)throw new Error(`Wrong window size=${b}, should be [1..${s}]`)},h=b=>{c(b);const tt=Math.ceil(s/b)+1,nt=2**(b-1);return{windows:tt,windowSize:nt}};return{constTimeNegate:a,unsafeLadder(b,tt){let nt=e.ZERO,ot=b;for(;tt>_0n$2;)tt&_1n$2&&(nt=nt.add(ot)),ot=ot.double(),tt>>=_1n$2;return nt},precomputeWindow(b,tt){const{windows:nt,windowSize:ot}=h(tt),st=[];let ft=b,ht=ft;for(let gt=0;gt<nt;gt++){ht=ft,st.push(ht);for(let yt=1;yt<ot;yt++)ht=ht.add(ft),st.push(ht);ft=ht.double()}return st},wNAF(b,tt,nt){const{windows:ot,windowSize:st}=h(b);let ft=e.ZERO,ht=e.BASE;const gt=BigInt(2**b-1),yt=2**b,Et=BigInt(b);for(let wt=0;wt<ot;wt++){const bt=wt*st;let mt=Number(nt&gt);nt>>=Et,mt>st&&(mt-=yt,nt+=_1n$2);const vt=bt,xt=bt+Math.abs(mt)-1,kt=wt%2!==0,Lt=mt<0;mt===0?ht=ht.add(a(kt,tt[vt])):ft=ft.add(a(Lt,tt[xt]))}return{p:ft,f:ht}},wNAFCached(b,tt,nt){const ot=pointWindowSizes.get(b)||1;let st=pointPrecomputes.get(b);return st||(st=this.precomputeWindow(b,ot),ot!==1&&pointPrecomputes.set(b,nt(st))),this.wNAF(ot,st,tt)},setWindowSize(b,tt){c(tt),pointWindowSizes.set(b,tt),pointPrecomputes.delete(b)}}}function pippenger(e,s,a,c){if(!Array.isArray(a)||!Array.isArray(c)||c.length!==a.length)throw new Error("arrays of points and scalars must have equal length");c.forEach((ft,ht)=>{if(!s.isValid(ft))throw new Error(`wrong scalar at index ${ht}`)}),a.forEach((ft,ht)=>{if(!(ft instanceof e))throw new Error(`wrong point at index ${ht}`)});const h=bitLen$1(BigInt(a.length)),b=h>12?h-3:h>4?h-2:h?2:1,tt=(1<<b)-1,nt=new Array(tt+1).fill(e.ZERO),ot=Math.floor((s.BITS-1)/b)*b;let st=e.ZERO;for(let ft=ot;ft>=0;ft-=b){nt.fill(e.ZERO);for(let gt=0;gt<c.length;gt++){const yt=c[gt],Et=Number(yt>>BigInt(ft)&BigInt(tt));nt[Et]=nt[Et].add(a[gt])}let ht=e.ZERO;for(let gt=nt.length-1,yt=e.ZERO;gt>0;gt--)yt=yt.add(nt[gt]),ht=ht.add(yt);if(st=st.add(ht),ft!==0)for(let gt=0;gt<b;gt++)st=st.double()}return st}function validateBasic(e){return validateField(e.Fp),validateObject$1(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(e){e.lowS!==void 0&&abool("lowS",e.lowS),e.prehash!==void 0&&abool("prehash",e.prehash)}function validatePointOpts(e){const s=validateBasic(e);validateObject$1(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:a,Fp:c,a:h}=s;if(a){if(!c.eql(h,c.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof a!="object"||typeof a.beta!="bigint"||typeof a.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$1,DER={Err:class extends Error{constructor(s=""){super(s)}},_tlv:{encode:(e,s)=>{const{Err:a}=DER;if(e<0||e>256)throw new a("tlv.encode: wrong tag");if(s.length&1)throw new a("tlv.encode: unpadded data");const c=s.length/2,h=numberToHexUnpadded$1(c);if(h.length/2&128)throw new a("tlv.encode: long form length too big");const b=c>127?numberToHexUnpadded$1(h.length/2|128):"";return`${numberToHexUnpadded$1(e)}${b}${h}${s}`},decode(e,s){const{Err:a}=DER;let c=0;if(e<0||e>256)throw new a("tlv.encode: wrong tag");if(s.length<2||s[c++]!==e)throw new a("tlv.decode: wrong tlv");const h=s[c++],b=!!(h&128);let tt=0;if(!b)tt=h;else{const ot=h&127;if(!ot)throw new a("tlv.decode(long): indefinite length not supported");if(ot>4)throw new a("tlv.decode(long): byte length is too big");const st=s.subarray(c,c+ot);if(st.length!==ot)throw new a("tlv.decode: length bytes not complete");if(st[0]===0)throw new a("tlv.decode(long): zero leftmost byte");for(const ft of st)tt=tt<<8|ft;if(c+=ot,tt<128)throw new a("tlv.decode(long): not minimal encoding")}const nt=s.subarray(c,c+tt);if(nt.length!==tt)throw new a("tlv.decode: wrong value length");return{v:nt,l:s.subarray(c+tt)}}},_int:{encode(e){const{Err:s}=DER;if(e<_0n$1)throw new s("integer: negative integers are not allowed");let a=numberToHexUnpadded$1(e);if(Number.parseInt(a[0],16)&8&&(a="00"+a),a.length&1)throw new s("unexpected assertion");return a},decode(e){const{Err:s}=DER;if(e[0]&128)throw new s("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return b2n(e)}},toSig(e){const{Err:s,_int:a,_tlv:c}=DER,h=typeof e=="string"?h2b(e):e;abytes(h);const{v:b,l:tt}=c.decode(48,h);if(tt.length)throw new s("Invalid signature: left bytes after parsing");const{v:nt,l:ot}=c.decode(2,b),{v:st,l:ft}=c.decode(2,ot);if(ft.length)throw new s("Invalid signature: left bytes after parsing");return{r:a.decode(nt),s:a.decode(st)}},hexFromSig(e){const{_tlv:s,_int:a}=DER,c=`${s.encode(2,a.encode(e.r))}${s.encode(2,a.encode(e.s))}`;return s.encode(48,c)}},_0n$1=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(e){const s=validatePointOpts(e),{Fp:a}=s,c=Field(s.n,s.nBitLength),h=s.toBytes||((wt,bt,mt)=>{const vt=bt.toAffine();return concatBytes$3(Uint8Array.from([4]),a.toBytes(vt.x),a.toBytes(vt.y))}),b=s.fromBytes||(wt=>{const bt=wt.subarray(1),mt=a.fromBytes(bt.subarray(0,a.BYTES)),vt=a.fromBytes(bt.subarray(a.BYTES,2*a.BYTES));return{x:mt,y:vt}});function tt(wt){const{a:bt,b:mt}=s,vt=a.sqr(wt),xt=a.mul(vt,wt);return a.add(a.add(xt,a.mul(wt,bt)),mt)}if(!a.eql(a.sqr(s.Gy),tt(s.Gx)))throw new Error("bad generator point: equation left != right");function nt(wt){return inRange(wt,_1n$1,s.n)}function ot(wt){const{allowedPrivateKeyLengths:bt,nByteLength:mt,wrapPrivateKey:vt,n:xt}=s;if(bt&&typeof wt!="bigint"){if(isBytes$2(wt)&&(wt=bytesToHex$2(wt)),typeof wt!="string"||!bt.includes(wt.length))throw new Error("Invalid key");wt=wt.padStart(mt*2,"0")}let kt;try{kt=typeof wt=="bigint"?wt:bytesToNumberBE$1(ensureBytes$1("private key",wt,mt))}catch{throw new Error(`private key must be ${mt} bytes, hex or bigint, not ${typeof wt}`)}return vt&&(kt=mod(kt,xt)),aInRange("private key",kt,_1n$1,xt),kt}function st(wt){if(!(wt instanceof gt))throw new Error("ProjectivePoint expected")}const ft=memoized((wt,bt)=>{const{px:mt,py:vt,pz:xt}=wt;if(a.eql(xt,a.ONE))return{x:mt,y:vt};const kt=wt.is0();bt==null&&(bt=kt?a.ONE:a.inv(xt));const Lt=a.mul(mt,bt),Ct=a.mul(vt,bt),St=a.mul(xt,bt);if(kt)return{x:a.ZERO,y:a.ZERO};if(!a.eql(St,a.ONE))throw new Error("invZ was invalid");return{x:Lt,y:Ct}}),ht=memoized(wt=>{if(wt.is0()){if(s.allowInfinityPoint&&!a.is0(wt.py))return;throw new Error("bad point: ZERO")}const{x:bt,y:mt}=wt.toAffine();if(!a.isValid(bt)||!a.isValid(mt))throw new Error("bad point: x or y not FE");const vt=a.sqr(mt),xt=tt(bt);if(!a.eql(vt,xt))throw new Error("bad point: equation left != right");if(!wt.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class gt{constructor(bt,mt,vt){if(this.px=bt,this.py=mt,this.pz=vt,bt==null||!a.isValid(bt))throw new Error("x required");if(mt==null||!a.isValid(mt))throw new Error("y required");if(vt==null||!a.isValid(vt))throw new Error("z required");Object.freeze(this)}static fromAffine(bt){const{x:mt,y:vt}=bt||{};if(!bt||!a.isValid(mt)||!a.isValid(vt))throw new Error("invalid affine point");if(bt instanceof gt)throw new Error("projective point not allowed");const xt=kt=>a.eql(kt,a.ZERO);return xt(mt)&&xt(vt)?gt.ZERO:new gt(mt,vt,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(bt){const mt=a.invertBatch(bt.map(vt=>vt.pz));return bt.map((vt,xt)=>vt.toAffine(mt[xt])).map(gt.fromAffine)}static fromHex(bt){const mt=gt.fromAffine(b(ensureBytes$1("pointHex",bt)));return mt.assertValidity(),mt}static fromPrivateKey(bt){return gt.BASE.multiply(ot(bt))}static msm(bt,mt){return pippenger(gt,c,bt,mt)}_setWindowSize(bt){Et.setWindowSize(this,bt)}assertValidity(){ht(this)}hasEvenY(){const{y:bt}=this.toAffine();if(a.isOdd)return!a.isOdd(bt);throw new Error("Field doesn't support isOdd")}equals(bt){st(bt);const{px:mt,py:vt,pz:xt}=this,{px:kt,py:Lt,pz:Ct}=bt,St=a.eql(a.mul(mt,Ct),a.mul(kt,xt)),Pt=a.eql(a.mul(vt,Ct),a.mul(Lt,xt));return St&&Pt}negate(){return new gt(this.px,a.neg(this.py),this.pz)}double(){const{a:bt,b:mt}=s,vt=a.mul(mt,_3n),{px:xt,py:kt,pz:Lt}=this;let Ct=a.ZERO,St=a.ZERO,Pt=a.ZERO,Ot=a.mul(xt,xt),zt=a.mul(kt,kt),Rt=a.mul(Lt,Lt),Nt=a.mul(xt,kt);return Nt=a.add(Nt,Nt),Pt=a.mul(xt,Lt),Pt=a.add(Pt,Pt),Ct=a.mul(bt,Pt),St=a.mul(vt,Rt),St=a.add(Ct,St),Ct=a.sub(zt,St),St=a.add(zt,St),St=a.mul(Ct,St),Ct=a.mul(Nt,Ct),Pt=a.mul(vt,Pt),Rt=a.mul(bt,Rt),Nt=a.sub(Ot,Rt),Nt=a.mul(bt,Nt),Nt=a.add(Nt,Pt),Pt=a.add(Ot,Ot),Ot=a.add(Pt,Ot),Ot=a.add(Ot,Rt),Ot=a.mul(Ot,Nt),St=a.add(St,Ot),Rt=a.mul(kt,Lt),Rt=a.add(Rt,Rt),Ot=a.mul(Rt,Nt),Ct=a.sub(Ct,Ot),Pt=a.mul(Rt,zt),Pt=a.add(Pt,Pt),Pt=a.add(Pt,Pt),new gt(Ct,St,Pt)}add(bt){st(bt);const{px:mt,py:vt,pz:xt}=this,{px:kt,py:Lt,pz:Ct}=bt;let St=a.ZERO,Pt=a.ZERO,Ot=a.ZERO;const zt=s.a,Rt=a.mul(s.b,_3n);let Nt=a.mul(mt,kt),Mt=a.mul(vt,Lt),It=a.mul(xt,Ct),$t=a.add(mt,vt),_t=a.add(kt,Lt);$t=a.mul($t,_t),_t=a.add(Nt,Mt),$t=a.sub($t,_t),_t=a.add(mt,xt);let Bt=a.add(kt,Ct);return _t=a.mul(_t,Bt),Bt=a.add(Nt,It),_t=a.sub(_t,Bt),Bt=a.add(vt,xt),St=a.add(Lt,Ct),Bt=a.mul(Bt,St),St=a.add(Mt,It),Bt=a.sub(Bt,St),Ot=a.mul(zt,_t),St=a.mul(Rt,It),Ot=a.add(St,Ot),St=a.sub(Mt,Ot),Ot=a.add(Mt,Ot),Pt=a.mul(St,Ot),Mt=a.add(Nt,Nt),Mt=a.add(Mt,Nt),It=a.mul(zt,It),_t=a.mul(Rt,_t),Mt=a.add(Mt,It),It=a.sub(Nt,It),It=a.mul(zt,It),_t=a.add(_t,It),Nt=a.mul(Mt,_t),Pt=a.add(Pt,Nt),Nt=a.mul(Bt,_t),St=a.mul($t,St),St=a.sub(St,Nt),Nt=a.mul($t,Mt),Ot=a.mul(Bt,Ot),Ot=a.add(Ot,Nt),new gt(St,Pt,Ot)}subtract(bt){return this.add(bt.negate())}is0(){return this.equals(gt.ZERO)}wNAF(bt){return Et.wNAFCached(this,bt,gt.normalizeZ)}multiplyUnsafe(bt){aInRange("scalar",bt,_0n$1,s.n);const mt=gt.ZERO;if(bt===_0n$1)return mt;if(bt===_1n$1)return this;const{endo:vt}=s;if(!vt)return Et.unsafeLadder(this,bt);let{k1neg:xt,k1:kt,k2neg:Lt,k2:Ct}=vt.splitScalar(bt),St=mt,Pt=mt,Ot=this;for(;kt>_0n$1||Ct>_0n$1;)kt&_1n$1&&(St=St.add(Ot)),Ct&_1n$1&&(Pt=Pt.add(Ot)),Ot=Ot.double(),kt>>=_1n$1,Ct>>=_1n$1;return xt&&(St=St.negate()),Lt&&(Pt=Pt.negate()),Pt=new gt(a.mul(Pt.px,vt.beta),Pt.py,Pt.pz),St.add(Pt)}multiply(bt){const{endo:mt,n:vt}=s;aInRange("scalar",bt,_1n$1,vt);let xt,kt;if(mt){const{k1neg:Lt,k1:Ct,k2neg:St,k2:Pt}=mt.splitScalar(bt);let{p:Ot,f:zt}=this.wNAF(Ct),{p:Rt,f:Nt}=this.wNAF(Pt);Ot=Et.constTimeNegate(Lt,Ot),Rt=Et.constTimeNegate(St,Rt),Rt=new gt(a.mul(Rt.px,mt.beta),Rt.py,Rt.pz),xt=Ot.add(Rt),kt=zt.add(Nt)}else{const{p:Lt,f:Ct}=this.wNAF(bt);xt=Lt,kt=Ct}return gt.normalizeZ([xt,kt])[0]}multiplyAndAddUnsafe(bt,mt,vt){const xt=gt.BASE,kt=(Ct,St)=>St===_0n$1||St===_1n$1||!Ct.equals(xt)?Ct.multiplyUnsafe(St):Ct.multiply(St),Lt=kt(this,mt).add(kt(bt,vt));return Lt.is0()?void 0:Lt}toAffine(bt){return ft(this,bt)}isTorsionFree(){const{h:bt,isTorsionFree:mt}=s;if(bt===_1n$1)return!0;if(mt)return mt(gt,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:bt,clearCofactor:mt}=s;return bt===_1n$1?this:mt?mt(gt,this):this.multiplyUnsafe(s.h)}toRawBytes(bt=!0){return abool("isCompressed",bt),this.assertValidity(),h(gt,this,bt)}toHex(bt=!0){return abool("isCompressed",bt),bytesToHex$2(this.toRawBytes(bt))}}gt.BASE=new gt(s.Gx,s.Gy,a.ONE),gt.ZERO=new gt(a.ZERO,a.ONE,a.ZERO);const yt=s.nBitLength,Et=wNAF(gt,s.endo?Math.ceil(yt/2):yt);return{CURVE:s,ProjectivePoint:gt,normPrivateKeyToScalar:ot,weierstrassEquation:tt,isWithinCurveOrder:nt}}function validateOpts(e){const s=validateBasic(e);return validateObject$1(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function weierstrass(e){const s=validateOpts(e),{Fp:a,n:c}=s,h=a.BYTES+1,b=2*a.BYTES+1;function tt(It){return mod(It,c)}function nt(It){return invert(It,c)}const{ProjectivePoint:ot,normPrivateKeyToScalar:st,weierstrassEquation:ft,isWithinCurveOrder:ht}=weierstrassPoints({...s,toBytes(It,$t,_t){const Bt=$t.toAffine(),Tt=a.toBytes(Bt.x),jt=concatBytes$3;return abool("isCompressed",_t),_t?jt(Uint8Array.from([$t.hasEvenY()?2:3]),Tt):jt(Uint8Array.from([4]),Tt,a.toBytes(Bt.y))},fromBytes(It){const $t=It.length,_t=It[0],Bt=It.subarray(1);if($t===h&&(_t===2||_t===3)){const Tt=bytesToNumberBE$1(Bt);if(!inRange(Tt,_1n$1,a.ORDER))throw new Error("Point is not on curve");const jt=ft(Tt);let Ft;try{Ft=a.sqrt(jt)}catch(Dt){const Vt=Dt instanceof Error?": "+Dt.message:"";throw new Error("Point is not on curve"+Vt)}const Ut=(Ft&_1n$1)===_1n$1;return(_t&1)===1!==Ut&&(Ft=a.neg(Ft)),{x:Tt,y:Ft}}else if($t===b&&_t===4){const Tt=a.fromBytes(Bt.subarray(0,a.BYTES)),jt=a.fromBytes(Bt.subarray(a.BYTES,2*a.BYTES));return{x:Tt,y:jt}}else throw new Error(`Point of length ${$t} was invalid. Expected ${h} compressed bytes or ${b} uncompressed bytes`)}}),gt=It=>bytesToHex$2(numberToBytesBE$1(It,s.nByteLength));function yt(It){const $t=c>>_1n$1;return It>$t}function Et(It){return yt(It)?tt(-It):It}const wt=(It,$t,_t)=>bytesToNumberBE$1(It.slice($t,_t));class bt{constructor($t,_t,Bt){this.r=$t,this.s=_t,this.recovery=Bt,this.assertValidity()}static fromCompact($t){const _t=s.nByteLength;return $t=ensureBytes$1("compactSignature",$t,_t*2),new bt(wt($t,0,_t),wt($t,_t,2*_t))}static fromDER($t){const{r:_t,s:Bt}=DER.toSig(ensureBytes$1("DER",$t));return new bt(_t,Bt)}assertValidity(){aInRange("r",this.r,_1n$1,c),aInRange("s",this.s,_1n$1,c)}addRecoveryBit($t){return new bt(this.r,this.s,$t)}recoverPublicKey($t){const{r:_t,s:Bt,recovery:Tt}=this,jt=Ct(ensureBytes$1("msgHash",$t));if(Tt==null||![0,1,2,3].includes(Tt))throw new Error("recovery id invalid");const Ft=Tt===2||Tt===3?_t+s.n:_t;if(Ft>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ut=Tt&1?"03":"02",Ht=ot.fromHex(Ut+gt(Ft)),Dt=nt(Ft),Vt=tt(-jt*Dt),Gt=tt(Bt*Dt),Wt=ot.BASE.multiplyAndAddUnsafe(Ht,Vt,Gt);if(!Wt)throw new Error("point at infinify");return Wt.assertValidity(),Wt}hasHighS(){return yt(this.s)}normalizeS(){return this.hasHighS()?new bt(this.r,tt(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$3(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$3(this.toCompactHex())}toCompactHex(){return gt(this.r)+gt(this.s)}}const mt={isValidPrivateKey(It){try{return st(It),!0}catch{return!1}},normPrivateKeyToScalar:st,randomPrivateKey:()=>{const It=getMinHashLength(s.n);return mapHashToField(s.randomBytes(It),s.n)},precompute(It=8,$t=ot.BASE){return $t._setWindowSize(It),$t.multiply(BigInt(3)),$t}};function vt(It,$t=!0){return ot.fromPrivateKey(It).toRawBytes($t)}function xt(It){const $t=isBytes$2(It),_t=typeof It=="string",Bt=($t||_t)&&It.length;return $t?Bt===h||Bt===b:_t?Bt===2*h||Bt===2*b:It instanceof ot}function kt(It,$t,_t=!0){if(xt(It))throw new Error("first arg must be private key");if(!xt($t))throw new Error("second arg must be public key");return ot.fromHex($t).multiply(st(It)).toRawBytes(_t)}const Lt=s.bits2int||function(It){const $t=bytesToNumberBE$1(It),_t=It.length*8-s.nBitLength;return _t>0?$t>>BigInt(_t):$t},Ct=s.bits2int_modN||function(It){return tt(Lt(It))},St=bitMask$1(s.nBitLength);function Pt(It){return aInRange(`num < 2^${s.nBitLength}`,It,_0n$1,St),numberToBytesBE$1(It,s.nByteLength)}function Ot(It,$t,_t=zt){if(["recovered","canonical"].some(Qt=>Qt in _t))throw new Error("sign() legacy options not supported");const{hash:Bt,randomBytes:Tt}=s;let{lowS:jt,prehash:Ft,extraEntropy:Ut}=_t;jt==null&&(jt=!0),It=ensureBytes$1("msgHash",It),validateSigVerOpts(_t),Ft&&(It=ensureBytes$1("prehashed msgHash",Bt(It)));const Ht=Ct(It),Dt=st($t),Vt=[Pt(Dt),Pt(Ht)];if(Ut!=null&&Ut!==!1){const Qt=Ut===!0?Tt(a.BYTES):Ut;Vt.push(ensureBytes$1("extraEntropy",Qt))}const Gt=concatBytes$3(...Vt),Wt=Ht;function qt(Qt){const Yt=Lt(Qt);if(!ht(Yt))return;const Xt=nt(Yt),Kt=ot.BASE.multiply(Yt).toAffine(),Zt=tt(Kt.x);if(Zt===_0n$1)return;const Jt=tt(Xt*tt(Wt+Zt*Dt));if(Jt===_0n$1)return;let en=(Kt.x===Zt?0:2)|Number(Kt.y&_1n$1),sn=Jt;return jt&&yt(Jt)&&(sn=Et(Jt),en^=1),new bt(Zt,sn,en)}return{seed:Gt,k2sig:qt}}const zt={lowS:s.lowS,prehash:!1},Rt={lowS:s.lowS,prehash:!1};function Nt(It,$t,_t=zt){const{seed:Bt,k2sig:Tt}=Ot(It,$t,_t),jt=s;return createHmacDrbg$1(jt.hash.outputLen,jt.nByteLength,jt.hmac)(Bt,Tt)}ot.BASE._setWindowSize(8);function Mt(It,$t,_t,Bt=Rt){var Kt;const Tt=It;if($t=ensureBytes$1("msgHash",$t),_t=ensureBytes$1("publicKey",_t),"strict"in Bt)throw new Error("options.strict was renamed to lowS");validateSigVerOpts(Bt);const{lowS:jt,prehash:Ft}=Bt;let Ut,Ht;try{if(typeof Tt=="string"||isBytes$2(Tt))try{Ut=bt.fromDER(Tt)}catch(Zt){if(!(Zt instanceof DER.Err))throw Zt;Ut=bt.fromCompact(Tt)}else if(typeof Tt=="object"&&typeof Tt.r=="bigint"&&typeof Tt.s=="bigint"){const{r:Zt,s:Jt}=Tt;Ut=new bt(Zt,Jt)}else throw new Error("PARSE");Ht=ot.fromHex(_t)}catch(Zt){if(Zt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(jt&&Ut.hasHighS())return!1;Ft&&($t=s.hash($t));const{r:Dt,s:Vt}=Ut,Gt=Ct($t),Wt=nt(Vt),qt=tt(Gt*Wt),Qt=tt(Dt*Wt),Yt=(Kt=ot.BASE.multiplyAndAddUnsafe(Ht,qt,Qt))==null?void 0:Kt.toAffine();return Yt?tt(Yt.x)===Dt:!1}return{CURVE:s,getPublicKey:vt,getSharedSecret:kt,sign:Nt,verify:Mt,ProjectivePoint:ot,Signature:bt,utils:mt}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(e){return{hash:e,hmac:(s,...a)=>hmac$2(e,s,concatBytes$4(...a)),randomBytes:randomBytes$2}}function createCurve(e,s){const a=c=>weierstrass({...e,...getHash(c)});return Object.freeze({...a(s),create:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(e,s)=>(e+s/_2n)/s;function sqrtMod(e){const s=secp256k1P,a=BigInt(3),c=BigInt(6),h=BigInt(11),b=BigInt(22),tt=BigInt(23),nt=BigInt(44),ot=BigInt(88),st=e*e*e%s,ft=st*st*e%s,ht=pow2(ft,a,s)*ft%s,gt=pow2(ht,a,s)*ft%s,yt=pow2(gt,_2n,s)*st%s,Et=pow2(yt,h,s)*yt%s,wt=pow2(Et,b,s)*Et%s,bt=pow2(wt,nt,s)*wt%s,mt=pow2(bt,ot,s)*bt%s,vt=pow2(mt,nt,s)*wt%s,xt=pow2(vt,a,s)*ft%s,kt=pow2(xt,tt,s)*Et%s,Lt=pow2(kt,c,s)*st%s,Ct=pow2(Lt,_2n,s);if(!Fp.eql(Fp.sqr(Ct),e))throw new Error("Cannot find square root");return Ct}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const s=secp256k1N,a=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),h=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b=a,tt=BigInt("0x100000000000000000000000000000000"),nt=divNearest(b*e,s),ot=divNearest(-c*e,s);let st=mod(e-nt*a-ot*h,s),ft=mod(-nt*c-ot*b,s);const ht=st>tt,gt=ft>tt;if(ht&&(st=s-st),gt&&(ft=s-ft),st>tt||ft>tt)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:ht,k1:st,k2neg:gt,k2:ft}}}},sha256$2),_0n=BigInt(0),TAGGED_HASH_PREFIXES={};function taggedHash(e,...s){let a=TAGGED_HASH_PREFIXES[e];if(a===void 0){const c=sha256$2(Uint8Array.from(e,h=>h.charCodeAt(0)));a=concatBytes$3(c,c),TAGGED_HASH_PREFIXES[e]=a}return sha256$2(concatBytes$3(a,...s))}const pointToBytes=e=>e.toRawBytes(!0).slice(1),numTo32b=e=>numberToBytesBE$1(e,32),modP=e=>mod(e,secp256k1P),modN=e=>mod(e,secp256k1N),Point=secp256k1.ProjectivePoint,GmulAdd=(e,s,a)=>Point.BASE.multiplyAndAddUnsafe(e,s,a);function schnorrGetExtPubKey(e){let s=secp256k1.utils.normPrivateKeyToScalar(e),a=Point.fromPrivateKey(s);return{scalar:a.hasEvenY()?s:modN(-s),bytes:pointToBytes(a)}}function lift_x(e){aInRange("x",e,_1n,secp256k1P);const s=modP(e*e),a=modP(s*e+BigInt(7));let c=sqrtMod(a);c%_2n!==_0n&&(c=modP(-c));const h=new Point(e,c,_1n);return h.assertValidity(),h}const num=bytesToNumberBE$1;function challenge(...e){return modN(num(taggedHash("BIP0340/challenge",...e)))}function schnorrGetPublicKey(e){return schnorrGetExtPubKey(e).bytes}function schnorrSign(e,s,a=randomBytes$2(32)){const c=ensureBytes$1("message",e),{bytes:h,scalar:b}=schnorrGetExtPubKey(s),tt=ensureBytes$1("auxRand",a,32),nt=numTo32b(b^num(taggedHash("BIP0340/aux",tt))),ot=taggedHash("BIP0340/nonce",nt,h,c),st=modN(num(ot));if(st===_0n)throw new Error("sign failed: k is zero");const{bytes:ft,scalar:ht}=schnorrGetExtPubKey(st),gt=challenge(ft,h,c),yt=new Uint8Array(64);if(yt.set(ft,0),yt.set(numTo32b(modN(ht+gt*b)),32),!schnorrVerify(yt,c,h))throw new Error("sign: Invalid signature produced");return yt}function schnorrVerify(e,s,a){const c=ensureBytes$1("signature",e,64),h=ensureBytes$1("message",s),b=ensureBytes$1("publicKey",a,32);try{const tt=lift_x(num(b)),nt=num(c.subarray(0,32));if(!inRange(nt,_1n,secp256k1P))return!1;const ot=num(c.subarray(32,64));if(!inRange(ot,_1n,secp256k1N))return!1;const st=challenge(numTo32b(nt),pointToBytes(tt),h),ft=GmulAdd(tt,ot,modN(-st));return!(!ft||!ft.hasEvenY()||ft.toAffine().x!==nt)}catch{return!1}}const schnorr={getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,utils:{randomPrivateKey:secp256k1.utils.randomPrivateKey,lift_x,pointToBytes,numberToBytesBE:numberToBytesBE$1,bytesToNumberBE:bytesToNumberBE$1,taggedHash,mod}};var dist={},LRUCache$1={},LRUCacheNode$1={};Object.defineProperty(LRUCacheNode$1,"__esModule",{value:!0});LRUCacheNode$1.LRUCacheNode=void 0;class LRUCacheNode{constructor(s,a,c){const{entryExpirationTimeInMS:h=null,next:b=null,prev:tt=null,onEntryEvicted:nt,onEntryMarkedAsMostRecentlyUsed:ot,clone:st,cloneFn:ft}=c??{};if(typeof h=="number"&&(h<=0||Number.isNaN(h)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.clone=st??!1,this.cloneFn=ft??this.defaultClone,this.key=s,this.internalValue=this.clone?this.cloneFn(a):a,this.created=Date.now(),this.entryExpirationTimeInMS=h,this.next=b,this.prev=tt,this.onEntryEvicted=nt,this.onEntryMarkedAsMostRecentlyUsed=ot}get value(){return this.clone?this.cloneFn(this.internalValue):this.internalValue}get isExpired(){return typeof this.entryExpirationTimeInMS=="number"&&Date.now()-this.created>this.entryExpirationTimeInMS}invokeOnEvicted(){if(this.onEntryEvicted){const{key:s,value:a,isExpired:c}=this;this.onEntryEvicted({key:s,value:a,isExpired:c})}}invokeOnEntryMarkedAsMostRecentlyUsed(){if(this.onEntryMarkedAsMostRecentlyUsed){const{key:s,value:a}=this;this.onEntryMarkedAsMostRecentlyUsed({key:s,value:a})}}defaultClone(s){return typeof s=="boolean"||typeof s=="string"||typeof s=="number"?s:JSON.parse(JSON.stringify(s))}}LRUCacheNode$1.LRUCacheNode=LRUCacheNode;Object.defineProperty(LRUCache$1,"__esModule",{value:!0});LRUCache$1.LRUCache=void 0;const LRUCacheNode_1=LRUCacheNode$1;class LRUCache{constructor(s){this.lookupTable=new Map,this.head=null,this.tail=null;const{maxSize:a=25,entryExpirationTimeInMS:c=null,onEntryEvicted:h,onEntryMarkedAsMostRecentlyUsed:b,cloneFn:tt,clone:nt}=s??{};if(Number.isNaN(a)||a<=0)throw new Error("maxSize must be greater than 0.");if(typeof c=="number"&&(c<=0||Number.isNaN(c)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.maxSizeInternal=a,this.entryExpirationTimeInMS=c,this.onEntryEvicted=h,this.onEntryMarkedAsMostRecentlyUsed=b,this.clone=nt,this.cloneFn=tt}get size(){return this.cleanCache(),this.lookupTable.size}get remainingSize(){return this.maxSizeInternal-this.size}get newest(){return this.head?this.head.isExpired?(this.removeNodeFromListAndLookupTable(this.head),this.newest):this.mapNodeToEntry(this.head):null}get oldest(){return this.tail?this.tail.isExpired?(this.removeNodeFromListAndLookupTable(this.tail),this.oldest):this.mapNodeToEntry(this.tail):null}get maxSize(){return this.maxSizeInternal}set maxSize(s){if(Number.isNaN(s)||s<=0)throw new Error("maxSize must be greater than 0.");this.maxSizeInternal=s,this.enforceSizeLimit()}set(s,a,c){const h=this.lookupTable.get(s);h&&this.removeNodeFromListAndLookupTable(h);const b=new LRUCacheNode_1.LRUCacheNode(s,a,{entryExpirationTimeInMS:this.entryExpirationTimeInMS,onEntryEvicted:this.onEntryEvicted,onEntryMarkedAsMostRecentlyUsed:this.onEntryMarkedAsMostRecentlyUsed,clone:this.clone,cloneFn:this.cloneFn,...c});return this.setNodeAsHead(b),this.lookupTable.set(s,b),this.enforceSizeLimit(),this}get(s){const a=this.lookupTable.get(s);return a?a.isExpired?(this.removeNodeFromListAndLookupTable(a),null):(this.setNodeAsHead(a),a.value):null}peek(s){const a=this.lookupTable.get(s);return a?a.isExpired?(this.removeNodeFromListAndLookupTable(a),null):a.value:null}delete(s){const a=this.lookupTable.get(s);return a?this.removeNodeFromListAndLookupTable(a):!1}has(s){const a=this.lookupTable.get(s);return a?a.isExpired?(this.removeNodeFromListAndLookupTable(a),!1):!0:!1}clear(){this.head=null,this.tail=null,this.lookupTable.clear()}find(s){let a=this.head;for(;a;){if(a.isExpired){const h=a.next;this.removeNodeFromListAndLookupTable(a),a=h;continue}const c=this.mapNodeToEntry(a);if(s(c))return this.setNodeAsHead(a),c;a=a.next}return null}forEach(s){let a=this.head,c=0;for(;a;){if(a.isExpired){const h=a.next;this.removeNodeFromListAndLookupTable(a),a=h;continue}s(a.value,a.key,c),a=a.next,c++}}*values(){let s=this.head;for(;s;){if(s.isExpired){const a=s.next;this.removeNodeFromListAndLookupTable(s),s=a;continue}yield s.value,s=s.next}}*keys(){let s=this.head;for(;s;){if(s.isExpired){const a=s.next;this.removeNodeFromListAndLookupTable(s),s=a;continue}yield s.key,s=s.next}}*entries(){let s=this.head;for(;s;){if(s.isExpired){const a=s.next;this.removeNodeFromListAndLookupTable(s),s=a;continue}yield this.mapNodeToEntry(s),s=s.next}}*[Symbol.iterator](){let s=this.head;for(;s;){if(s.isExpired){const a=s.next;this.removeNodeFromListAndLookupTable(s),s=a;continue}yield this.mapNodeToEntry(s),s=s.next}}enforceSizeLimit(){let s=this.tail;for(;s!==null&&this.size>this.maxSizeInternal;){const a=s.prev;this.removeNodeFromListAndLookupTable(s),s=a}}mapNodeToEntry({key:s,value:a}){return{key:s,value:a}}setNodeAsHead(s){this.removeNodeFromList(s),this.head?(s.next=this.head,this.head.prev=s,this.head=s):(this.head=s,this.tail=s),s.invokeOnEntryMarkedAsMostRecentlyUsed()}removeNodeFromList(s){s.prev!==null&&(s.prev.next=s.next),s.next!==null&&(s.next.prev=s.prev),this.head===s&&(this.head=s.next),this.tail===s&&(this.tail=s.prev),s.next=null,s.prev=null}removeNodeFromListAndLookupTable(s){return s.invokeOnEvicted(),this.removeNodeFromList(s),this.lookupTable.delete(s.key)}cleanCache(){if(!this.entryExpirationTimeInMS)return;const s=[];for(const a of this.lookupTable.values())a.isExpired&&s.push(a);s.forEach(a=>this.removeNodeFromListAndLookupTable(a))}}LRUCache$1.LRUCache=LRUCache;(function(e){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,h,b,tt){tt===void 0&&(tt=b);var nt=Object.getOwnPropertyDescriptor(h,b);(!nt||("get"in nt?!h.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return h[b]}}),Object.defineProperty(c,tt,nt)}:function(c,h,b,tt){tt===void 0&&(tt=b),c[tt]=h[b]}),a=commonjsGlobal&&commonjsGlobal.__exportStar||function(c,h){for(var b in c)b!=="default"&&!Object.prototype.hasOwnProperty.call(h,b)&&s(h,c,b)};Object.defineProperty(e,"__esModule",{value:!0}),a(LRUCache$1,e)})(dist);var lib={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function s(Rt){if(!Number.isSafeInteger(Rt))throw new Error(`Wrong integer: ${Rt}`)}e.assertNumber=s;function a(...Rt){const Nt=($t,_t)=>Bt=>$t(_t(Bt)),Mt=Array.from(Rt).reverse().reduce(($t,_t)=>$t?Nt($t,_t.encode):_t.encode,void 0),It=Rt.reduce(($t,_t)=>$t?Nt($t,_t.decode):_t.decode,void 0);return{encode:Mt,decode:It}}function c(Rt){return{encode:Nt=>{if(!Array.isArray(Nt)||Nt.length&&typeof Nt[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return Nt.map(Mt=>{if(s(Mt),Mt<0||Mt>=Rt.length)throw new Error(`Digit index outside alphabet: ${Mt} (alphabet: ${Rt.length})`);return Rt[Mt]})},decode:Nt=>{if(!Array.isArray(Nt)||Nt.length&&typeof Nt[0]!="string")throw new Error("alphabet.decode input should be array of strings");return Nt.map(Mt=>{if(typeof Mt!="string")throw new Error(`alphabet.decode: not string element=${Mt}`);const It=Rt.indexOf(Mt);if(It===-1)throw new Error(`Unknown letter: "${Mt}". Allowed: ${Rt}`);return It})}}}function h(Rt=""){if(typeof Rt!="string")throw new Error("join separator should be string");return{encode:Nt=>{if(!Array.isArray(Nt)||Nt.length&&typeof Nt[0]!="string")throw new Error("join.encode input should be array of strings");for(let Mt of Nt)if(typeof Mt!="string")throw new Error(`join.encode: non-string input=${Mt}`);return Nt.join(Rt)},decode:Nt=>{if(typeof Nt!="string")throw new Error("join.decode input should be string");return Nt.split(Rt)}}}function b(Rt,Nt="="){if(s(Rt),typeof Nt!="string")throw new Error("padding chr should be string");return{encode(Mt){if(!Array.isArray(Mt)||Mt.length&&typeof Mt[0]!="string")throw new Error("padding.encode input should be array of strings");for(let It of Mt)if(typeof It!="string")throw new Error(`padding.encode: non-string input=${It}`);for(;Mt.length*Rt%8;)Mt.push(Nt);return Mt},decode(Mt){if(!Array.isArray(Mt)||Mt.length&&typeof Mt[0]!="string")throw new Error("padding.encode input should be array of strings");for(let $t of Mt)if(typeof $t!="string")throw new Error(`padding.decode: non-string input=${$t}`);let It=Mt.length;if(It*Rt%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;It>0&&Mt[It-1]===Nt;It--)if(!((It-1)*Rt%8))throw new Error("Invalid padding: string has too much padding");return Mt.slice(0,It)}}}function tt(Rt){if(typeof Rt!="function")throw new Error("normalize fn should be function");return{encode:Nt=>Nt,decode:Nt=>Rt(Nt)}}function nt(Rt,Nt,Mt){if(Nt<2)throw new Error(`convertRadix: wrong from=${Nt}, base cannot be less than 2`);if(Mt<2)throw new Error(`convertRadix: wrong to=${Mt}, base cannot be less than 2`);if(!Array.isArray(Rt))throw new Error("convertRadix: data should be array");if(!Rt.length)return[];let It=0;const $t=[],_t=Array.from(Rt);for(_t.forEach(Bt=>{if(s(Bt),Bt<0||Bt>=Nt)throw new Error(`Wrong integer: ${Bt}`)});;){let Bt=0,Tt=!0;for(let jt=It;jt<_t.length;jt++){const Ft=_t[jt],Ut=Nt*Bt+Ft;if(!Number.isSafeInteger(Ut)||Nt*Bt/Nt!==Bt||Ut-Ft!==Nt*Bt)throw new Error("convertRadix: carry overflow");if(Bt=Ut%Mt,_t[jt]=Math.floor(Ut/Mt),!Number.isSafeInteger(_t[jt])||_t[jt]*Mt+Bt!==Ut)throw new Error("convertRadix: carry overflow");if(Tt)_t[jt]?Tt=!1:It=jt;else continue}if($t.push(Bt),Tt)break}for(let Bt=0;Bt<Rt.length-1&&Rt[Bt]===0;Bt++)$t.push(0);return $t.reverse()}const ot=(Rt,Nt)=>Nt?ot(Nt,Rt%Nt):Rt,st=(Rt,Nt)=>Rt+(Nt-ot(Rt,Nt));function ft(Rt,Nt,Mt,It){if(!Array.isArray(Rt))throw new Error("convertRadix2: data should be array");if(Nt<=0||Nt>32)throw new Error(`convertRadix2: wrong from=${Nt}`);if(Mt<=0||Mt>32)throw new Error(`convertRadix2: wrong to=${Mt}`);if(st(Nt,Mt)>32)throw new Error(`convertRadix2: carry overflow from=${Nt} to=${Mt} carryBits=${st(Nt,Mt)}`);let $t=0,_t=0;const Bt=2**Mt-1,Tt=[];for(const jt of Rt){if(s(jt),jt>=2**Nt)throw new Error(`convertRadix2: invalid data word=${jt} from=${Nt}`);if($t=$t<<Nt|jt,_t+Nt>32)throw new Error(`convertRadix2: carry overflow pos=${_t} from=${Nt}`);for(_t+=Nt;_t>=Mt;_t-=Mt)Tt.push(($t>>_t-Mt&Bt)>>>0);$t&=2**_t-1}if($t=$t<<Mt-_t&Bt,!It&&_t>=Nt)throw new Error("Excess padding");if(!It&&$t)throw new Error(`Non-zero padding: ${$t}`);return It&&_t>0&&Tt.push($t>>>0),Tt}function ht(Rt){return s(Rt),{encode:Nt=>{if(!(Nt instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return nt(Array.from(Nt),2**8,Rt)},decode:Nt=>{if(!Array.isArray(Nt)||Nt.length&&typeof Nt[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(nt(Nt,Rt,2**8))}}}function gt(Rt,Nt=!1){if(s(Rt),Rt<=0||Rt>32)throw new Error("radix2: bits should be in (0..32]");if(st(8,Rt)>32||st(Rt,8)>32)throw new Error("radix2: carry overflow");return{encode:Mt=>{if(!(Mt instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return ft(Array.from(Mt),8,Rt,!Nt)},decode:Mt=>{if(!Array.isArray(Mt)||Mt.length&&typeof Mt[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(ft(Mt,Rt,8,Nt))}}}function yt(Rt){if(typeof Rt!="function")throw new Error("unsafeWrapper fn should be function");return function(...Nt){try{return Rt.apply(null,Nt)}catch{}}}function Et(Rt,Nt){if(s(Rt),typeof Nt!="function")throw new Error("checksum fn should be function");return{encode(Mt){if(!(Mt instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const It=Nt(Mt).slice(0,Rt),$t=new Uint8Array(Mt.length+Rt);return $t.set(Mt),$t.set(It,Mt.length),$t},decode(Mt){if(!(Mt instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const It=Mt.slice(0,-Rt),$t=Nt(It).slice(0,Rt),_t=Mt.slice(-Rt);for(let Bt=0;Bt<Rt;Bt++)if($t[Bt]!==_t[Bt])throw new Error("Invalid checksum");return It}}}e.utils={alphabet:c,chain:a,checksum:Et,radix:ht,radix2:gt,join:h,padding:b},e.base16=a(gt(4),c("0123456789ABCDEF"),h("")),e.base32=a(gt(5),c("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),b(5),h("")),e.base32hex=a(gt(5),c("0123456789ABCDEFGHIJKLMNOPQRSTUV"),b(5),h("")),e.base32crockford=a(gt(5),c("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),h(""),tt(Rt=>Rt.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=a(gt(6),c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),b(6),h("")),e.base64url=a(gt(6),c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),b(6),h(""));const wt=Rt=>a(ht(58),c(Rt),h(""));e.base58=wt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=wt("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=wt("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const bt=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(Rt){let Nt="";for(let Mt=0;Mt<Rt.length;Mt+=8){const It=Rt.subarray(Mt,Mt+8);Nt+=e.base58.encode(It).padStart(bt[It.length],"1")}return Nt},decode(Rt){let Nt=[];for(let Mt=0;Mt<Rt.length;Mt+=11){const It=Rt.slice(Mt,Mt+11),$t=bt.indexOf(It.length),_t=e.base58.decode(It);for(let Bt=0;Bt<_t.length-$t;Bt++)if(_t[Bt]!==0)throw new Error("base58xmr: wrong padding");Nt=Nt.concat(Array.from(_t.slice(_t.length-$t)))}return Uint8Array.from(Nt)}};const mt=Rt=>a(Et(4,Nt=>Rt(Rt(Nt))),e.base58);e.base58check=mt;const vt=a(c("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),h("")),xt=[996825010,642813549,513874426,1027748829,705979059];function kt(Rt){const Nt=Rt>>25;let Mt=(Rt&33554431)<<5;for(let It=0;It<xt.length;It++)(Nt>>It&1)===1&&(Mt^=xt[It]);return Mt}function Lt(Rt,Nt,Mt=1){const It=Rt.length;let $t=1;for(let _t=0;_t<It;_t++){const Bt=Rt.charCodeAt(_t);if(Bt<33||Bt>126)throw new Error(`Invalid prefix (${Rt})`);$t=kt($t)^Bt>>5}$t=kt($t);for(let _t=0;_t<It;_t++)$t=kt($t)^Rt.charCodeAt(_t)&31;for(let _t of Nt)$t=kt($t)^_t;for(let _t=0;_t<6;_t++)$t=kt($t);return $t^=Mt,vt.encode(ft([$t%2**30],30,5,!1))}function Ct(Rt){const Nt=Rt==="bech32"?1:734539939,Mt=gt(5),It=Mt.decode,$t=Mt.encode,_t=yt(It);function Bt(Ut,Ht,Dt=90){if(typeof Ut!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof Ut}`);if(!Array.isArray(Ht)||Ht.length&&typeof Ht[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof Ht}`);const Vt=Ut.length+7+Ht.length;if(Dt!==!1&&Vt>Dt)throw new TypeError(`Length ${Vt} exceeds limit ${Dt}`);return Ut=Ut.toLowerCase(),`${Ut}1${vt.encode(Ht)}${Lt(Ut,Ht,Nt)}`}function Tt(Ut,Ht=90){if(typeof Ut!="string")throw new Error(`bech32.decode input should be string, not ${typeof Ut}`);if(Ut.length<8||Ht!==!1&&Ut.length>Ht)throw new TypeError(`Wrong string length: ${Ut.length} (${Ut}). Expected (8..${Ht})`);const Dt=Ut.toLowerCase();if(Ut!==Dt&&Ut!==Ut.toUpperCase())throw new Error("String must be lowercase or uppercase");Ut=Dt;const Vt=Ut.lastIndexOf("1");if(Vt===0||Vt===-1)throw new Error('Letter "1" must be present between prefix and data only');const Gt=Ut.slice(0,Vt),Wt=Ut.slice(Vt+1);if(Wt.length<6)throw new Error("Data must be at least 6 characters long");const qt=vt.decode(Wt).slice(0,-6),Qt=Lt(Gt,qt,Nt);if(!Wt.endsWith(Qt))throw new Error(`Invalid checksum in ${Ut}: expected "${Qt}"`);return{prefix:Gt,words:qt}}const jt=yt(Tt);function Ft(Ut){const{prefix:Ht,words:Dt}=Tt(Ut,!1);return{prefix:Ht,words:Dt,bytes:It(Dt)}}return{encode:Bt,decode:Tt,decodeToBytes:Ft,decodeUnsafe:jt,fromWords:It,fromWordsUnsafe:_t,toWords:$t}}e.bech32=Ct("bech32"),e.bech32m=Ct("bech32m"),e.utf8={encode:Rt=>new TextDecoder().decode(Rt),decode:Rt=>new TextEncoder().encode(Rt)},e.hex=a(gt(4),c("0123456789abcdef"),h(""),tt(Rt=>{if(typeof Rt!="string"||Rt.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof Rt} with length ${Rt.length}`);return Rt.toLowerCase()}));const St={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},Pt=`Invalid encoding type. Available types: ${Object.keys(St).join(", ")}`,Ot=(Rt,Nt)=>{if(typeof Rt!="string"||!St.hasOwnProperty(Rt))throw new TypeError(Pt);if(!(Nt instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return St[Rt].encode(Nt)};e.bytesToString=Ot,e.str=e.bytesToString;const zt=(Rt,Nt)=>{if(!St.hasOwnProperty(Rt))throw new TypeError(Pt);if(typeof Nt!="string")throw new TypeError("stringToBytes() expects string");return St[Rt].decode(Nt)};e.stringToBytes=zt,e.bytes=e.stringToBytes})(lib);const{bech32,hex,utf8}=lib,DEFAULTNETWORK={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},TESTNETWORK={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},SIGNETNETWORK={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},REGTESTNETWORK={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},SIMNETWORK={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},FEATUREBIT_ORDER=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],DIVISORS={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},MAX_MILLISATS=BigInt("2100000000000000000"),MILLISATS_PER_BTC=BigInt(1e11),TAGCODES={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},TAGNAMES={};for(let e=0,s=Object.keys(TAGCODES);e<s.length;e++){const a=s[e],c=TAGCODES[s[e]].toString();TAGNAMES[c]=a}const TAGPARSERS={1:e=>hex.encode(bech32.fromWordsUnsafe(e)),16:e=>hex.encode(bech32.fromWordsUnsafe(e)),13:e=>utf8.encode(bech32.fromWordsUnsafe(e)),19:e=>hex.encode(bech32.fromWordsUnsafe(e)),23:e=>hex.encode(bech32.fromWordsUnsafe(e)),27:e=>hex.encode(bech32.fromWordsUnsafe(e)),6:wordsToIntBE,24:wordsToIntBE,3:routingInfoParser,5:featureBitsParser};function getUnknownParser(e){return s=>({tagCode:parseInt(e),words:bech32.encode("unknown",s,Number.MAX_SAFE_INTEGER)})}function wordsToIntBE(e){return e.reverse().reduce((s,a,c)=>s+a*Math.pow(32,c),0)}function routingInfoParser(e){const s=[];let a,c,h,b,tt,nt=bech32.fromWordsUnsafe(e);for(;nt.length>0;)a=hex.encode(nt.slice(0,33)),c=hex.encode(nt.slice(33,41)),h=parseInt(hex.encode(nt.slice(41,45)),16),b=parseInt(hex.encode(nt.slice(45,49)),16),tt=parseInt(hex.encode(nt.slice(49,51)),16),nt=nt.slice(51),s.push({pubkey:a,short_channel_id:c,fee_base_msat:h,fee_proportional_millionths:b,cltv_expiry_delta:tt});return s}function featureBitsParser(e){const s=e.slice().reverse().map(h=>[!!(h&1),!!(h&2),!!(h&4),!!(h&8),!!(h&16)]).reduce((h,b)=>h.concat(b),[]);for(;s.length<FEATUREBIT_ORDER.length*2;)s.push(!1);const a={};FEATUREBIT_ORDER.forEach((h,b)=>{let tt;s[b*2]?tt="required":s[b*2+1]?tt="supported":tt="unsupported",a[h]=tt});const c=s.slice(FEATUREBIT_ORDER.length*2);return a.extra_bits={start_bit:FEATUREBIT_ORDER.length*2,bits:c,has_required:c.reduce((h,b,tt)=>tt%2!==0?h||!1:h||b,!1)},a}function hrpToMillisat(e,s){let a,c;if(e.slice(-1).match(/^[munp]$/))a=e.slice(-1),c=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");c=e}if(!c.match(/^\d+$/))throw new Error("Not a valid human readable amount");const h=BigInt(c),b=a?h*MILLISATS_PER_BTC/DIVISORS[a]:h*MILLISATS_PER_BTC;if(a==="p"&&h%BigInt(10)!==BigInt(0)||b>MAX_MILLISATS)throw new Error("Amount is outside of valid range");return s?b.toString():b}function decode(e,s){if(typeof e!="string")throw new Error("Lightning Payment Request must be string");if(e.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const a=[],c=bech32.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const h=c.prefix;let b=c.words,tt=e.slice(h.length+1),nt=b.slice(-104);b=b.slice(0,-104);let ot=h.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(ot&&!ot[2]&&(ot=h.match(/^ln(\S+)$/)),!ot)throw new Error("Not a proper lightning payment request");a.push({name:"lightning_network",letters:"ln"});const st=ot[1];let ft;if(s){if(s.bech32===void 0||s.pubKeyHash===void 0||s.scriptHash===void 0||!Array.isArray(s.validWitnessVersions))throw new Error("Invalid network");ft=s}else switch(st){case DEFAULTNETWORK.bech32:ft=DEFAULTNETWORK;break;case TESTNETWORK.bech32:ft=TESTNETWORK;break;case SIGNETNETWORK.bech32:ft=SIGNETNETWORK;break;case REGTESTNETWORK.bech32:ft=REGTESTNETWORK;break;case SIMNETWORK.bech32:ft=SIMNETWORK;break}if(!ft||ft.bech32!==st)throw new Error("Unknown coin bech32 prefix");a.push({name:"coin_network",letters:st,value:ft});const ht=ot[2];let gt;if(ht){const kt=ot[3];gt=hrpToMillisat(ht+kt,!0),a.push({name:"amount",letters:ot[2]+ot[3],value:gt})}else gt=null;a.push({name:"separator",letters:"1"});const yt=wordsToIntBE(b.slice(0,7));b=b.slice(7),a.push({name:"timestamp",letters:tt.slice(0,7),value:yt}),tt=tt.slice(7);let Et,wt,bt,mt;for(;b.length>0;){const kt=b[0].toString();Et=TAGNAMES[kt]||"unknown_tag",wt=TAGPARSERS[kt]||getUnknownParser(kt),b=b.slice(1),bt=wordsToIntBE(b.slice(0,2)),b=b.slice(2),mt=b.slice(0,bt),b=b.slice(bt),a.push({name:Et,tag:tt[0],letters:tt.slice(0,3+bt),value:wt(mt)}),tt=tt.slice(3+bt)}a.push({name:"signature",letters:tt.slice(0,104),value:hex.encode(bech32.fromWordsUnsafe(nt))}),tt=tt.slice(104),a.push({name:"checksum",letters:tt});let vt={paymentRequest:e,sections:a,get expiry(){let kt=a.find(Lt=>Lt.name==="expiry");if(kt)return xt("timestamp")+kt.value},get route_hints(){return a.filter(kt=>kt.name==="route_hint").map(kt=>kt.value)}};for(let kt in TAGCODES)kt!=="route_hint"&&Object.defineProperty(vt,kt,{get(){return xt(kt)}});return vt;function xt(kt){let Lt=a.find(Ct=>Ct.name===kt);return Lt?Lt.value:void 0}}var bolt11={decode,hrpToMillisat};function getRelaysForSync(e,s,a="write"){if(!e.outboxTracker)return;const c=e.outboxTracker.data.get(s);if(c)return a==="write"?c.writeRelays:c.readRelays}async function getWriteRelaysFor(e,s,a="write"){if(e.outboxTracker)return e.outboxTracker.data.has(s)||await e.outboxTracker.trackUsers([s]),getRelaysForSync(e,s,a)}function getTopRelaysForAuthors(e,s){const a=new Map;return s.forEach(h=>{const b=getRelaysForSync(e,h);b&&b.forEach(tt=>{const nt=a.get(tt)||0;a.set(tt,nt+1)})}),Array.from(a.entries()).sort((h,b)=>b[1]-h[1]).map(h=>h[0])}function getAllRelaysForAllPubkeys(e,s,a="read"){const c=new Map,h=new Set;return s.forEach(b=>{const tt=getRelaysForSync(e,b,a);tt&&tt.size>0?(tt.forEach(nt=>{(c.get(nt)||new Set).add(b)}),c.set(b,tt)):h.add(b)}),{pubkeysToRelays:c,authorsMissingRelays:h}}function chooseRelayCombinationForPubkeys(e,s,a,{count:c,preferredRelays:h}={}){c??(c=2),h??(h=new Set);const b=e.pool,tt=b.connectedRelays();tt.forEach(gt=>{h.add(gt.url)});const nt=new Map,{pubkeysToRelays:ot,authorsMissingRelays:st}=getAllRelaysForAllPubkeys(e,s,a),ft=getTopRelaysForAuthors(e,s),ht=(gt,yt)=>{const Et=nt.get(yt)||[];Et.push(gt),nt.set(yt,Et)};for(const[gt,yt]of ot.entries()){let Et=c;for(const wt of tt)yt.has(wt.url)&&(ht(gt,wt.url),Et--);for(const wt of yt)nt.has(wt)&&(ht(gt,wt),Et--);if(!(Et<=0))for(const wt of ft){if(Et<=0)break;yt.has(wt)&&(ht(gt,wt),Et--)}}for(const gt of st)b.permanentAndConnectedRelays().forEach(yt=>{const Et=nt.get(yt.url)||[];Et.push(gt),nt.set(yt.url,Et)});return nt}function getRelaysForFilterWithAuthors(e,s,a=2){return chooseRelayCombinationForPubkeys(e,s,"write",{count:a})}function tryNormalizeRelayUrl(e){try{return normalizeRelayUrl(e)}catch{return}}function normalizeRelayUrl(e){let s=normalizeUrl(e.toLowerCase(),{stripAuthentication:!1,stripWWW:!1,stripHash:!0});return s.endsWith("/")||(s+="/"),s}function normalize(e){const s=new Set;for(const a of e)try{s.add(normalizeRelayUrl(a))}catch{}return Array.from(s)}var DATA_URL_DEFAULT_MIME_TYPE="text/plain",DATA_URL_DEFAULT_CHARSET="us-ascii",testParameter=(e,s)=>s.some(a=>a instanceof RegExp?a.test(e):a===e),supportedProtocols=new Set(["https:","http:","file:"]),hasCustomProtocol=e=>{try{const{protocol:s}=new URL(e);return s.endsWith(":")&&!s.includes(".")&&!supportedProtocols.has(s)}catch{return!1}},normalizeDataURL=(e,{stripHash:s})=>{var ht,gt,yt,Et;const a=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!a)throw new Error(`Invalid URL: ${e}`);let c=((ht=a.groups)==null?void 0:ht.type)??"",h=((gt=a.groups)==null?void 0:gt.data)??"",b=((yt=a.groups)==null?void 0:yt.hash)??"";const tt=c.split(";");b=s?"":b;let nt=!1;tt[tt.length-1]==="base64"&&(tt.pop(),nt=!0);const ot=((Et=tt.shift())==null?void 0:Et.toLowerCase())??"",ft=[...tt.map(wt=>{let[bt,mt=""]=wt.split("=").map(vt=>vt.trim());return bt==="charset"&&(mt=mt.toLowerCase(),mt===DATA_URL_DEFAULT_CHARSET)?"":`${bt}${mt?`=${mt}`:""}`}).filter(Boolean)];return nt&&ft.push("base64"),(ft.length>0||ot&&ot!==DATA_URL_DEFAULT_MIME_TYPE)&&ft.unshift(ot),`data:${ft.join(";")},${nt?h.trim():h}${b?`#${b}`:""}`};function normalizeUrl(e,s){if(s={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...s},typeof s.defaultProtocol=="string"&&!s.defaultProtocol.endsWith(":")&&(s.defaultProtocol=`${s.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return normalizeDataURL(e,s);if(hasCustomProtocol(e))return e;const a=e.startsWith("//");!a&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,s.defaultProtocol));const h=new URL(e);if(s.forceHttp&&s.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(s.forceHttp&&h.protocol==="https:"&&(h.protocol="http:"),s.forceHttps&&h.protocol==="http:"&&(h.protocol="https:"),s.stripAuthentication&&(h.username="",h.password=""),s.stripHash?h.hash="":s.stripTextFragment&&(h.hash=h.hash.replace(/#?:~:text.*?$/i,"")),h.pathname){const tt=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let nt=0,ot="";for(;;){const ft=tt.exec(h.pathname);if(!ft)break;const ht=ft[0],gt=ft.index,yt=h.pathname.slice(nt,gt);ot+=yt.replace(/\/{2,}/g,"/"),ot+=ht,nt=gt+ht.length}const st=h.pathname.slice(nt,h.pathname.length);ot+=st.replace(/\/{2,}/g,"/"),h.pathname=ot}if(h.pathname)try{h.pathname=decodeURI(h.pathname)}catch{}if(s.removeDirectoryIndex===!0&&(s.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(s.removeDirectoryIndex)&&s.removeDirectoryIndex.length>0){let tt=h.pathname.split("/");const nt=tt[tt.length-1];testParameter(nt,s.removeDirectoryIndex)&&(tt=tt.slice(0,-1),h.pathname=tt.slice(1).join("/")+"/")}if(h.hostname&&(h.hostname=h.hostname.replace(/\.$/,""),s.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(h.hostname)&&(h.hostname=h.hostname.replace(/^www\./,""))),Array.isArray(s.removeQueryParameters))for(const tt of[...h.searchParams.keys()])testParameter(tt,s.removeQueryParameters)&&h.searchParams.delete(tt);if(!Array.isArray(s.keepQueryParameters)&&s.removeQueryParameters===!0&&(h.search=""),Array.isArray(s.keepQueryParameters)&&s.keepQueryParameters.length>0)for(const tt of[...h.searchParams.keys()])testParameter(tt,s.keepQueryParameters)||h.searchParams.delete(tt);if(s.sortQueryParameters){h.searchParams.sort();try{h.search=decodeURIComponent(h.search)}catch{}}s.removeTrailingSlash&&(h.pathname=h.pathname.replace(/\/$/,"")),s.removeExplicitPort&&h.port&&(h.port="");const b=e;return e=h.toString(),!s.removeSingleSlash&&h.pathname==="/"&&!b.endsWith("/")&&h.hash===""&&(e=e.replace(/\/$/,"")),(s.removeTrailingSlash||h.pathname==="/")&&h.hash===""&&s.removeSingleSlash&&(e=e.replace(/\/$/,"")),a&&!s.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),s.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var NDKKind=(e=>(e[e.Metadata=0]="Metadata",e[e.Text=1]="Text",e[e.RecommendRelay=2]="RecommendRelay",e[e.Contacts=3]="Contacts",e[e.EncryptedDirectMessage=4]="EncryptedDirectMessage",e[e.EventDeletion=5]="EventDeletion",e[e.Repost=6]="Repost",e[e.Reaction=7]="Reaction",e[e.BadgeAward=8]="BadgeAward",e[e.GroupChat=9]="GroupChat",e[e.GroupNote=11]="GroupNote",e[e.GroupReply=12]="GroupReply",e[e.GenericRepost=16]="GenericRepost",e[e.ChannelCreation=40]="ChannelCreation",e[e.ChannelMetadata=41]="ChannelMetadata",e[e.ChannelMessage=42]="ChannelMessage",e[e.ChannelHideMessage=43]="ChannelHideMessage",e[e.ChannelMuteUser=44]="ChannelMuteUser",e[e.Media=1063]="Media",e[e.Report=1984]="Report",e[e.Label=1985]="Label",e[e.DVMReqTextExtraction=5e3]="DVMReqTextExtraction",e[e.DVMReqTextSummarization=5001]="DVMReqTextSummarization",e[e.DVMReqTextTranslation=5002]="DVMReqTextTranslation",e[e.DVMReqTextGeneration=5050]="DVMReqTextGeneration",e[e.DVMReqImageGeneration=5100]="DVMReqImageGeneration",e[e.DVMReqTextToSpeech=5250]="DVMReqTextToSpeech",e[e.DVMReqDiscoveryNostrContent=5300]="DVMReqDiscoveryNostrContent",e[e.DVMReqDiscoveryNostrPeople=5301]="DVMReqDiscoveryNostrPeople",e[e.DVMReqTimestamping=5900]="DVMReqTimestamping",e[e.DVMEventSchedule=5905]="DVMEventSchedule",e[e.DVMJobFeedback=7e3]="DVMJobFeedback",e[e.Subscribe=7001]="Subscribe",e[e.Unsubscribe=7002]="Unsubscribe",e[e.SubscriptionReceipt=7003]="SubscriptionReceipt",e[e.CashuToken=7375]="CashuToken",e[e.WalletChange=7376]="WalletChange",e[e.GroupAdminAddUser=9e3]="GroupAdminAddUser",e[e.GroupAdminRemoveUser=9001]="GroupAdminRemoveUser",e[e.GroupAdminEditMetadata=9002]="GroupAdminEditMetadata",e[e.GroupAdminEditStatus=9006]="GroupAdminEditStatus",e[e.GroupAdminCreateGroup=9007]="GroupAdminCreateGroup",e[e.GroupAdminRequestJoin=9021]="GroupAdminRequestJoin",e[e.MuteList=1e4]="MuteList",e[e.PinList=10001]="PinList",e[e.RelayList=10002]="RelayList",e[e.BookmarkList=10003]="BookmarkList",e[e.CommunityList=10004]="CommunityList",e[e.PublicChatList=10005]="PublicChatList",e[e.BlockRelayList=10006]="BlockRelayList",e[e.SearchRelayList=10007]="SearchRelayList",e[e.SimpleGroupList=10009]="SimpleGroupList",e[e.InterestList=10015]="InterestList",e[e.CashuMintList=10019]="CashuMintList",e[e.EmojiList=10030]="EmojiList",e[e.BlossomList=10063]="BlossomList",e[e.NostrWaletConnectInfo=13194]="NostrWaletConnectInfo",e[e.TierList=17e3]="TierList",e[e.FollowSet=3e4]="FollowSet",e[e.CategorizedPeopleList=3e4]="CategorizedPeopleList",e[e.CategorizedBookmarkList=30001]="CategorizedBookmarkList",e[e.RelaySet=30002]="RelaySet",e[e.CategorizedRelayList=30002]="CategorizedRelayList",e[e.BookmarkSet=30003]="BookmarkSet",e[e.CurationSet=30004]="CurationSet",e[e.ArticleCurationSet=30004]="ArticleCurationSet",e[e.VideoCurationSet=30005]="VideoCurationSet",e[e.InterestSet=30015]="InterestSet",e[e.InterestsList=30015]="InterestsList",e[e.EmojiSet=30030]="EmojiSet",e[e.ModularArticle=30040]="ModularArticle",e[e.ModularArticleItem=30041]="ModularArticleItem",e[e.Wiki=30818]="Wiki",e[e.Draft=31234]="Draft",e[e.SubscriptionTier=37001]="SubscriptionTier",e[e.EcashMintRecommendation=38e3]="EcashMintRecommendation",e[e.HighlightSet=39802]="HighlightSet",e[e.CategorizedHighlightList=39802]="CategorizedHighlightList",e[e.Nutzap=9321]="Nutzap",e[e.ZapRequest=9734]="ZapRequest",e[e.Zap=9735]="Zap",e[e.Highlight=9802]="Highlight",e[e.ClientAuth=22242]="ClientAuth",e[e.NostrWalletConnectReq=23194]="NostrWalletConnectReq",e[e.NostrWalletConnectRes=23195]="NostrWalletConnectRes",e[e.NostrConnect=24133]="NostrConnect",e[e.BlossomUpload=24242]="BlossomUpload",e[e.HttpAuth=27235]="HttpAuth",e[e.ProfileBadge=30008]="ProfileBadge",e[e.BadgeDefinition=30009]="BadgeDefinition",e[e.MarketStall=30017]="MarketStall",e[e.MarketProduct=30018]="MarketProduct",e[e.Article=30023]="Article",e[e.AppSpecificData=30078]="AppSpecificData",e[e.Classified=30402]="Classified",e[e.HorizontalVideo=34235]="HorizontalVideo",e[e.VerticalVideo=34236]="VerticalVideo",e[e.CashuWallet=37375]="CashuWallet",e[e.GroupMetadata=39e3]="GroupMetadata",e[e.GroupAdmins=39001]="GroupAdmins",e[e.GroupMembers=39002]="GroupMembers",e[e.AppRecommendation=31989]="AppRecommendation",e[e.AppHandler=31990]="AppHandler",e))(NDKKind||{}),MAX_RECONNECT_ATTEMPTS=5,FLAPPING_THRESHOLD_MS=1e3,NDKRelayConnectivity=class{constructor(e,s){At(this,"ndkRelay");At(this,"ws");At(this,"_status");At(this,"timeoutMs");At(this,"connectedAt");At(this,"_connectionStats",{attempts:0,success:0,durations:[]});At(this,"debug");At(this,"connectTimeout");At(this,"reconnectTimeout");At(this,"ndk");At(this,"openSubs",new Map);At(this,"openCountRequests",new Map);At(this,"openEventPublishes",new Map);At(this,"serial",0);At(this,"baseEoseTimeout",4400);At(this,"updateConnectionStats",{connected:()=>{this._connectionStats.success++,this._connectionStats.connectedAt=Date.now()},disconnected:()=>{this._connectionStats.connectedAt&&(this._connectionStats.durations.push(Date.now()-this._connectionStats.connectedAt),this._connectionStats.durations.length>100&&this._connectionStats.durations.shift()),this._connectionStats.connectedAt=void 0},attempt:()=>{this._connectionStats.attempts++,this._connectionStats.connectedAt=Date.now()}});this.ndkRelay=e,this._status=1;const a=Math.floor(Math.random()*1e3);this.debug=this.ndkRelay.debug.extend("connectivity"+a),this.ndk=s}async connect(e,s=!0){if(this._status!==1||this.reconnectTimeout){this.debug("Relay requested to be connected but was in state %s or it had a reconnect timeout",this._status);return}this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),e??(e=this.timeoutMs),!this.timeoutMs&&e&&(this.timeoutMs=e),this.timeoutMs&&(this.connectTimeout=setTimeout(()=>this.onConnectionError(s),this.timeoutMs));try{this.updateConnectionStats.attempt(),this._status===1?this._status=4:this._status=2,this.ws=new WebSocket(this.ndkRelay.url),this.ws.onopen=this.onConnect.bind(this),this.ws.onclose=this.onDisconnect.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this)}catch(a){throw this.debug(`Failed to connect to ${this.ndkRelay.url}`,a),this._status=1,s?this.handleReconnection():this.ndkRelay.emit("delayed-connect",2*24*60*60*1e3),a}}disconnect(){var e;this._status=0;try{(e=this.ws)==null||e.close()}catch(s){this.debug("Failed to disconnect",s),this._status=1}}onConnectionError(e){this.debug(`Error connecting to ${this.ndkRelay.url}`,this.timeoutMs),e&&!this.reconnectTimeout&&this.handleReconnection()}onConnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.updateConnectionStats.connected(),this._status=5,this.ndkRelay.emit("connect"),this.ndkRelay.emit("ready")}onDisconnect(){this.updateConnectionStats.disconnected(),this._status=1}onMessage(e){try{const s=JSON.parse(e.data),[a,c,...h]=s;switch(a){case"EVENT":{const b=this.openSubs.get(c),tt=s[2];if(!b){this.debug(`Received event for unknown subscription ${c}`);return}b.onevent(tt);return}case"COUNT":{const b=s[2],tt=this.openCountRequests.get(c);tt&&(tt.resolve(b.count),this.openCountRequests.delete(c));return}case"EOSE":{const b=this.openSubs.get(c);if(!b)return;b.oneose();return}case"OK":{const b=s[2],tt=s[3],nt=this.openEventPublishes.get(c),ot=nt==null?void 0:nt.pop();if(!nt||!ot){this.debug("Received OK for unknown event publish",c);return}b?ot.resolve(tt):ot.reject(new Error(tt)),nt.length===0?this.openEventPublishes.delete(c):this.openEventPublishes.set(c,nt);return}case"CLOSED":{const b=this.openSubs.get(c);if(!b)return;b.onclosed(s[2]);return}case"NOTICE":this.onNotice(s[1]);return;case"AUTH":{this.onAuthRequested(s[1]);return}}}catch(s){this.debug(`Error parsing message from ${this.ndkRelay.url}: ${s.message}`,s==null?void 0:s.stack);return}}async onAuthRequested(e){var a,c,h;const s=this.ndkRelay.authPolicy??((a=this.ndk)==null?void 0:a.relayAuthDefaultPolicy);if(this.debug("Relay requested authentication",{havePolicy:!!s}),this._status===7){this.debug("Already authenticating, ignoring");return}if(this._status=6,s){if(this._status>=5){this._status=7;let b;try{b=await s(this.ndkRelay,e)}catch(tt){this.debug("Authentication policy threw an error",tt),b=!1}if(this.debug("Authentication policy returned",!!b),b instanceof NDKEvent||b===!0){b instanceof NDKEvent&&await this.auth(b);const tt=async()=>{if(this._status>=5&&this._status<8){const nt=new NDKEvent(this.ndk);nt.kind=22242,nt.tags=[["relay",this.ndkRelay.url],["challenge",e]],await nt.sign(),this.auth(nt).then(()=>{this._status=8,this.ndkRelay.emit("authed"),this.debug("Authentication successful")}).catch(ot=>{this._status=6,this.ndkRelay.emit("auth:failed",ot),this.debug("Authentication failed",ot)})}else this.debug("Authentication failed, it changed status, status is %d",this._status)};b===!0&&((c=this.ndk)!=null&&c.signer?tt().catch(nt=>{console.error("Error authenticating",nt)}):(this.debug("No signer available for authentication localhost"),(h=this.ndk)==null||h.once("signer:ready",tt))),this._status=5,this.ndkRelay.emit("authed")}}}else this.ndkRelay.emit("auth",e)}onError(e){this.debug(`WebSocket error on ${this.ndkRelay.url}:`,e)}get status(){return this._status}isAvailable(){return this._status===5}isFlapping(){const e=this._connectionStats.durations;if(e.length%3!==0)return!1;const a=e.reduce((tt,nt)=>tt+nt,0)/e.length,c=e.map(tt=>Math.pow(tt-a,2)).reduce((tt,nt)=>tt+nt,0)/e.length;return Math.sqrt(c)<FLAPPING_THRESHOLD_MS}async onNotice(e){this.ndkRelay.emit("notice",e)}handleReconnection(e=0){if(this.reconnectTimeout)return;if(this.isFlapping()){this.ndkRelay.emit("flapping",this._connectionStats),this._status=3;return}const s=this.connectedAt?Math.max(0,6e4-(Date.now()-this.connectedAt)):5e3*(this._connectionStats.attempts+1);this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=void 0,this._status=2,this.connect().catch(a=>{e<MAX_RECONNECT_ATTEMPTS?setTimeout(()=>{this.handleReconnection(e+1)},1e3*(e+1)^4):this.debug("Reconnect failed")})},s),this.ndkRelay.emit("delayed-connect",s),this.debug("Reconnecting in",s),this._connectionStats.nextReconnectAt=Date.now()+s}async send(e){var s,a;this._status>=5&&((s=this.ws)==null?void 0:s.readyState)===WebSocket.OPEN?(a=this.ws)==null||a.send(e):this.debug(`Not connected to ${this.ndkRelay.url} (%d), not sending message ${e}`,this._status)}async auth(e){const s=new Promise((a,c)=>{const h=this.openEventPublishes.get(e.id)??[];h.push({resolve:a,reject:c}),this.openEventPublishes.set(e.id,h)});return this.send('["AUTH",'+JSON.stringify(e.rawEvent())+"]"),s}async publish(e){const s=new Promise((a,c)=>{const h=this.openEventPublishes.get(e.id)??[];h.length>0&&console.warn("Duplicate event publishing detected, you are publishing event "+e.id+" twice"),h.push({resolve:a,reject:c}),this.openEventPublishes.set(e.id,h)});return this.send('["EVENT",'+JSON.stringify(e)+"]"),s}async count(e,s){this.serial++;const a=(s==null?void 0:s.id)||"count:"+this.serial,c=new Promise((h,b)=>{this.openCountRequests.set(a,{resolve:h,reject:b})});return this.send('["COUNT","'+a+'",'+JSON.stringify(e).substring(1)),c}close(e,s){this.send('["CLOSE","'+e+'"]');const a=this.openSubs.get(e);this.openSubs.delete(e),a&&a.onclose(s)}req(e){this.send('["REQ","'+e.subId+'",'+JSON.stringify(e.executeFilters).substring(1))+"",this.openSubs.set(e.subId,e)}get connectionStats(){return this._connectionStats}get url(){return this.ndkRelay.url}get connected(){var e;return this._status>=5&&((e=this.ws)==null?void 0:e.readyState)===WebSocket.OPEN}},NDKRelayPublisher=class{constructor(e){At(this,"ndkRelay");At(this,"debug");this.ndkRelay=e,this.debug=e.debug.extend("publisher")}async publish(e,s=2500){let a;const c=()=>new Promise((ft,ht)=>{try{this.publishEvent(e).then(gt=>{this.ndkRelay.emit("published",e),e.emit("relay:published",this.ndkRelay),ft(!0)}).catch(ht)}catch(gt){ht(gt)}}),h=new Promise((ft,ht)=>{a=setTimeout(()=>{a=void 0,ht(new Error("Timeout: "+s+"ms"))},s)}),b=()=>{c().then(ft=>tt(ft)).catch(ft=>nt(ft))};let tt,nt;const ot=ft=>{throw this.ndkRelay.debug("Publish failed",ft,e.id),this.ndkRelay.emit("publish:failed",e,ft),e.emit("relay:publish:failed",this.ndkRelay,ft),ft},st=()=>{a&&clearTimeout(a),this.ndkRelay.removeListener("connect",b)};return this.ndkRelay.status>=5?Promise.race([c(),h]).catch(ot).finally(st):Promise.race([new Promise((ft,ht)=>{tt=ft,nt=ht,this.ndkRelay.once("connect",b)}),h]).catch(ot).finally(st)}async publishEvent(e){return this.ndkRelay.connectivity.publish(e.rawEvent())}};function filterFingerprint(e,s){const a=[];for(const h of e){if(h.since||h.until)return;const tt=Object.keys(h||{}).sort().join("-");a.push(tt)}let c=s?"+":"";return c+=a.join("|"),c}function mergeFilters(e){const s={};return e.forEach(a=>{Object.entries(a).forEach(([c,h])=>{Array.isArray(h)?s[c]===void 0?s[c]=[...h]:s[c]=Array.from(new Set([...s[c],...h])):s[c]=h})}),s}var NDKRelaySubscription=class{constructor(e,s){At(this,"fingerprint");At(this,"items",new Map);At(this,"topSubscriptionManager");At(this,"debug");At(this,"status",0);At(this,"onClose");At(this,"relay");At(this,"eosed",!1);At(this,"itemsToRemoveAfterEose",[]);At(this,"executionTimer");At(this,"fireTime");At(this,"delayType");At(this,"executeFilters");At(this,"eventIds",new Set);At(this,"_subId");At(this,"subIdParts",new Set);At(this,"executeOnRelayReady",()=>{this.status===2&&(this.status=1,this.execute())});At(this,"reExecuteAfterAuth",(()=>{const e=this.subId;this.debug("Re-executing after auth",this.items.size),this.relay.close(this.subId),this._subId=void 0,this.status=1,this.execute(),this.debug("Re-executed after auth %s  %s",e,this.subId)}).bind(this));this.relay=e;const a=Math.random().toString(36).substring(7);this.debug=e.debug.extend("subscription-"+a),this.fingerprint=s||Math.random().toString(36).substring(7)}get subId(){return this._subId?this._subId:(this._subId=this.fingerprint.slice(0,15),this._subId)}addSubIdPart(e){this.subIdParts.add(e)}addItem(e,s){if(!this.items.has(e.internalId))switch(e.on("close",this.removeItem.bind(this,e)),this.items.set(e.internalId,{subscription:e,filters:s}),this.status!==3&&e.subId&&(!this._subId||this._subId.length<48)&&(this.status===0||this.status===1)&&this.addSubIdPart(e.subId),this.status){case 0:this.evaluateExecutionPlan(e);break;case 3:break;case 1:this.evaluateExecutionPlan(e);break;case 4:throw this.debug("Subscription is closed, cannot add new items"),new Error("Cannot add new items to a closed subscription")}}removeItem(e){if(!this.eosed){this.itemsToRemoveAfterEose.push(e.internalId);return}this.items.delete(e.internalId),this.items.size===0&&this.close()}close(){if(this.status===4)return;const e=this.status;if(this.status=4,e===3)try{this.relay.close(this.subId)}catch(s){this.debug("Error closing subscription",s,this)}else this.debug("Subscription wanted to close but it wasn't running, this is probably ok",{subId:this.subId,prevStatus:e,sub:this});this.cleanup()}cleanup(){this.executionTimer&&clearTimeout(this.executionTimer),this.relay.off("ready",this.executeOnRelayReady),this.relay.off("authed",this.reExecuteAfterAuth),this.onClose&&this.onClose(this)}catchUpSubscription(e,s){this.debug("TODO: catch up subscription",e,s)}evaluateExecutionPlan(e){if(!e.isGroupable()){this.status=1,this.execute();return}const s=e.groupableDelay,a=e.groupableDelayType;if(!s)throw new Error("Cannot group a subscription without a delay");if(this.status===0)this.schedule(s,a);else{const c=this.delayType,h=this.fireTime-Date.now();if(c==="at-least"&&a==="at-least")h<s&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(s,a));else if(c==="at-least"&&a==="at-most")h>s&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(s,a));else if(c==="at-most"&&a==="at-most")h>s&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(s,a));else if(c==="at-most"&&a==="at-least")h>s&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(s,a));else throw new Error("Unknown delay type combination "+c+" "+a)}}schedule(e,s){this.status=1;const a=Date.now();this.fireTime=a+e,this.delayType=s;const c=setTimeout(this.execute.bind(this),e);s==="at-least"&&(this.executionTimer=c)}finalizeSubId(){this.subIdParts.size>0?this._subId=Array.from(this.subIdParts).join("-"):this._subId=this.fingerprint.slice(0,15),this._subId+="-"+Math.random().toString(36).substring(2,7)}execute(){if(this.status===1){if(this.relay.connected)this.relay.status<8&&this.relay.once("authed",this.reExecuteAfterAuth);else{this.status=2,this.relay.once("ready",this.executeOnRelayReady);return}this.status=3,this.finalizeSubId(),this.executeFilters=this.compileFilters(),this.relay.req(this)}}onstart(){}onevent(e){var s;(s=this.topSubscriptionManager)==null||s.seenEvent(e.id,this.relay);for(const{subscription:a}of this.items.values())matchFilters(a.filters,e)&&a.eventReceived(e,this.relay,!1)}oneose(){this.eosed=!0;for(const{subscription:e}of this.items.values())e.eoseReceived(this.relay),e.closeOnEose&&this.removeItem(e)}onclose(e){this.status=4}onclosed(e){if(e)for(const{subscription:s}of this.items.values())s.closedReceived(this.relay,e)}compileFilters(){const e=[],s=Array.from(this.items.values()).map(c=>c.filters),a=s[0].length;for(let c=0;c<a;c++){const h=s.map(b=>b[c]);e.push(mergeFilters(h))}return e}},NDKRelaySubscriptionManager=class{constructor(e,s){At(this,"relay");At(this,"subscriptions");At(this,"topSubscriptionManager");At(this,"debug");this.relay=e,this.subscriptions=new Map,this.debug=e.debug.extend("sub-manager"),this.topSubscriptionManager=s}addSubscription(e,s){let a;if(!e.isGroupable())a=this.createSubscription(e,s);else{const c=filterFingerprint(s,e.closeOnEose);c&&(a=this.subscriptions.get(c)),a??(a=this.createSubscription(e,s,c))}a.addItem(e,s)}createSubscription(e,s,a){const c=new NDKRelaySubscription(this.relay,a);return c.topSubscriptionManager=this.topSubscriptionManager,c.onClose=this.onRelaySubscriptionClose.bind(this),this.subscriptions.set(c.fingerprint,c),c}onRelaySubscriptionClose(e){this.subscriptions.delete(e.fingerprint)}},rn,NDKRelay=(rn=class extends lib$1.EventEmitter{constructor(a,c,h){super();At(this,"url");At(this,"scores");At(this,"connectivity");At(this,"subs");At(this,"publisher");At(this,"authPolicy");At(this,"lowestValidationRatio");At(this,"targetValidationRatio");At(this,"validationRatioFn");At(this,"validatedEventCount",0);At(this,"nonValidatedEventCount",0);At(this,"trusted",!1);At(this,"complaining",!1);At(this,"debug");At(this,"req");At(this,"close");this.url=normalizeRelayUrl(a),this.scores=new Map,this.debug=debug7(`ndk:relay:${a}`),this.connectivity=new NDKRelayConnectivity(this,h),this.req=this.connectivity.req.bind(this.connectivity),this.close=this.connectivity.close.bind(this.connectivity),this.subs=new NDKRelaySubscriptionManager(this,h==null?void 0:h.subManager),this.publisher=new NDKRelayPublisher(this),this.authPolicy=c,this.targetValidationRatio=h==null?void 0:h.initialValidationRatio,this.lowestValidationRatio=h==null?void 0:h.lowestValidationRatio,this.validationRatioFn=((h==null?void 0:h.validationRatioFn)??rn.defaultValidationRatioUpdateFn).bind(this),this.updateValidationRatio(),h||console.trace("relay created without ndk")}updateValidationRatio(){setTimeout(()=>{this.updateValidationRatio()},3e4)}get status(){return this.connectivity.status}get connectionStats(){return this.connectivity.connectionStats}async connect(a,c=!0){return this.connectivity.connect(a,c)}disconnect(){this.status!==1&&this.connectivity.disconnect()}subscribe(a,c){this.subs.addSubscription(a,c)}async publish(a,c=2500){return this.publisher.publish(a,c)}referenceTags(){return[["r",this.url]]}addValidatedEvent(){this.validatedEventCount++}addNonValidatedEvent(){this.nonValidatedEventCount++}get validationRatio(){return this.nonValidatedEventCount===0?1:this.validatedEventCount/(this.validatedEventCount+this.nonValidatedEventCount)}shouldValidateEvent(){return this.trusted?!1:this.targetValidationRatio===void 0?!0:this.validationRatio<this.targetValidationRatio}get connected(){return this.connectivity.connected}},At(rn,"defaultValidationRatioUpdateFn",(a,c,h)=>{if(a.lowestValidationRatio===void 0||a.targetValidationRatio===void 0)return 1;let b=a.validationRatio;if(a.validationRatio>a.targetValidationRatio){const tt=c/100;b=Math.max(a.lowestValidationRatio,a.validationRatio-tt)}return b<a.validationRatio?b:a.validationRatio}),rn),NDKPublishError=class extends Error{constructor(s,a,c,h){super(s);At(this,"errors");At(this,"publishedToRelays");At(this,"intendedRelaySet");this.errors=a,this.publishedToRelays=c,this.intendedRelaySet=h}get relayErrors(){const s=[];for(const[a,c]of this.errors)s.push(`${a.url}: ${c}`);return s.join(`
`)}},NDKRelaySet=class ln{constructor(s,a){At(this,"relays");At(this,"debug");At(this,"ndk");this.relays=s,this.ndk=a,this.debug=a.debug.extend("relayset")}addRelay(s){this.relays.add(s)}get relayUrls(){return Array.from(this.relays).map(s=>s.url)}static fromRelayUrls(s,a,c=!0){const h=new Set;for(const b of s){const tt=a.pool.relays.get(normalizeRelayUrl(b));if(tt)tt.status<5&&c&&tt.connect(),h.add(tt);else{const nt=new NDKRelay(normalizeRelayUrl(b),a==null?void 0:a.relayAuthDefaultPolicy,a);a.pool.useTemporaryRelay(nt,void 0,"requested from fromRelayUrls "+s),h.add(nt)}}return new ln(new Set(h),a)}async publish(s,a,c=1){const h=new Set,b=new Map,tt=s.isEphemeral();s.publishStatus="pending";const nt=Array.from(this.relays).map(ot=>new Promise(st=>{ot.publish(s,a).then(ft=>{h.add(ot),st()}).catch(ft=>{tt||b.set(ot,ft),st()})}));if(await Promise.all(nt),h.size<c){if(!tt){const ot=new NDKPublishError("Not enough relays received the event",b,h,this);throw s.publishStatus="error",s.publishError=ot,this.ndk.emit("event:publish-failed",s,ot,this.relayUrls),ot}}else s.emit("published",{relaySet:this,publishedToRelays:h});return h}get size(){return this.relays.size}},d=debug7("ndk:outbox:calculate");async function calculateRelaySetFromEvent(e,s){var tt;const a=new Set,c=await getWriteRelaysFor(e,s.pubkey);c&&c.forEach(nt=>{var st;const ot=(st=e.pool)==null?void 0:st.getRelay(nt);ot&&a.add(ot)});let h=s.tags.filter(nt=>["a","e"].includes(nt[0])).map(nt=>nt[2]).filter(nt=>nt&&nt.startsWith("wss://")).filter(nt=>{try{return new URL(nt),!0}catch{return!1}}).map(nt=>normalizeRelayUrl(nt));h=Array.from(new Set(h)).slice(0,5),h.forEach(nt=>{var st;const ot=(st=e.pool)==null?void 0:st.getRelay(nt,!0,!0);ot&&(d("Adding relay hint %s",nt),a.add(ot))});const b=s.getMatchingTags("p").map(nt=>nt[1]);return b.length<5?Array.from(chooseRelayCombinationForPubkeys(e,b,"read",{preferredRelays:new Set(c)}).keys()).forEach(ot=>{var ft;const st=(ft=e.pool)==null?void 0:ft.getRelay(ot,!1,!0);st&&(d("Adding p-tagged relay %s",ot),a.add(st))}):d("Too many p-tags to consider %d",b.length),(tt=e.pool)==null||tt.permanentAndConnectedRelays().forEach(nt=>a.add(nt)),new NDKRelaySet(a,e)}function calculateRelaySetsFromFilter(e,s,a){const c=new Map,h=new Set;if(s.forEach(b=>{b.authors&&b.authors.forEach(tt=>h.add(tt))}),h.size>0){const b=getRelaysForFilterWithAuthors(e,Array.from(h));for(const tt of b.keys())c.set(tt,[]);for(const tt of s)if(tt.authors)for(const[nt,ot]of b.entries()){const st=tt.authors.filter(ft=>ot.includes(ft));c.set(nt,[...c.get(nt),{...tt,authors:st}])}else for(const nt of b.keys())c.set(nt,[...c.get(nt),tt])}else e.explicitRelayUrls&&e.explicitRelayUrls.forEach(b=>{c.set(b,s)});return c.size===0&&a.permanentAndConnectedRelays().slice(0,5).forEach(b=>{c.set(b.url,s)}),c.size===0&&console.warn("No relays found for filter",s),c}function calculateRelaySetsFromFilters(e,s,a){return calculateRelaySetsFromFilter(e,s,a)}function mergeTags(e,s){const a=new Map,c=tt=>tt.join(","),h=(tt,nt)=>tt.every((ot,st)=>ot===nt[st]),b=tt=>{for(const[nt,ot]of a)if(h(ot,tt)||h(tt,ot)){tt.length>=ot.length&&a.set(nt,tt);return}a.set(c(tt),tt)};return e.concat(s).forEach(b),Array.from(a.values())}async function generateContentTags(e,s=[]){const a=/(@|nostr:)(npub|nprofile|note|nevent|naddr)[a-zA-Z0-9]+/g,c=new RegExp(`(?<=\\s|^)(#[^\\s!@#$%^&*()=+./,[{\\]};:'"?><]+)`,"g"),h=[],b=tt=>{s.find(nt=>["q",tt[0]].includes(nt[0])&&nt[1]===tt[1])||s.push(tt)};return e=e.replace(a,tt=>{try{const nt=tt.split(/(@|nostr:)/)[2],{type:ot,data:st}=nip19_exports.decode(nt);let ft;switch(ot){case"npub":ft=["p",st];break;case"nprofile":ft=["p",st.pubkey];break;case"note":h.push(new Promise(async ht=>{b(["e",st,await maybeGetEventRelayUrl(nt),"mention"]),ht()}));break;case"nevent":h.push(new Promise(async ht=>{const{id:gt,author:yt}=st;let{relays:Et}=st;(!Et||Et.length===0)&&(Et=[await maybeGetEventRelayUrl(nt)]),b(["e",gt,Et[0],"mention"]),yt&&b(["p",yt]),ht()}));break;case"naddr":h.push(new Promise(async ht=>{const gt=[st.kind,st.pubkey,st.identifier].join(":");let yt=st.relays??[];yt.length===0&&(yt=[await maybeGetEventRelayUrl(nt)]),b(["a",gt,yt[0],"mention"]),b(["p",st.pubkey]),ht()}));break;default:return tt}return ft&&b(ft),`nostr:${nt}`}catch{return tt}}),await Promise.all(h),e=e.replace(c,(tt,nt)=>{const ot=["t",nt.slice(1)];return s.find(st=>st[0]===ot[0]&&st[1]===ot[1])||s.push(ot),tt}),{content:e,tags:s}}async function maybeGetEventRelayUrl(e){return""}function isReplaceable(){if(this.kind===void 0)throw new Error("Kind not set");return[0,3].includes(this.kind)||this.kind>=1e4&&this.kind<2e4||this.kind>=3e4&&this.kind<4e4}function isEphemeral(){if(this.kind===void 0)throw new Error("Kind not set");return this.kind>=2e4&&this.kind<3e4}function isParamReplaceable(){if(this.kind===void 0)throw new Error("Kind not set");return this.kind>=3e4&&this.kind<4e4}async function encrypt(e,s){if(!this.ndk)throw new Error("No NDK instance found!");if(s||(await this.ndk.assertSigner(),s=this.ndk.signer),!e){const a=this.getMatchingTags("p");if(a.length!==1)throw new Error("No recipient could be determined and no explicit recipient was provided");e=this.ndk.getUser({pubkey:a[0][1]})}this.content=await(s==null?void 0:s.encrypt(e,this.content))}async function decrypt(e,s){if(!this.ndk)throw new Error("No NDK instance found!");s||(await this.ndk.assertSigner(),s=this.ndk.signer),e||(e=this.author),this.content=await(s==null?void 0:s.decrypt(e,this.content))}function encode(){let e=[];return this.onRelays.length>0?e=this.onRelays.map(s=>s.url):this.relay&&(e=[this.relay.url]),this.isParamReplaceable()?nip19_exports.naddrEncode({kind:this.kind,pubkey:this.pubkey,identifier:this.replaceableDTag(),relays:e}):e.length>0?nip19_exports.neventEncode({id:this.tagId(),relays:e,author:this.pubkey}):nip19_exports.noteEncode(this.tagId())}async function repost(e=!0,s){if(!s&&e){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner(),s=this.ndk.signer}const a=new NDKEvent(this.ndk,{kind:getKind(this),content:""});return a.tag(this),a.kind===16?a.tags.push(["k",`${this.kind}`]):a.content=JSON.stringify(this.rawEvent()),s&&await a.sign(s),e&&await a.publish(),a}function getKind(e){return e.kind===1?6:16}function eventHasETagMarkers(e){return e.getMatchingTags("e").some(s=>s[3])}function getRootTag(e,s){s??(s=e.tagType());const a=e.tags.find(c=>c[3]==="root");if(!a){if(eventHasETagMarkers(e))return;const c=e.getMatchingTags(s);if(c.length<3)return c[0]}return a}function getReplyTag(e,s){s??(s=e.tagType());let a=e.tags.find(c=>c[3]==="reply");if(a)return a;if(a||(a=e.tags.find(c=>c[3]==="root")),!a){if(eventHasETagMarkers(e))return;const c=e.getMatchingTags(s);if(c.length===1)return c[0];if(c.length===2)return c[1]}}async function fetchTaggedEvent(e,s){if(!this.ndk)throw new Error("NDK instance not found");const a=this.getMatchingTags(e,s);if(a.length===0)return;const[c,h,b]=a[0];return await this.ndk.fetchEvent(h,{},void 0)}async function fetchRootEvent(e){if(!this.ndk)throw new Error("NDK instance not found");const s=getRootTag(this);if(s)return this.ndk.fetchEventFromTag(s,this,e)}async function fetchReplyEvent(e){if(!this.ndk)throw new Error("NDK instance not found");const s=getReplyTag(this);if(s)return this.ndk.fetchEventFromTag(s,this,e)}function serialize(e=!1,s=!1){const a=[0,this.pubkey,this.created_at,this.kind,this.tags,this.content];return e&&a.push(this.sig),s&&a.push(this.id),JSON.stringify(a)}function deserialize(e){const s=JSON.parse(e),a={pubkey:s[1],created_at:s[2],kind:s[3],tags:s[4],content:s[5]};return s.length===7&&(a.sig=s[6]),s.length===8&&(a.id=s[7]),a}var worker,processingQueue={};function signatureVerificationInit(e){worker=e,worker.onmessage=s=>{const[a,c]=s.data,h=processingQueue[a];if(!h){console.error("No record found for event",a);return}delete processingQueue[a];for(const b of h.resolves)b(c)}}async function verifySignatureAsync(e,s){return new Promise(c=>{const h=e.serialize();let b=!1;processingQueue[e.id]||(processingQueue[e.id]={event:e,resolves:[]},b=!0),processingQueue[e.id].resolves.push(c),b&&worker.postMessage({serialized:h,id:e.id,sig:e.sig,pubkey:e.pubkey})})}var PUBKEY_REGEX=/^[a-f0-9]{64}$/;function validate(){if(typeof this.kind!="number"||typeof this.content!="string"||typeof this.created_at!="number"||typeof this.pubkey!="string"||!this.pubkey.match(PUBKEY_REGEX)||!Array.isArray(this.tags))return!1;for(let e=0;e<this.tags.length;e++){const s=this.tags[e];if(!Array.isArray(s))return!1;for(let a=0;a<s.length;a++)if(typeof s[a]=="object")return!1}return!0}var verifiedSignatures=new dist.LRUCache({maxSize:1e3,entryExpirationTimeInMS:6e4});function verifySignature(e){var a;if(typeof this.signatureVerified=="boolean")return this.signatureVerified;const s=verifiedSignatures.get(this.id);if(s!==null)return this.signatureVerified=!!s;try{if((a=this.ndk)!=null&&a.asyncSigVerification)verifySignatureAsync(this,e).then(c=>{e&&(this.signatureVerified=c,c&&verifiedSignatures.set(this.id,this.sig)),c||(this.ndk.emit("event:invalid-sig",this),verifiedSignatures.set(this.id,!1))});else{const c=sha256$2(new TextEncoder().encode(this.serialize())),h=schnorr.verify(this.sig,c,this.pubkey);return h?verifiedSignatures.set(this.id,this.sig):verifiedSignatures.set(this.id,!1),this.signatureVerified=h}}catch{return this.signatureVerified=!1}}function getEventHash(){return getEventHashFromSerializedEvent(this.serialize())}function getEventHashFromSerializedEvent(e){const s=sha256$2(new TextEncoder().encode(e));return bytesToHex$3(s)}var skipClientTagOnKinds=[3],NDKEvent=class on extends lib$1.EventEmitter{constructor(a,c){var h;super();At(this,"ndk");At(this,"created_at");At(this,"content","");At(this,"tags",[]);At(this,"kind");At(this,"id","");At(this,"sig");At(this,"pubkey","");At(this,"signatureVerified");At(this,"_author");At(this,"relay");At(this,"publishStatus","success");At(this,"publishError");At(this,"serialize",serialize.bind(this));At(this,"getEventHash",getEventHash.bind(this));At(this,"validate",validate.bind(this));At(this,"verifySignature",verifySignature.bind(this));At(this,"isReplaceable",isReplaceable.bind(this));At(this,"isEphemeral",isEphemeral.bind(this));At(this,"isParamReplaceable",isParamReplaceable.bind(this));At(this,"encode",encode.bind(this));At(this,"encrypt",encrypt.bind(this));At(this,"decrypt",decrypt.bind(this));At(this,"fetchTaggedEvent",fetchTaggedEvent.bind(this));At(this,"fetchRootEvent",fetchRootEvent.bind(this));At(this,"fetchReplyEvent",fetchReplyEvent.bind(this));At(this,"repost",repost.bind(this));this.ndk=a,this.created_at=c==null?void 0:c.created_at,this.content=(c==null?void 0:c.content)||"",this.tags=(c==null?void 0:c.tags)||[],this.id=(c==null?void 0:c.id)||"",this.sig=c==null?void 0:c.sig,this.pubkey=(c==null?void 0:c.pubkey)||"",this.kind=c==null?void 0:c.kind,c instanceof on&&(this.relay&&(this.relay=c.relay,(h=this.ndk)==null||h.subManager.seenEvent(c.id,this.relay)),this.publishStatus=c.publishStatus,this.publishError=c.publishError)}get onRelays(){let a=[];return this.ndk?a=this.ndk.subManager.seenEvents.get(this.id)||[]:this.relay&&a.push(this.relay),a}static deserialize(a,c){return new on(a,deserialize(c))}rawEvent(){return{created_at:this.created_at,content:this.content,tags:this.tags,kind:this.kind,pubkey:this.pubkey,id:this.id,sig:this.sig}}set author(a){var c;this.pubkey=a.pubkey,this._author=a,(c=this._author).ndk??(c.ndk=this.ndk)}get author(){if(this._author)return this._author;if(!this.ndk)throw new Error("No NDK instance found");const a=this.ndk.getUser({pubkey:this.pubkey});return this._author=a,a}tag(a,c,h,b){let tt=[];if(a.fetchProfile!==void 0){b??(b="p");const ot=[b,a.pubkey];c&&ot.push("",c),tt.push(ot)}else if(a instanceof on){const ot=a;h??(h=(ot==null?void 0:ot.pubkey)===this.pubkey),tt=ot.referenceTags(c,h,b);for(const st of ot.getMatchingTags("p"))st[1]!==this.pubkey&&(this.tags.find(ft=>ft[0]==="p"&&ft[1]===st[1])||this.tags.push(["p",st[1]]))}else if(Array.isArray(a))tt=[a];else throw new Error("Invalid argument",a);this.tags=mergeTags(this.tags,tt)}async toNostrEvent(a){var b,tt;if(!a&&this.pubkey===""){const nt=await((tt=(b=this.ndk)==null?void 0:b.signer)==null?void 0:tt.user());this.pubkey=(nt==null?void 0:nt.pubkey)||""}this.created_at||(this.created_at=Math.floor(Date.now()/1e3));const{content:c,tags:h}=await this.generateTags();this.content=c||"",this.tags=h;try{this.id=this.getEventHash()}catch{}return this.rawEvent()}getMatchingTags(a,c){const h=this.tags.filter(b=>b[0]===a);return c===void 0?h:h.filter(b=>b[3]===c)}hasTag(a,c){return this.tags.some(h=>h[0]===a&&(!c||h[3]===c))}tagValue(a){const c=this.getMatchingTags(a);if(c.length!==0)return c[0][1]}get alt(){return this.tagValue("alt")}set alt(a){this.removeTag("alt"),a&&this.tags.push(["alt",a])}get dTag(){return this.tagValue("d")}set dTag(a){this.removeTag("d"),a&&this.tags.push(["d",a])}removeTag(a){const c=Array.isArray(a)?a:[a];this.tags=this.tags.filter(h=>!c.includes(h[0]))}async sign(a){var h;a?this.author=await a.user():((h=this.ndk)==null||h.assertSigner(),a=this.ndk.signer);const c=await this.toNostrEvent();return this.sig=await a.sign(c),this.sig}async publishReplaceable(a,c,h){return this.id="",this.created_at=Math.floor(Date.now()/1e3),this.sig="",this.publish(a,c,h)}async publish(a,c,h){var nt,ot;if(this.sig||await this.sign(),!this.ndk)throw new Error("NDKEvent must be associated with an NDK instance to publish");a||(a=this.ndk.devWriteRelaySet||await calculateRelaySetFromEvent(this.ndk,this)),this.kind===5&&((nt=this.ndk.cacheAdapter)!=null&&nt.deleteEvent)&&this.ndk.cacheAdapter.deleteEvent(this);const b=this.rawEvent();if((ot=this.ndk.cacheAdapter)!=null&&ot.addUnpublishedEvent)try{this.ndk.cacheAdapter.addUnpublishedEvent(this,a.relayUrls)}catch(st){console.error("Error adding unpublished event to cache",st)}this.ndk.subManager.subscriptions.forEach(st=>{st.filters.some(ft=>matchFilter(ft,b))&&st.eventReceived(this,void 0,!1,!0)});const tt=await a.publish(this,c,h);return tt.forEach(st=>{var ft;return(ft=this.ndk)==null?void 0:ft.subManager.seenEvent(this.id,st)}),tt}async generateTags(){var b,tt;let a=[];const c=await generateContentTags(this.content,this.tags),h=c.content;if(a=c.tags,this.kind&&this.isParamReplaceable()&&!this.getMatchingTags("d")[0]){const ot=this.tagValue("title");let ft=[...Array(ot?6:16)].map(()=>Math.random().toString(36)[2]).join("");ot&&ot.length>0&&(ft=ot.replace(/[^a-z0-9]+/gi,"-").replace(/^-|-$/g,"")+"-"+ft),a.push(["d",ft])}if(((b=this.ndk)!=null&&b.clientName||(tt=this.ndk)!=null&&tt.clientNip89)&&skipClientTagOnKinds.includes(this.kind)&&!this.tags.some(nt=>nt[0]==="client")){const nt=["client",this.ndk.clientName??""];this.ndk.clientNip89&&nt.push(this.ndk.clientNip89),a.push(nt)}return{content:h||"",tags:a}}muted(){var b,tt;const a=(b=this.ndk)==null?void 0:b.mutedIds.get(this.pubkey);if(a&&a==="p")return"author";const c=this.tagReference(),h=(tt=this.ndk)==null?void 0:tt.mutedIds.get(c[1]);return h&&h===c[0]?"event":null}replaceableDTag(){if(this.kind&&this.kind>=3e4&&this.kind<=4e4){const a=this.getMatchingTags("d")[0];return a?a[1]:""}throw new Error("Event is not a parameterized replaceable event")}deduplicationKey(){return this.kind===0||this.kind===3||this.kind&&this.kind>=1e4&&this.kind<2e4?`${this.kind}:${this.pubkey}`:this.tagId()}tagId(){return this.isParamReplaceable()?this.tagAddress():this.id}tagAddress(){if(!this.isParamReplaceable())throw new Error("This must only be called on replaceable events");const a=this.replaceableDTag();return`${this.kind}:${this.pubkey}:${a}`}tagType(){return this.isParamReplaceable()?"a":"e"}tagReference(a){let c;return this.isParamReplaceable()?c=["a",this.tagAddress()]:c=["e",this.tagId()],this.relay?c.push(this.relay.url):c.push(""),a&&c.push(a),c}referenceTags(a,c,h){var tt;let b=[];return this.isParamReplaceable()?b=[[h??"a",this.tagAddress()],[h??"e",this.id]]:b=[[h??"e",this.id]],(tt=this.relay)!=null&&tt.url?b=b.map(nt=>{var ot;return nt.push((ot=this.relay)==null?void 0:ot.url),nt}):a&&(b=b.map(nt=>(nt.push(""),nt))),a&&b.forEach(nt=>nt.push(a)),b=[...b,...this.getMatchingTags("h")],c||b.push(...this.author.referenceTags()),b}filter(){return this.isParamReplaceable()?{"#a":[this.tagId()]}:{"#e":[this.tagId()]}}async delete(a,c=!0){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner();const h=new on(this.ndk,{kind:5,content:a||""});return h.tag(this,void 0,!0),h.tags.push(["k",this.kind.toString()]),c&&await h.publish(),h}async react(a,c=!0){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner();const h=new on(this.ndk,{kind:7,content:a});return h.tag(this),c?await h.publish():await h.sign(),h}get isValid(){return this.validate()}};function queryFullyFilled(e){return!!(filterIncludesIds(e.filter)&&resultHasAllRequestedIds(e))}function filterIncludesIds(e){return!!e.ids}function resultHasAllRequestedIds(e){const s=e.filter.ids;return!!s&&s.length===e.eventFirstSeen.size}function filterFromId(e){let s;if(e.match(NIP33_A_REGEX)){const[a,c,h]=e.split(":"),b={authors:[c],kinds:[parseInt(a)]};return h&&(b["#d"]=[h]),b}if(e.match(BECH32_REGEX))try{switch(s=nip19_exports.decode(e),s.type){case"nevent":{const c={ids:[s.data.id]};return s.data.author&&(c.authors=[s.data.author]),s.data.kind&&(c.kinds=[s.data.kind]),c}case"note":return{ids:[s.data]};case"naddr":const a={authors:[s.data.pubkey],kinds:[s.data.kind]};return s.data.identifier&&(a["#d"]=[s.data.identifier]),a}}catch(a){console.error("Error decoding",e,a)}return{ids:[e]}}function isNip33AValue(e){return e.match(NIP33_A_REGEX)!==null}var NIP33_A_REGEX=/^(\d+):([0-9A-Fa-f]+)(?::(.*))?$/,BECH32_REGEX=/^n(event|ote|profile|pub|addr)1[\d\w]+$/;function relaysFromBech32(e,s){try{const a=nip19_exports.decode(e);if(["naddr","nevent"].includes(a==null?void 0:a.type)){const c=a.data;if(c!=null&&c.relays)return c.relays.map(h=>new NDKRelay(h,s==null?void 0:s.relayAuthDefaultPolicy,s))}}catch{}return[]}var defaultOpts={closeOnEose:!1,cacheUsage:"CACHE_FIRST",groupable:!0,groupableDelay:100,groupableDelayType:"at-most"},NDKSubscription=class extends lib$1.EventEmitter{constructor(s,a,c,h,b){super();At(this,"subId");At(this,"filters");At(this,"opts");At(this,"pool");At(this,"skipVerification",!1);At(this,"skipValidation",!1);At(this,"relayFilters");At(this,"relaySet");At(this,"ndk");At(this,"debug");At(this,"eventFirstSeen",new Map);At(this,"eosesSeen",new Set);At(this,"lastEventReceivedAt");At(this,"internalId");At(this,"closeOnEose");At(this,"poolMonitor");At(this,"eoseTimeout");At(this,"eosed",!1);if(this.ndk=s,this.pool=(c==null?void 0:c.pool)||s.pool,this.opts={...defaultOpts,...c||{}},this.filters=a instanceof Array?a:[a],this.subId=b||(c==null?void 0:c.subId),this.internalId=Math.random().toString(36).substring(7),this.relaySet=h,this.debug=s.debug.extend(`subscription[${(c==null?void 0:c.subId)??this.internalId}]`),this.skipVerification=(c==null?void 0:c.skipVerification)||!1,this.skipValidation=(c==null?void 0:c.skipValidation)||!1,this.closeOnEose=(c==null?void 0:c.closeOnEose)||!1,this.opts.cacheUsage==="ONLY_CACHE"&&!this.opts.closeOnEose)throw new Error("Cannot use cache-only options with a persistent subscription")}relaysMissingEose(){return this.relayFilters?Array.from(this.relayFilters.keys()).filter(a=>!this.eosesSeen.has(this.pool.getRelay(a,!1,!1))):[]}get filter(){return this.filters[0]}get groupableDelay(){var s;if(this.isGroupable())return(s=this.opts)==null?void 0:s.groupableDelay}get groupableDelayType(){var s;return((s=this.opts)==null?void 0:s.groupableDelayType)||"at-most"}isGroupable(){var s;return((s=this.opts)==null?void 0:s.groupable)||!1}shouldQueryCache(){var s;return((s=this.opts)==null?void 0:s.cacheUsage)!=="ONLY_RELAY"}shouldQueryRelays(){var s;return((s=this.opts)==null?void 0:s.cacheUsage)!=="ONLY_CACHE"}shouldWaitForCache(){var s;return this.opts.closeOnEose&&!!((s=this.ndk.cacheAdapter)!=null&&s.locking)&&this.opts.cacheUsage!=="PARALLEL"}async start(){let s;if(this.shouldQueryCache()&&(s=this.startWithCache(),this.shouldWaitForCache()&&(await s,queryFullyFilled(this)))){this.emit("eose",this);return}this.shouldQueryRelays()?(this.startWithRelays(),this.startPoolMonitor()):this.emit("eose",this)}startPoolMonitor(){this.debug.extend("pool-monitor"),this.poolMonitor=s=>{var c,h;if((c=this.relayFilters)!=null&&c.has(s.url))return;calculateRelaySetsFromFilters(this.ndk,this.filters,this.pool).get(s.url)&&((h=this.relayFilters)==null||h.set(s.url,this.filters),s.subscribe(this,this.filters))},this.pool.on("relay:connect",this.poolMonitor)}stop(){this.emit("close",this),this.poolMonitor&&this.pool.off("relay:connect",this.poolMonitor),this.removeAllListeners()}hasAuthorsFilter(){return this.filters.some(s=>{var a;return(a=s.authors)==null?void 0:a.length})}async startWithCache(){var s;if((s=this.ndk.cacheAdapter)!=null&&s.query){const a=this.ndk.cacheAdapter.query(this);this.ndk.cacheAdapter.locking&&await a}}startWithRelays(){if(!this.relaySet)this.relayFilters=calculateRelaySetsFromFilters(this.ndk,this.filters,this.pool);else{this.relayFilters=new Map;for(const s of this.relaySet.relays)this.relayFilters.set(s.url,this.filters)}if(!(!this.relayFilters||this.relayFilters.size===0))for(const[s,a]of this.relayFilters)this.pool.getRelay(s,!0,!0,a).subscribe(this,a)}eventReceived(s,a,c=!1,h=!1){const b=s.id,tt=this.eventFirstSeen.has(b);let nt;if(s instanceof NDKEvent&&(nt=s),tt){const ot=Date.now()-(this.eventFirstSeen.get(b)||0);if(this.emit("event:dup",b,a,ot,this),a){const st=verifiedSignatures.get(b);st&&typeof st=="string"&&s.sig===st&&a.addValidatedEvent()}}else{if(nt??(nt=new NDKEvent(this.ndk,s)),nt.ndk=this.ndk,nt.relay=a,!c&&!h){if(!this.skipValidation&&!nt.isValid){this.debug("Event failed validation %s from relay %s",b,a==null?void 0:a.url);return}if(a)if((a==null?void 0:a.shouldValidateEvent())!==!1){if(!this.skipVerification)if(!nt.verifySignature(!0)&&!this.ndk.asyncSigVerification){this.debug("Event failed signature validation",s);return}else a&&a.addValidatedEvent()}else a.addNonValidatedEvent();this.ndk.cacheAdapter&&this.ndk.cacheAdapter.setEvent(nt,this.filters,a)}!c&&a&&this.ndk.emit("event",nt,a),this.emit("event",nt,a,this),this.eventFirstSeen.set(b,Date.now())}this.lastEventReceivedAt=Date.now()}closedReceived(s,a){this.emit("closed",s,a)}eoseReceived(s){var tt;this.debug("Received EOSE from %s",s.url),this.eosesSeen.add(s);let a=this.lastEventReceivedAt?Date.now()-this.lastEventReceivedAt:void 0;const c=this.eosesSeen.size===((tt=this.relayFilters)==null?void 0:tt.size),h=queryFullyFilled(this),b=nt=>{var ot;this.eosed||(this.eoseTimeout&&clearTimeout(this.eoseTimeout),this.debug(`Performing EOSE: ${nt}`),this.emit("eose",this),this.eosed=!0,(ot=this.opts)!=null&&ot.closeOnEose&&this.stop())};if(h||c)b("query filled or seen all");else if(this.relayFilters){let nt=1e3;const ot=new Set(this.pool.connectedRelays().map(ht=>ht.url)),st=Array.from(this.relayFilters.keys()).filter(ht=>ot.has(ht));if(st.length===0)return;const ft=this.eosesSeen.size/st.length;if(this.eosesSeen.size>=2&&ft>=.5){if(nt=nt*(1-ft),nt===0){b("tiem to wait was 0");return}this.eoseTimeout&&clearTimeout(this.eoseTimeout);const ht=()=>{a=this.lastEventReceivedAt?Date.now()-this.lastEventReceivedAt:void 0,a!==void 0&&a<20?this.eoseTimeout=setTimeout(ht,nt):b("send eose timeout: "+nt)};this.eoseTimeout=setTimeout(ht,nt)}}}};async function follows(e,s,a=3){var h,b;if(!this.ndk)throw new Error("NDK not set");const c=await this.ndk.fetchEvent({kinds:[a],authors:[this.pubkey]},e||{groupable:!1});if(c){const tt=new Set;return c.tags.forEach(nt=>{nt[0]==="p"&&tt.add(nt[1])}),s&&((b=(h=this.ndk)==null?void 0:h.outboxTracker)==null||b.trackUsers(Array.from(tt))),[...tt].reduce((nt,ot)=>{const st=new NDKUser({pubkey:ot});return st.ndk=this.ndk,nt.add(st),nt},new Set)}return new Set}function profileFromEvent(e){const s={};let a;try{a=JSON.parse(e.content)}catch(c){throw new Error(`Failed to parse profile event: ${c}`)}return s.created_at=e.created_at,s.profileEvent=JSON.stringify(e.rawEvent()),Object.keys(a).forEach(c=>{switch(c){case"name":s.name=a.name;break;case"display_name":s.displayName=a.display_name;break;case"image":case"picture":s.image=a.picture||a.image;break;case"banner":s.banner=a.banner;break;case"bio":s.bio=a.bio;break;case"nip05":s.nip05=a.nip05;break;case"lud06":s.lud06=a.lud06;break;case"lud16":s.lud16=a.lud16;break;case"about":s.about=a.about;break;case"zapService":s.zapService=a.zapService;break;case"website":s.website=a.website;break;default:s[c]=a[c];break}}),s}function serializeProfile(e){const s={};for(const[a,c]of Object.entries(e))switch(a){case"username":case"name":s.name=c;break;case"displayName":s.display_name=c;break;case"image":case"picture":s.picture=c;break;case"bio":case"about":s.about=c;break;default:s[a]=c;break}return JSON.stringify(s)}var NIP05_REGEX=/^(?:([\w.+-]+)@)?([\w.-]+)$/;async function getNip05For(e,s,a=fetch,c={}){return await e.queuesNip05.add({id:s,func:async()=>{if(e.cacheAdapter&&e.cacheAdapter.loadNip05){const ot=await e.cacheAdapter.loadNip05(s);if(ot!=="missing"){if(ot){const st=new NDKUser({pubkey:ot.pubkey,relayUrls:ot.relays,nip46Urls:ot.nip46});return st.ndk=e,st}else if(c.cache!=="no-cache")return null}}const h=s.match(NIP05_REGEX);if(!h)return null;const[b,tt="_",nt]=h;try{const ot=await a(`https://${nt}/.well-known/nostr.json?name=${tt}`,c),{names:st,relays:ft,nip46:ht}=parseNIP05Result(await ot.json()),gt=st[tt.toLowerCase()];let yt=null;return gt&&(yt={pubkey:gt,relays:ft==null?void 0:ft[gt],nip46:ht==null?void 0:ht[gt]}),e!=null&&e.cacheAdapter&&e.cacheAdapter.saveNip05&&e.cacheAdapter.saveNip05(s,yt),yt}catch(ot){return e!=null&&e.cacheAdapter&&e.cacheAdapter.saveNip05&&(e==null||e.cacheAdapter.saveNip05(s,null)),console.error("Failed to fetch NIP05 for",s,ot),null}}})}function parseNIP05Result(e){const s={names:{}};for(const[a,c]of Object.entries(e.names))typeof a=="string"&&typeof c=="string"&&(s.names[a.toLowerCase()]=c);if(e.relays){s.relays={};for(const[a,c]of Object.entries(e.relays))typeof a=="string"&&Array.isArray(c)&&(s.relays[a]=c.filter(h=>typeof h=="string"))}if(e.nip46){s.nip46={};for(const[a,c]of Object.entries(e.nip46))typeof a=="string"&&Array.isArray(c)&&(s.nip46[a]=c.filter(h=>typeof h=="string"))}return s}var tn,NDKCashuMintList=(tn=class extends NDKEvent{constructor(a,c){super(a,c);At(this,"_p2pk");this.kind??(this.kind=10019)}static from(a){return new tn(a.ndk,a)}set relays(a){this.tags=this.tags.filter(c=>c[0]!=="relay");for(const c of a)this.tags.push(["relay",c])}get relays(){const a=[];for(const c of this.tags)c[0]==="relay"&&a.push(c[1]);return a}set mints(a){this.tags=this.tags.filter(c=>c[0]!=="mint");for(const c of a)this.tags.push(["mint",c])}get mints(){const a=[];for(const c of this.tags)c[0]==="mint"&&a.push(c[1]);return Array.from(new Set(a))}get p2pk(){return this._p2pk?this._p2pk:(this._p2pk=this.tagValue("pubkey")??this.pubkey,this._p2pk)}set p2pk(a){this._p2pk=a,this.removeTag("pubkey"),a&&this.tags.push(["pubkey",a])}get relaySet(){return NDKRelaySet.fromRelayUrls(this.relays,this.ndk)}},At(tn,"kind",10019),At(tn,"kinds",[10019]),tn),d2=debug7("ndk:zapper:ln");async function getNip57ZapSpecFromLud({lud06:e,lud16:s},a){let c;if(s&&!s.startsWith("LNURL")){const[h,b]=s.split("@");c=`https://${b}/.well-known/lnurlp/${h}`}else if(e){const{words:h}=bech32$2.decode(e,1e3),b=bech32$2.fromWords(h);c=new TextDecoder("utf-8").decode(b)}if(!c)throw d2("No zap endpoint found %o",{lud06:e,lud16:s}),new Error("No zap endpoint found");try{const b=await(a.httpFetch||fetch)(c);if(b.status!==200){const tt=await b.text();throw new Error(`Unable to fetch zap endpoint ${c}: ${tt}`)}return await b.json()}catch(h){throw new Error(`Unable to fetch zap endpoint ${c}: ${h}`)}}var NDKUser=class cn{constructor(s){At(this,"ndk");At(this,"profile");At(this,"_npub");At(this,"_pubkey");At(this,"relayUrls",[]);At(this,"nip46Urls",[]);At(this,"follows",follows.bind(this));s.npub&&(this._npub=s.npub),s.hexpubkey&&(this._pubkey=s.hexpubkey),s.pubkey&&(this._pubkey=s.pubkey),s.relayUrls&&(this.relayUrls=s.relayUrls),s.nip46Urls&&(this.nip46Urls=s.nip46Urls)}get npub(){if(!this._npub){if(!this._pubkey)throw new Error("pubkey not set");this._npub=nip19_exports.npubEncode(this.pubkey)}return this._npub}set npub(s){this._npub=s}get hexpubkey(){return this.pubkey}set hexpubkey(s){this._pubkey=s}get pubkey(){if(!this._pubkey){if(!this._npub)throw new Error("npub not set");this._pubkey=nip19_exports.decode(this.npub).data}return this._pubkey}set pubkey(s){this._pubkey=s}async getZapInfo(s=!0,a=["nip61","nip57"]){if(!this.ndk)throw new Error("No NDK instance found");const c=[];if(a.includes("nip61")&&c.push(10019),a.includes("nip57")&&c.push(0),c.length===0)return[];let h=await this.ndk.fetchEvents({kinds:c,authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",groupable:!1});h.size<a.length&&(h=await this.ndk.fetchEvents({kinds:c,authors:[this.pubkey]},{cacheUsage:"ONLY_RELAY"}));const b=[],tt=Array.from(h).find(ot=>ot.kind===10019),nt=Array.from(h).find(ot=>ot.kind===0);if(tt){const ot=NDKCashuMintList.from(tt);if(ot.mints.length>0&&b.push({type:"nip61",data:{mints:ot.mints,relays:ot.relays,p2pk:ot.p2pk}}),!s)return b}if(nt){const ot=profileFromEvent(nt),{lud06:st,lud16:ft}=ot;try{const ht=await getNip57ZapSpecFromLud({lud06:st,lud16:ft},this.ndk);ht&&b.push({type:"nip57",data:ht})}catch(ht){console.error("Error getting NIP-57 zap spec",ht)}}return b}async getZapConfiguration(s){if(s??(s=this.ndk),!s)throw new Error("No NDK instance found");const a=async()=>{var h,b,tt,nt;if((b=(h=this.ndk)==null?void 0:h.cacheAdapter)!=null&&b.loadUsersLNURLDoc){const ot=await this.ndk.cacheAdapter.loadUsersLNURLDoc(this.pubkey);if(ot!=="missing"){if(ot===null)return;if(ot)return ot}}let c;try{if(await this.fetchProfile({groupable:!1}),this.profile){const{lud06:ot,lud16:st}=this.profile;c=await getNip57ZapSpecFromLud({lud06:ot,lud16:st},s)}}catch{}if((nt=(tt=this.ndk)==null?void 0:tt.cacheAdapter)!=null&&nt.saveUsersLNURLDoc&&this.ndk.cacheAdapter.saveUsersLNURLDoc(this.pubkey,c||null),!!c)return c};return await s.queuesZapConfig.add({id:this.pubkey,func:a})}async getZapperPubkey(){const s=await this.getZapConfiguration();return s==null?void 0:s.nostrPubkey}static async fromNip05(s,a,c=!1){if(!a)throw new Error("No NDK instance found");const h={};c&&(h.cache="no-cache");const b=await getNip05For(a,s,a==null?void 0:a.httpFetch,h);if(b){const tt=new cn({pubkey:b.pubkey,relayUrls:b.relays,nip46Urls:b.nip46});return tt.ndk=a,tt}}async fetchProfile(s,a=!1){if(!this.ndk)throw new Error("NDK not set");this.profile||(this.profile={});let c=null;if(this.ndk.cacheAdapter&&this.ndk.cacheAdapter.fetchProfile&&(s==null?void 0:s.cacheUsage)!=="ONLY_RELAY"){const tt=await this.ndk.cacheAdapter.fetchProfile(this.pubkey);if(tt)return this.profile=tt,tt}!s&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.locking&&(c=await this.ndk.fetchEvents({kinds:[0],authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",closeOnEose:!0,groupable:!1}),s={cacheUsage:"ONLY_RELAY",closeOnEose:!0,groupable:!0,groupableDelay:250}),(!c||c.size===0)&&(c=await this.ndk.fetchEvents({kinds:[0],authors:[this.pubkey]},s));const h=Array.from(c).sort((tt,nt)=>tt.created_at-nt.created_at);if(h.length===0)return null;const b=h[0];return this.profile=profileFromEvent(b),a&&(this.profile.profileEvent=JSON.stringify(b)),this.profile&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.saveProfile&&this.ndk.cacheAdapter.saveProfile(this.pubkey,this.profile),this.profile}tagReference(){return["p",this.pubkey]}referenceTags(s){const a=[["p",this.pubkey]];return s&&a[0].push("",s),a}async publish(){if(!this.ndk)throw new Error("No NDK instance found");if(!this.profile)throw new Error("No profile available");this.ndk.assertSigner(),await new NDKEvent(this.ndk,{kind:0,content:serializeProfile(this.profile)}).publish()}async follow(s,a,c=3){if(!this.ndk)throw new Error("No NDK instance found");if(this.ndk.assertSigner(),a||(a=await this.follows(void 0,void 0,c)),a.has(s))return!1;a.add(s);const h=new NDKEvent(this.ndk,{kind:c});for(const b of a)h.tag(b);return await h.publish(),!0}async unfollow(s,a,c=3){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner(),a||(a=await this.follows(void 0,void 0,c));const h=new Set;let b=!1;for(const nt of a)nt.pubkey!==s.pubkey?h.add(nt):b=!0;if(!b)return!1;const tt=new NDKEvent(this.ndk,{kind:c});for(const nt of h)tt.tag(nt);return await tt.publish()}async validateNip05(s){if(!this.ndk)throw new Error("No NDK instance found");const a=await getNip05For(this.ndk,s);return a===null?null:a.pubkey===this.pubkey}async zap(s,a,c,h){return new Promise((b,tt)=>{var st;if(!this.ndk){tt("No NDK instance found");return}let nt=(st=this.ndk.walletConfig)==null?void 0:st.onLnPay;nt??(nt=async({pr:ft})=>{b(ft)}),this.ndk.zap(this,s,{comment:a,tags:c,signer:h,onLnPay:nt}).zap().then(b).catch(tt)})}},NDKList=class un extends NDKEvent{constructor(a,c){super(a,c);At(this,"_encryptedTags");At(this,"encryptedTagsLength");this.kind??(this.kind=30001)}static from(a){return new un(a.ndk,a)}get title(){const a=this.tagValue("title")||this.tagValue("name");return a||(this.kind===3?"Contacts":this.kind===1e4?"Mute":this.kind===10001?"Pinned Notes":this.kind===10002?"Relay Metadata":this.kind===10003?"Bookmarks":this.kind===10004?"Communities":this.kind===10005?"Public Chats":this.kind===10006?"Blocked Relays":this.kind===10007?"Search Relays":this.kind===10015?"Interests":this.kind===10030?"Emojis":this.tagValue("d"))}set title(a){this.removeTag(["title","name"]),a&&this.tags.push(["title",a])}get name(){return this.title}set name(a){this.title=a}get description(){return this.tagValue("description")}set description(a){this.removeTag("description"),a&&this.tags.push(["description",a])}get image(){return this.tagValue("image")}set image(a){this.removeTag("image"),a&&this.tags.push(["image",a])}isEncryptedTagsCacheValid(){return!!(this._encryptedTags&&this.encryptedTagsLength===this.content.length)}async encryptedTags(a=!0){if(a&&this.isEncryptedTagsCacheValid())return this._encryptedTags;if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");const c=await this.ndk.signer.user();try{if(this.content.length>0)try{const h=await this.ndk.signer.decrypt(c,this.content),b=JSON.parse(h);return b&&b[0]?(this.encryptedTagsLength=this.content.length,this._encryptedTags=b):(this.encryptedTagsLength=this.content.length,this._encryptedTags=[])}catch{console.log(`error decrypting ${this.content}`)}}catch{}return[]}validateTag(a){return!0}getItems(a){return this.tags.filter(c=>c[0]===a)}get items(){return this.tags.filter(a=>!["d","L","l","title","name","description","published_at","summary","image","thumb","alt","expiration","subject","client"].includes(a[0]))}async addItem(a,c=void 0,h=!1,b="bottom"){if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");let tt;if(a instanceof NDKEvent)tt=[a.tagReference(c)];else if(a instanceof NDKUser)tt=a.referenceTags();else if(a instanceof NDKRelay)tt=a.referenceTags();else if(Array.isArray(a))tt=[a];else throw new Error("Invalid object type");if(c&&tt[0].push(c),h){const nt=await this.ndk.signer.user(),ot=await this.encryptedTags();b==="top"?ot.unshift(...tt):ot.push(...tt),this._encryptedTags=ot,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(ot),await this.encrypt(nt)}else b==="top"?this.tags.unshift(...tt):this.tags.push(...tt);this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItemByValue(a,c=!0){if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");const h=this.tags.findIndex(ot=>ot[1]===a);h>=0&&this.tags.splice(h,1);const b=await this.ndk.signer.user(),tt=await this.encryptedTags(),nt=tt.findIndex(ot=>ot[1]===a);if(nt>=0&&(tt.splice(nt,1),this._encryptedTags=tt,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(tt),await this.encrypt(b)),c)return this.publishReplaceable();this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItem(a,c){if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");if(c){const h=await this.ndk.signer.user(),b=await this.encryptedTags();b.splice(a,1),this._encryptedTags=b,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(b),await this.encrypt(h)}else this.tags.splice(a,1);return this.created_at=Math.floor(Date.now()/1e3),this.emit("change"),this}has(a){return this.items.some(c=>c[1]===a)}filterForItems(){const a=new Set,c=new Map,h=[];for(const b of this.items)if(b[0]==="e"&&b[1])a.add(b[1]);else if(b[0]==="a"&&b[1]){const[tt,nt,ot]=b[1].split(":");if(!tt||!nt)continue;const st=`${tt}:${nt}`,ft=c.get(st)||[];ft.push(ot||""),c.set(st,ft)}if(a.size>0&&h.push({ids:Array.from(a)}),c.size>0)for(const[b,tt]of c.entries()){const[nt,ot]=b.split(":");h.push({kinds:[parseInt(nt)],authors:[ot],"#d":tt})}return h}},lists_default=NDKList,READ_MARKER="read",WRITE_MARKER="write",NDKRelayList=class fn extends NDKEvent{constructor(s,a){super(s,a),this.kind??(this.kind=10002)}static from(s){return new fn(s.ndk,s.rawEvent())}get readRelayUrls(){return this.tags.filter(s=>s[0]==="r"||s[0]==="relay").filter(s=>!s[2]||s[2]&&s[2]===READ_MARKER).map(s=>tryNormalizeRelayUrl(s[1])).filter(s=>!!s)}set readRelayUrls(s){for(const a of s)this.tags.push(["r",a,READ_MARKER])}get writeRelayUrls(){return this.tags.filter(s=>s[0]==="r"||s[0]==="relay").filter(s=>!s[2]||s[2]&&s[2]===WRITE_MARKER).map(s=>tryNormalizeRelayUrl(s[1])).filter(s=>!!s)}set writeRelayUrls(s){for(const a of s)this.tags.push(["r",a,WRITE_MARKER])}get bothRelayUrls(){return this.tags.filter(s=>s[0]==="r"||s[0]==="relay").filter(s=>!s[2]).map(s=>s[1])}set bothRelayUrls(s){for(const a of s)this.tags.push(["r",a])}get relays(){return this.tags.filter(s=>s[0]==="r"||s[0]==="relay").map(s=>s[1])}get relaySet(){if(!this.ndk)throw new Error("NDKRelayList has no NDK instance");return new NDKRelaySet(new Set(this.relays.map(s=>this.ndk.pool.getRelay(s))),this.ndk)}};function relayListFromKind3(e,s){try{const a=JSON.parse(s.content),c=new NDKRelayList(e),h=new Set,b=new Set;for(let[tt,nt]of Object.entries(a)){try{tt=normalizeRelayUrl(tt)}catch{continue}if(!nt)h.add(tt),b.add(tt);else{const ot=nt;ot.write&&b.add(tt),ot.read&&h.add(tt)}}return c.readRelayUrls=Array.from(h),c.writeRelayUrls=Array.from(b),c}catch{}}var nn,NDKNutzap=(nn=class extends NDKEvent{constructor(a,c){super(a,c);At(this,"debug");At(this,"_proofs",[]);At(this,"sender",this.author);this.kind??(this.kind=9321),this.debug=(a==null?void 0:a.debug.extend("nutzap"))??debug7("ndk:nutzap"),this.alt||(this.alt="This is a nutzap")}static from(a){const c=new this(a.ndk,a);try{const h=c.getMatchingTags("proof");h.length?c._proofs=h.map(b=>JSON.parse(b[1])):c._proofs=JSON.parse(c.content)}catch{return}if(!(!c._proofs||!c._proofs.length))return c}set comment(a){this.content=a??""}get comment(){const a=this.tagValue("comment");return a||this.content}set proofs(a){this._proofs=a,this.tags=this.tags.filter(c=>c[0]!=="proof");for(const c of a)this.tags.push(["proof",JSON.stringify(c)]);this.removeTag("amount"),this.tags.push(["amount",this.amount.toString()])}get proofs(){return this._proofs}get p2pk(){var c;const a=this.proofs[0];try{const h=JSON.parse(a.secret);let b={};if(typeof h=="string"?(b=JSON.parse(h),this.debug("stringified payload",a.secret)):typeof h=="object"&&(b=h),b[0]==="P2PK"&&((c=b[1])==null?void 0:c.data)){const ot=b[1].data.slice(2,-1);if(ot)return ot}}catch(h){this.debug("error parsing p2pk pubkey",h,this.proofs[0])}}get mint(){return this.tagValue("u")}set mint(a){this.removeTag("u"),this.tag(["u",a])}get unit(){return this.tagValue("unit")??"msat"}set unit(a){this.removeTag("unit"),a&&this.tag(["unit",a])}get amount(){return this.proofs.reduce((c,h)=>c+h.amount,0)*1e3}set target(a){this.tags=this.tags.filter(c=>c[0]!=="p"),a instanceof NDKEvent&&this.tags.push()}set recipientPubkey(a){this.removeTag("p"),this.tag(["p",a])}get recipientPubkey(){return this.tagValue("p")}get recipient(){const a=this.recipientPubkey;return this.ndk?this.ndk.getUser({pubkey:a}):new NDKUser({pubkey:a})}get isValid(){let a=0,c=0;for(const h of this.tags)h[0]==="p"&&a++,h[0]==="u"&&c++;return a===1&&c===1&&this.proofs.length>0}},At(nn,"kind",9321),At(nn,"kinds",[nn.kind]),nn);async function payInvoice(e){return await this.sendReq("pay_invoice",{invoice:e})}var NDKPrivateKeySigner=class dn{constructor(s){At(this,"_user");At(this,"_privateKey");if(s){if(typeof s=="string")if(s.startsWith("nsec1")){const{type:a,data:c}=nip19_exports.decode(s);a==="nsec"&&(this._privateKey=c)}else if(s.length===64)this._privateKey=hexToBytes$4(s);else throw new Error("Invalid private key provided.");else this._privateKey=s;this._privateKey&&(this._user=new NDKUser({pubkey:getPublicKey(this._privateKey)}))}}get privateKey(){if(this._privateKey)return bytesToHex$3(this._privateKey)}static generate(){const s=generateSecretKey();return new dn(s)}async blockUntilReady(){if(!this._user)throw new Error("NDKUser not initialized");return this._user}async user(){return await this.blockUntilReady(),this._user}async sign(s){if(!this._privateKey)throw Error("Attempted to sign without a private key");return finalizeEvent(s,this._privateKey).sig}async encrypt(s,a){if(!this._privateKey)throw Error("Attempted to encrypt without a private key");const c=s.pubkey;return await nip04_exports.encrypt(this._privateKey,c,a)}async decrypt(s,a){if(!this._privateKey)throw Error("Attempted to decrypt without a private key");const c=s.pubkey;return await nip04_exports.decrypt(this._privateKey,c,a)}};async function sendReq(e,s){const a=new NDKEvent(this.ndk,{kind:23194,tags:[["p",this.walletService.pubkey]],content:JSON.stringify({method:e,params:s})});return this.debug("Sending request",a.content),await a.encrypt(this.walletService,this.signer),await a.sign(this.signer),this.debug("Request encrypted and signed"),new Promise(async(c,h)=>{try{const b=a.tagId();if(!b)throw new Error("Failed to get e-tag");const tt=ot=>{this.off(b,tt),this.off("event",tt),this.debug("Received response",ot);try{const st=JSON.parse(ot);st.error&&h(st),c(st)}catch(st){this.debug("Failed to parse response",st),h({result_type:"error",error:{code:"failed_to_parse_response",message:st.message}})}},nt=this.ndk.subscribe({kinds:[23195],"#e":[b],limit:1},{groupable:!1,subId:`nwc-${e}`},this.relaySet);nt.on("event",async ot=>{await ot.decrypt(ot.author,this.signer),tt(ot.content),nt.stop()}),this.once(b,tt),this.once("event",tt),this.debug("Sending request to relay",a.rawEvent()),await a.publish(this.relaySet)}catch(b){this.debug("Failed to send request",b,b.relayErrors),h({result_type:"error",error:{code:"failed_to_send_request",message:b.message}})}})}async function getBalance(){return await this.sendReq("get_balance",{})}async function getInfo(){return await this.sendReq("get_info",{})}var NDKNwc=class hn extends lib$1.EventEmitter{constructor({ndk:a,pubkey:c,relayUrls:h,secret:b}){super();At(this,"ndk");At(this,"debug");At(this,"walletService");At(this,"relaySet");At(this,"signer");At(this,"active",!1);At(this,"getBalance",getBalance.bind(this));this.ndk=a,this.walletService=a.getUser({pubkey:c}),this.relaySet=new NDKRelaySet(new Set(h.map(tt=>a.pool.getRelay(tt))),a),this.signer=new NDKPrivateKeySigner(b instanceof Uint8Array?b:hexToBytes$4(b)),this.debug=a.debug.extend("nwc"),this.debug(`Starting with wallet service ${this.walletService.npub}`)}static async fromURI(a,c){const h=new URL(c);if(h.protocol!=="nostr+walletconnect:")throw new Error("Invalid protocol");return new hn({ndk:a,pubkey:h.host??h.pathname,relayUrls:h.searchParams.getAll("relay")??[""],secret:h.searchParams.get("secret")??""})}async blockUntilReady(a){const c=await this.signer.user(),h=new Promise((nt,ot)=>{setTimeout(()=>{ot(new Error("Timeout"))},a)}),tt=[new Promise(nt=>{const ot=this.ndk.subscribe({kinds:[23195],"#p":[c.pubkey],limit:1},{groupable:!1,subId:"nwc"},this.relaySet);ot.on("event",async st=>{this.debug("received response",st.rawEvent());const ft=st.tagValue("e");if(!ft){this.debug("Received an event without an e-tag");return}this.debug("received an event",ft);try{await st.decrypt(st.author,this.signer),this.emit(ft,st.content)}catch(ht){this.debug("Failed to decrypt event",ht);return}}),ot.on("eose",()=>{this.debug("Subscription ready"),this.active=!0,nt()}),ot.on("close",()=>{this.debug("Subscription closed"),this.active=!1})})];return a&&tt.push(h),await Promise.race(tt)}async sendReq(a,c){return await sendReq.call(this,a,c)}async payInvoice(a){return await payInvoice.call(this,a)}async getInfo(){return await getInfo.call(this)}};function dedup(e,s){return e.created_at>s.created_at?e:s}async function getRelayListForUser(e,s){return(await getRelayListForUsers([e],s)).get(e)}async function getRelayListForUsers(e,s,a=!1){var ft;const c=s.outboxPool||s.pool,h=new Set;for(const ht of c.relays.values())h.add(ht);const b=new Map,tt=new Map,nt=new NDKRelaySet(h,s);if((ft=s.cacheAdapter)!=null&&ft.locking&&!a){const ht=await s.fetchEvents({kinds:[3,10002],authors:e},{cacheUsage:"ONLY_CACHE"});for(const gt of ht)gt.kind===10002&&b.set(gt.pubkey,NDKRelayList.from(gt));for(const gt of ht)if(gt.kind===3){if(b.has(gt.pubkey))continue;const yt=relayListFromKind3(s,gt);yt&&tt.set(gt.pubkey,yt)}e=e.filter(gt=>!b.has(gt)&&!tt.has(gt))}if(e.length===0)return b;const ot=new Map,st=new Map;return new Promise(async ht=>{const gt=s.subscribe({kinds:[3,10002],authors:e},{closeOnEose:!0,pool:c,groupable:!0,cacheUsage:"ONLY_RELAY",subId:"ndk-relay-list-fetch"},nt,!1);gt.on("event",yt=>{if(yt.kind===10002){const Et=ot.get(yt.pubkey);if(Et&&Et.created_at>yt.created_at)return;ot.set(yt.pubkey,yt)}else if(yt.kind===3){const Et=st.get(yt.pubkey);if(Et&&Et.created_at>yt.created_at)return;st.set(yt.pubkey,yt)}}),gt.on("eose",()=>{for(const yt of ot.values())b.set(yt.pubkey,NDKRelayList.from(yt));for(const yt of e){if(b.has(yt))continue;const Et=st.get(yt);if(!Et)continue;const wt=relayListFromKind3(s,Et);wt&&b.set(yt,wt)}ht(b)}),gt.start()})}var OutboxItem=class{constructor(e){At(this,"type");At(this,"relayUrlScores");At(this,"readRelays");At(this,"writeRelays");this.type=e,this.relayUrlScores=new Map,this.readRelays=new Set,this.writeRelays=new Set}},OutboxTracker=class extends lib$1.EventEmitter{constructor(s){super();At(this,"data");At(this,"ndk");At(this,"debug");this.ndk=s,this.debug=s.debug.extend("outbox-tracker"),this.data=new dist.LRUCache({maxSize:1e5,entryExpirationTimeInMS:2*60*1e3})}async trackUsers(s,a=!1){const c=[];for(let h=0;h<s.length;h+=400){const tt=s.slice(h,h+400).map(nt=>getKeyFromItem(nt)).filter(nt=>!this.data.has(nt));if(tt.length!==0){for(const nt of tt)this.data.set(nt,new OutboxItem("user"));c.push(new Promise(nt=>{getRelayListForUsers(tt,this.ndk,a).then(ot=>{for(const[st,ft]of ot){let ht=this.data.get(st);if(ht??(ht=new OutboxItem("user")),ft){ht.readRelays=new Set(normalize(ft.readRelayUrls)),ht.writeRelays=new Set(normalize(ft.writeRelayUrls));for(const gt of ht.readRelays)this.ndk.pool.blacklistRelayUrls.has(gt)&&ht.readRelays.delete(gt);for(const gt of ht.writeRelays)this.ndk.pool.blacklistRelayUrls.has(gt)&&ht.writeRelays.delete(gt);this.data.set(st,ht)}}}).finally(nt)}))}}return Promise.all(c)}track(s,a,c=!0){const h=getKeyFromItem(s);a??(a=getTypeFromItem(s));let b=this.data.get(h);return b||(b=new OutboxItem(a),s instanceof NDKUser&&this.trackUsers([s])),b}};function getKeyFromItem(e){return e instanceof NDKUser?e.pubkey:e}function getTypeFromItem(e){return e instanceof NDKUser?"user":"kind"}var NDKPool=class extends lib$1.EventEmitter{constructor(s=[],a=[],c,h){super();At(this,"relays",new Map);At(this,"autoConnectRelays",new Set);At(this,"blacklistRelayUrls");At(this,"debug");At(this,"temporaryRelayTimers",new Map);At(this,"flappingRelays",new Set);At(this,"backoffTimes",new Map);At(this,"ndk");this.debug=h??c.debug.extend("pool"),this.ndk=c;for(const b of s){const tt=new NDKRelay(b,void 0,this.ndk);this.addRelay(tt,!1)}this.blacklistRelayUrls=new Set(a)}set name(s){this.debug=this.debug.extend(s)}useTemporaryRelay(s,a=3e4,c){const h=this.relays.has(s.url);h||(this.addRelay(s),this.debug("Adding temporary relay %s for filters %o",s.url,c));const b=this.temporaryRelayTimers.get(s.url);if(b&&clearTimeout(b),!h||b){const tt=setTimeout(()=>{var nt;(nt=this.ndk.explicitRelayUrls)!=null&&nt.includes(s.url)||this.removeRelay(s.url)},a);this.temporaryRelayTimers.set(s.url,tt)}}addRelay(s,a=!0){var wt,bt;const c=this.relays.has(s.url),h=(wt=this.blacklistRelayUrls)==null?void 0:wt.has(s.url),b=s.url.includes("/npub1");let tt=!0;const nt=s.url;if(c)return;if(h){this.debug(`Refusing to add relay ${nt}: blacklisted`);return}if(b){this.debug(`Refusing to add relay ${nt}: is a filter relay`);return}if((bt=this.ndk.cacheAdapter)!=null&&bt.getRelayStatus){const mt=this.ndk.cacheAdapter.getRelayStatus(nt);if(mt&&mt.dontConnectBefore)if(mt.dontConnectBefore>Date.now()){const vt=mt.dontConnectBefore-Date.now();this.debug(`Refusing to add relay ${nt}: delayed connect for ${vt}ms`),setTimeout(()=>{this.addRelay(s,a)},vt);return}else tt=!1}const ot=mt=>this.emit("notice",s,mt),st=()=>this.handleRelayConnect(nt),ft=()=>this.handleRelayReady(s),ht=()=>this.emit("relay:disconnect",s),gt=()=>this.handleFlapping(s),yt=mt=>this.emit("relay:auth",s,mt),Et=()=>this.emit("relay:authed",s);s.off("notice",ot),s.off("connect",st),s.off("ready",ft),s.off("disconnect",ht),s.off("flapping",gt),s.off("auth",yt),s.off("authed",Et),s.on("notice",ot),s.on("connect",st),s.on("ready",ft),s.on("disconnect",ht),s.on("flapping",gt),s.on("auth",yt),s.on("authed",Et),s.on("delayed-connect",mt=>{var vt;(vt=this.ndk.cacheAdapter)!=null&&vt.updateRelayStatus&&this.ndk.cacheAdapter.updateRelayStatus(s.url,{dontConnectBefore:Date.now()+mt})}),this.relays.set(nt,s),a&&this.autoConnectRelays.add(nt),a&&(this.emit("relay:connecting",s),s.connect(void 0,tt).catch(mt=>{this.debug(`Failed to connect to relay ${nt}`,mt)}))}removeRelay(s){const a=this.relays.get(s);if(a)return a.disconnect(),this.relays.delete(s),this.autoConnectRelays.delete(s),this.emit("relay:disconnect",a),!0;const c=this.temporaryRelayTimers.get(s);return c&&(clearTimeout(c),this.temporaryRelayTimers.delete(s)),!1}isRelayConnected(s){const a=normalizeRelayUrl(s),c=this.relays.get(a);return c?c.status===5:!1}getRelay(s,a=!0,c=!1,h){let b=this.relays.get(normalizeRelayUrl(s));return b||(b=new NDKRelay(s,void 0,this.ndk),c?this.useTemporaryRelay(b,3e4,h):this.addRelay(b,a)),b}handleRelayConnect(s){this.emit("relay:connect",this.relays.get(s)),this.stats().connected===this.relays.size&&this.emit("connect")}handleRelayReady(s){this.emit("relay:ready",s)}async connect(s){var h;const a=[];this.debug(`Connecting to ${this.relays.size} relays${s?`, timeout ${s}...`:""}`);const c=new Set(this.autoConnectRelays.keys());(h=this.ndk.explicitRelayUrls)==null||h.forEach(b=>{const tt=normalizeRelayUrl(b);c.add(tt)});for(const b of c){const tt=this.relays.get(b);if(!tt)continue;const nt=new Promise((ot,st)=>(this.emit("relay:connecting",tt),tt.connect(s).then(ot).catch(st)));if(s){const ot=new Promise((st,ft)=>{setTimeout(()=>ft(`Timed out after ${s}ms`),s)});a.push(Promise.race([nt,ot]).catch(st=>{this.debug(`Failed to connect to relay ${tt.url}: ${st??"No reason specified"}`)}))}else a.push(nt)}s&&setTimeout(()=>{const b=this.stats().connected===this.relays.size,tt=this.stats().connected>0;!b&&tt&&this.emit("connect")},s),await Promise.all(a)}checkOnFlappingRelays(){const s=this.flappingRelays.size,a=this.relays.size;if(s/a>=.8)for(const c of this.flappingRelays)this.backoffTimes.set(c,0)}handleFlapping(s){this.debug(`Relay ${s.url} is flapping`);let a=this.backoffTimes.get(s.url)||5e3;a=a*2,this.backoffTimes.set(s.url,a),this.debug(`Backoff time for ${s.url} is ${a}ms`),setTimeout(()=>{this.debug(`Attempting to reconnect to ${s.url}`),this.emit("relay:connecting",s),s.connect(),this.checkOnFlappingRelays()},a),s.disconnect(),this.emit("flapping",s)}size(){return this.relays.size}stats(){const s={total:0,connected:0,disconnected:0,connecting:0};for(const a of this.relays.values())s.total++,a.status===5?s.connected++:a.status===1?s.disconnected++:a.status===4&&s.connecting++;return s}connectedRelays(){return Array.from(this.relays.values()).filter(s=>s.status===5)}permanentAndConnectedRelays(){return Array.from(this.relays.values()).filter(s=>s.status>=5&&!this.temporaryRelayTimers.has(s.url))}urls(){return Array.from(this.relays.keys())}};function correctRelaySet(e,s){const a=s.connectedRelays();if(!Array.from(e.relays).some(h=>a.map(b=>b.url).includes(h.url)))for(const h of a)e.addRelay(h);if(a.length===0)for(const h of s.relays.values())e.addRelay(h);return e}function isValidHint(e){if(!e||e==="")return!1;try{return new URL(e),!0}catch{return!1}}async function fetchEventFromTag(e,s,a,c={type:"timeout"}){const h=this.debug.extend("fetch-event-from-tag"),[b,tt,nt]=e;a={},h("fetching event from tag",e,a,c);const ot=getRelaysForSync(this,s.pubkey);if(ot&&ot.size>0){h("fetching event from author relays %o",Array.from(ot));const wt=NDKRelaySet.fromRelayUrls(Array.from(ot),this),bt=await this.fetchEvent(tt,a,wt);if(bt)return bt}else h("no author relays found for %s",s.pubkey,s);const st=calculateRelaySetsFromFilters(this,[{ids:[tt]}],this.pool);h("fetching event without relay hint",st);const ft=await this.fetchEvent(tt,a);if(ft)return ft;if(nt&&nt!==""){const wt=await this.fetchEvent(tt,a,this.pool.getRelay(nt,!0,!0,[{ids:[tt]}]));if(wt)return wt}let ht;const gt=isValidHint(nt)?this.pool.getRelay(nt,!1,!0,[{ids:[tt]}]):void 0,yt=new Promise(wt=>{this.fetchEvent(tt,a,gt).then(wt)});if(!isValidHint(nt)||c.type==="none")return yt;const Et=new Promise(async wt=>{const bt=c.relaySet,mt=c.timeout??1500,vt=new Promise(xt=>setTimeout(xt,mt));if(c.type==="timeout"&&await vt,ht)wt(ht);else{h("fallback fetch triggered");const xt=await this.fetchEvent(tt,a,bt);wt(xt)}});switch(c.type){case"timeout":return Promise.race([yt,Et]);case"eose":return ht=await yt,ht||Et}}var SPEC_PATH="/.well-known/nostr/nip96.json",Nip96=class{constructor(e,s){At(this,"ndk");At(this,"spec");At(this,"url");At(this,"nip98Required",!1);this.url=`https://${e}${SPEC_PATH}`,this.ndk=s}async prepareUpload(e,s="POST"){if(this.validateHttpFetch(),this.spec||await this.fetchSpec(),!this.spec)throw new Error("Failed to fetch NIP96 spec");let a={};return this.nip98Required&&(a={Authorization:await this.generateNip98Header(this.spec.api_url,s,e)}),{url:this.spec.api_url,headers:a}}async xhrUpload(e,s){const a="POST",{url:c,headers:h}=await this.prepareUpload(s,a);e.open(a,c,!0),h.Authorization&&e.setRequestHeader("Authorization",h.Authorization);const b=new FormData;return b.append("file",s),new Promise((tt,nt)=>{e.onload=function(){e.status>=200&&e.status<300?tt(JSON.parse(e.responseText)):nt(new Error(e.statusText))},e.onerror=function(){nt(new Error("Network Error"))},e.send(b)})}async upload(e){const s="POST",{url:a,headers:c}=await this.prepareUpload(e,s),h=new FormData;h.append("file",e);const b=await this.ndk.httpFetch(this.spec.api_url,{method:s,headers:c,body:h});if(b.status!==200)throw new Error(`Failed to upload file to ${a}`);const tt=await b.json();if(tt.status!=="success")throw new Error(tt.message);return tt}validateHttpFetch(){if(!this.ndk)throw new Error("NDK is required to fetch NIP96 spec");if(!this.ndk.httpFetch)throw new Error("NDK must have an httpFetch method to fetch NIP96 spec")}async fetchSpec(){this.validateHttpFetch();const e=await this.ndk.httpFetch(this.url);if(e.status!==200)throw new Error(`Failed to fetch NIP96 spec from ${this.url}`);const s=await e.json();if(!s)throw new Error(`Failed to parse NIP96 spec from ${this.url}`);this.spec=s,this.nip98Required=this.spec.plans.free.is_nip98_required}async generateNip98Header(e,s,a){const c=new NDKEvent(this.ndk,{kind:27235,tags:[["u",e],["method",s]]});if(["POST","PUT","PATCH"].includes(s)){const b=await this.calculateSha256(a);c.tags.push(["payload",b])}return await c.sign(),`Nostr ${btoa(JSON.stringify(c.rawEvent()))}`}async calculateSha256(e){const s=await e.arrayBuffer(),a=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(a)).map(b=>b.toString(16).padStart(2,"0")).join("")}},Queue=class{constructor(e,s){At(this,"queue",[]);At(this,"maxConcurrency");At(this,"processing",new Set);At(this,"promises",new Map);this.maxConcurrency=s}add(e){if(this.promises.has(e.id))return this.promises.get(e.id);const s=new Promise((a,c)=>{this.queue.push({...e,func:()=>e.func().then(h=>(a(h),h),h=>{throw c(h),h})}),this.process()});return this.promises.set(e.id,s),s.finally(()=>{this.promises.delete(e.id),this.processing.delete(e.id),this.process()}),s}process(){if(this.processing.size>=this.maxConcurrency||this.queue.length===0)return;const e=this.queue.shift();!e||this.processing.has(e.id)||(this.processing.add(e.id),e.func())}clear(){this.queue=[]}clearProcessing(){this.processing.clear()}clearAll(){this.clear(),this.clearProcessing()}length(){return this.queue.length}},NDKSubscriptionManager=class{constructor(e){At(this,"subscriptions");At(this,"seenEvents",new Map);At(this,"debug");this.subscriptions=new Map,this.debug=e.extend("sub-manager")}add(e){this.subscriptions.set(e.internalId,e),e.on("close",()=>{this.subscriptions.delete(e.internalId)})}seenEvent(e,s){const a=this.seenEvents.get(e)||[];a.push(s),this.seenEvents.set(e,a)}},debug6=debug7("ndk:active-user");async function getUserRelayList(e){if(!this.autoConnectUserRelays)return;const s=await getRelayListForUser(e.pubkey,this);if(s){for(const a of s.relays){let c=this.pool.relays.get(a);c||(c=new NDKRelay(a,this.relayAuthDefaultPolicy,this),this.pool.addRelay(c))}return s}}async function setActiveUser(e){const s=this.outboxPool||this.pool;s.connectedRelays.length>0?setActiveUserConnected.call(this,e):s.once("connect",()=>{setActiveUserConnected.call(this,e)})}async function setActiveUserConnected(e){const s=await getUserRelayList.call(this,e),a=[{kinds:[10006],authors:[e.pubkey]}];this.autoFetchUserMutelist&&a[0].kinds.push(1e4);const c=s?s.relaySet:void 0,h=this.subscribe(a,{subId:"active-user-settings",closeOnEose:!0},c,!1),b=new Map;h.on("event",tt=>{const nt=b.get(tt.kind);nt&&nt.created_at>=tt.created_at||b.set(tt.kind,tt)}),h.on("eose",()=>{for(const tt of b.values())processEvent.call(this,tt)}),h.start()}async function processEvent(e){e.kind===10006?processBlockRelayList.call(this,e):e.kind===1e4&&processMuteList.call(this,e)}function processBlockRelayList(e){const s=lists_default.from(e);for(const a of s.items)this.pool.blacklistRelayUrls.add(a[0]);debug6("Added %d relays to relay blacklist",s.items.length)}function processMuteList(e){const s=lists_default.from(e);for(const a of s.items)this.mutedIds.set(a[1],a[0]);debug6("Added %d users to mute list",s.items.length)}async function generateZapRequest(e,s,a,c,h,b,tt,nt,ot){const st=a.callback,ft=nip57_exports.makeZapRequest({profile:c,event:null,amount:h,comment:tt||"",relays:b.slice(0,4)});if(e instanceof NDKEvent){const yt=e.referenceTags().filter(Et=>Et[0]!=="p");ft.tags.push(...yt)}ft.tags.push(["lnurl",st]);const ht=new NDKEvent(s,ft);return nt&&(ht.tags=ht.tags.concat(nt)),ht.tags=ht.tags.filter(gt=>gt[0]!=="p"),ht.tags.push(["p",c]),await ht.sign(ot),ht}var d3=debug7("ndk:zapper"),NDKZapper=class extends lib$1.EventEmitter{constructor(s,a,c="msat",h,b,tt,nt){super();At(this,"target");At(this,"ndk");At(this,"comment");At(this,"amount");At(this,"unit");At(this,"tags");At(this,"signer");At(this,"zapMethod");At(this,"onLnPay");At(this,"onCashuPay");At(this,"onComplete");At(this,"maxRelays",3);if(this.target=s,this.ndk=b||s.ndk,!this.ndk)throw new Error("No NDK instance provided");this.amount=a,this.comment=h,this.unit=c,this.tags=tt,this.signer=nt}async zap(){const s=this.getZapSplits(),a=new Map;return await Promise.all(s.map(async c=>{let h;try{h=await this.zapSplit(c)}catch(b){h=b}this.emit("split:complete",c,h),a.set(c,h)})),this.emit("complete",a),this.onComplete&&this.onComplete(a),a}async zapSplit(s){let a=await this.getZapMethods(this.ndk,s.pubkey),c;if(a.length===0)throw new Error("No zap method available for recipient");a=a.sort((b,tt)=>b.type==="nip61"?-1:tt.type==="nip61"?1:0);const h=await this.relays(s.pubkey);for(const b of a){d3("Zapping to %s with %d %s using %s",s.pubkey,s.amount,this.unit,b.type);try{switch(b.type){case"nip61":{const tt=b.data;let nt;if(nt=await this.onCashuPay({target:this.target,comment:this.comment,tags:this.tags,recipientPubkey:s.pubkey,amount:s.amount,unit:this.unit,...tt}),d3("NIP-61 Zap result: %o",nt),nt instanceof Error)c=nt;else if(nt){const{proofs:ot,mint:st}=nt;if(!ot||!st)throw new Error("Invalid zap confirmation: missing proofs or mint: "+nt);const ft=NDKRelaySet.fromRelayUrls(h,this.ndk),ht=new NDKNutzap(this.ndk);return ht.tags=[...ht.tags,...this.tags||[]],ht.proofs=ot,ht.mint=st,ht.comment=this.comment,ht.unit=this.unit,ht.recipientPubkey=s.pubkey,await ht.sign(this.signer),await ht.publish(ft),ht}break}case"nip57":{const tt=b.data,nt=await generateZapRequest(this.target,this.ndk,tt,s.pubkey,s.amount,h,this.comment,this.tags,this.signer);if(!nt)throw d3("Unable to generate zap request"),new Error("Unable to generate zap request");const ot=await this.getLnInvoice(nt,s.amount,tt);if(!ot)throw d3("Unable to get payment request"),new Error("Unable to get payment request");c=await this.onLnPay({target:this.target,comment:this.comment,recipientPubkey:s.pubkey,amount:s.amount,unit:this.unit,pr:ot});break}}}catch(tt){tt instanceof Error?c=tt:c=new Error(tt),d3("Error zapping to %s with %d %s using %s: %o",s.pubkey,s.amount,this.unit,b.type,tt)}}if(c instanceof Error)throw c;return c}async getLnInvoice(s,a,c){const h=c.callback,b=JSON.stringify(s.rawEvent());d3(`Fetching invoice from ${h}?`+new URLSearchParams({amount:a.toString(),nostr:b}));const tt=new URL(h);tt.searchParams.append("amount",a.toString()),tt.searchParams.append("nostr",b),d3(`Fetching invoice from ${tt.toString()}`);const nt=await fetch(tt.toString());if(d3(`Got response from zap endpoint: ${h}`,{status:nt.status}),nt.status!==200){d3(`Received non-200 status from zap endpoint: ${h}`,{status:nt.status,amount:a,nostr:b});const st=await nt.text();throw new Error(`Unable to fetch zap endpoint ${h}: ${st}`)}return(await nt.json()).pr}getZapSplits(){if(this.target instanceof NDKUser)return[{pubkey:this.target.pubkey,amount:this.amount}];const s=this.target.getMatchingTags("zap");if(s.length===0)return[{pubkey:this.target.pubkey,amount:this.amount}];const a=[],c=s.reduce((h,b)=>h+parseInt(b[2]),0);for(const h of s){const b=h[1],tt=Math.floor(parseInt(h[2])/c*this.amount);a.push({pubkey:b,amount:tt})}return a}async getZapMethods(s,a){const c=[];this.onCashuPay&&c.push("nip61"),c.push("nip57");const h=s.getUser({pubkey:a}),b=await h.getZapInfo(!1,c);return d3("Zap info for %s: %o",h.npub,b),b}async relays(s){var c,h,b;let a=[];if((c=this.ndk)!=null&&c.activeUser){const tt=await getRelayListForUsers([this.ndk.activeUser.pubkey,s],this.ndk),nt=new Map;for(const ot of tt.values())for(const st of ot.readRelayUrls){const ft=nt.get(st)||0;nt.set(st,ft+1)}a=Array.from(nt.entries()).sort((ot,st)=>st[1]-ot[1]).map(([ot])=>ot).slice(0,this.maxRelays)}return(b=(h=this.ndk)==null?void 0:h.pool)!=null&&b.permanentAndConnectedRelays().length&&(a=this.ndk.pool.permanentAndConnectedRelays().map(tt=>tt.url)),a.length||(a=[]),a}},DEFAULT_OUTBOX_RELAYS=["wss://purplepag.es/","wss://nos.lol/"],DEFAULT_BLACKLISTED_RELAYS=["wss://brb.io/","wss://nostr.mutinywallet.com/"],NDK=class extends lib$1.EventEmitter{constructor(s={}){super();At(this,"explicitRelayUrls");At(this,"pool");At(this,"outboxPool");At(this,"_signer");At(this,"_activeUser");At(this,"cacheAdapter");At(this,"debug");At(this,"devWriteRelaySet");At(this,"outboxTracker");At(this,"mutedIds");At(this,"clientName");At(this,"clientNip89");At(this,"queuesZapConfig");At(this,"queuesNip05");At(this,"asyncSigVerification",!1);At(this,"initialValidationRatio",1);At(this,"lowestValidationRatio",1);At(this,"validationRatioFn");At(this,"subManager");At(this,"publishingFailureHandled",!1);At(this,"relayAuthDefaultPolicy");At(this,"httpFetch");At(this,"autoConnectUserRelays",!0);At(this,"autoFetchUserMutelist",!0);At(this,"walletConfig");At(this,"fetchEventFromTag",fetchEventFromTag.bind(this));this.debug=s.debug||debug7("ndk"),this.explicitRelayUrls=s.explicitRelayUrls||[],this.subManager=new NDKSubscriptionManager(this.debug),this.pool=new NDKPool(s.explicitRelayUrls||[],s.blacklistRelayUrls||DEFAULT_BLACKLISTED_RELAYS,this),this.pool.name="main",this.pool.on("relay:auth",async(a,c)=>{this.relayAuthDefaultPolicy&&await this.relayAuthDefaultPolicy(a,c)}),this.autoConnectUserRelays=s.autoConnectUserRelays??!0,this.autoFetchUserMutelist=s.autoFetchUserMutelist??!0,this.clientName=s.clientName,this.clientNip89=s.clientNip89,this.relayAuthDefaultPolicy=s.relayAuthDefaultPolicy,s.enableOutboxModel&&(this.outboxPool=new NDKPool(s.outboxRelayUrls||DEFAULT_OUTBOX_RELAYS,s.blacklistRelayUrls||DEFAULT_BLACKLISTED_RELAYS,this,this.debug.extend("outbox-pool")),this.outboxPool.name="outbox",this.outboxTracker=new OutboxTracker(this)),this.signer=s.signer,this.cacheAdapter=s.cacheAdapter,this.mutedIds=s.mutedIds||new Map,s.devWriteRelayUrls&&(this.devWriteRelaySet=NDKRelaySet.fromRelayUrls(s.devWriteRelayUrls,this)),this.queuesZapConfig=new Queue("zaps",3),this.queuesNip05=new Queue("nip05",10),this.signatureVerificationWorker=s.signatureVerificationWorker,this.initialValidationRatio=s.initialValidationRatio||1,this.lowestValidationRatio=s.lowestValidationRatio||1;try{this.httpFetch=fetch}catch{}}set signatureVerificationWorker(s){this.asyncSigVerification=!!s,s&&signatureVerificationInit(s)}addExplicitRelay(s,a,c=!0){let h;return typeof s=="string"?h=new NDKRelay(s,a,this):h=s,this.pool.addRelay(h,c),this.explicitRelayUrls.push(h.url),h}toJSON(){return{relayCount:this.pool.relays.size}.toString()}get activeUser(){return this._activeUser}set activeUser(s){var c;const a=((c=this._activeUser)==null?void 0:c.pubkey)!==(s==null?void 0:s.pubkey);this._activeUser=s,s&&a?setActiveUser.call(this,s):s||(this.mutedIds=new Map)}get signer(){return this._signer}set signer(s){this._signer=s,s&&this.emit("signer:ready",s),s==null||s.user().then(a=>{a.ndk=this,this.activeUser=a})}async connect(s){var c,h;this._signer&&this.autoConnectUserRelays&&(this.debug("Attempting to connect to user relays specified by signer %o",await((h=(c=this._signer).relays)==null?void 0:h.call(c,this))),this._signer.relays&&(await this._signer.relays(this)).forEach(tt=>this.pool.addRelay(tt)));const a=[this.pool.connect(s)];return this.outboxPool&&a.push(this.outboxPool.connect(s)),this.debug("Connecting to relays %o",{timeoutMs:s}),Promise.allSettled(a).then(()=>{})}getUser(s){const a=new NDKUser(s);return a.ndk=this,a}async getUserFromNip05(s,a=!1){return NDKUser.fromNip05(s,this,a)}subscribe(s,a,c,h=!0){var tt;const b=new NDKSubscription(this,s,a,c);if(this.subManager.add(b),c)for(const nt of c.relays)this.pool.useTemporaryRelay(nt,void 0,b.filters);if(this.outboxPool&&b.hasAuthorsFilter()){const nt=b.filters.filter(ot=>{var st;return ot.authors&&((st=ot.authors)==null?void 0:st.length)>0}).map(ot=>ot.authors).flat();(tt=this.outboxTracker)==null||tt.trackUsers(nt)}return h&&setTimeout(()=>b.start(),0),b}async publish(s,a,c){return this.debug("Deprecated: Use `event.publish()` instead"),s.publish(a,c)}async fetchEvent(s,a,c){let h,b;if(c instanceof NDKRelay?b=new NDKRelaySet(new Set([c]),this):c instanceof NDKRelaySet&&(b=c),!c&&typeof s=="string"&&!isNip33AValue(s)){const tt=relaysFromBech32(s,this);tt.length>0&&(b=new NDKRelaySet(new Set(tt),this),b=correctRelaySet(b,this.pool))}if(typeof s=="string"?h=[filterFromId(s)]:Array.isArray(s)?h=s:h=[s],h.length===0)throw new Error(`Invalid filter: ${JSON.stringify(s)}`);return new Promise(tt=>{let nt=null;const ot=this.subscribe(h,{...a||{},closeOnEose:!0},b,!1),st=setTimeout(()=>{ot.stop(),tt(nt)},1e4);ot.on("event",ft=>{ft.ndk=this,ft.isReplaceable()?(!nt||nt.created_at<ft.created_at)&&(nt=ft):(clearTimeout(st),tt(ft))}),ot.on("eose",()=>{clearTimeout(st),tt(nt)}),ot.start()})}async fetchEvents(s,a,c){return new Promise(h=>{const b=new Map,tt=this.subscribe(s,{...a||{},closeOnEose:!0},c,!1),nt=ot=>{ot instanceof NDKEvent||(ot=new NDKEvent(void 0,ot));const st=ot.deduplicationKey(),ft=b.get(st);ft&&(ot=dedup(ft,ot)),ot.ndk=this,b.set(st,ot)};tt.on("event",nt),tt.on("eose",()=>{h(new Set(b.values()))}),tt.start()})}assertSigner(){if(!this.signer)throw this.emit("signer:required"),new Error("Signer required")}getNip96(s){return new Nip96(s,this)}async nwc(s,a=2e3){const c=await NDKNwc.fromURI(this,s);return a!==!1&&await c.blockUntilReady(a),c}zap(s,a,{comment:c,unit:h,signer:b,tags:tt,onLnPay:nt,onCashuPay:ot,onComplete:st}){var ht,gt,yt;b||this.assertSigner();const ft=new NDKZapper(s,a,h,c,this,tt,b);return nt!==!1&&(ft.onLnPay=nt??((ht=this.walletConfig)==null?void 0:ht.onLnPay)),ot!==!1&&(ft.onCashuPay=ot??((gt=this.walletConfig)==null?void 0:gt.onCashuPay)),ft.onComplete=st??((yt=this.walletConfig)==null?void 0:yt.onPaymentComplete),nt&&ft.zap(),ft}};async function parseText(e){const s=new NDK({explicitRelayUrls:["wss://relay.damus.io","wss://nostr.wine","wss://relay.nostr.net","wss://nos.lol","wss://nostr-pub.wellorder.net","wss://njump.me","wss://relay.primal.net"]});await s.connect();let a=e;const c=a.matchAll(new RegExp(nip21_exports.NOSTR_URI_REGEX,"g"));for(let ot of c){const ft=nip21_exports.parse(ot[0]).decoded.data;let ht="";typeof ft=="string"?ht=ft:ht=ft.pubkey;const gt=await s.getUser({pubkey:ht}).fetchProfile(),yt=(gt==null?void 0:gt.displayName)||"";a=a.replace(ot[0],`<a>@${yt}</a>`)}const h=/(^|\s)(#[a-z\d-]+)/ig;a=a.replace(h,"$1<a>$2</a>");const b=/(https:\/\/(?!njump\.me)[\w.-]+(?:\.[\w.-]+)+(?:\/[^\s]*)?)/g,tt=a.match(b),nt=[];if(tt){let ot=0;for(const st of tt){const ft=a.indexOf(st,ot),ht=ft+st.length;ft>ot&&nt.push({type:"text",value:a.substring(ot,ft)});const gt=new URL(st);let yt;gt.pathname.endsWith(".jpg")||gt.pathname.endsWith(".jpeg")||gt.pathname.endsWith(".png")?yt="image":gt.pathname.endsWith(".gif")?yt="gif":gt.pathname.endsWith(".mp4")||gt.pathname.endsWith(".webm")?yt="video":yt="link",nt.push({type:yt,value:st}),ot=ht}ot<a.length&&nt.push({type:"text",value:a.substring(ot)})}else nt.push({type:"text",value:a});return nt}function getHTML(e){const s=[];let a=0,c="";for(const b of e)if(b.type==="text")c+=b.value;else switch(c&&(s.push(`<span class="text-content">${c.replace(/\n/g,"<br />")}</span>`),c=""),b.type){case"image":s.push(`<img width="100%" src="${proxyImg(b.value,defaultImgProxy)}" alt="Image">`),a++;break;case"gif":s.push(`<img width="100%" src="${proxyImg(b.value,defaultImgProxy)}" alt="GIF">`),a++;break;case"video":s.push(`<video width="100%" src="${b.value}" controls></video>`),a++;break;case"link":s.push(`<a href="${b.value}">${b.value}</a>`);break}if(c&&s.push(`<span class="text-content">${c.replace(/\n/g,"<br />")}</span>`),a>1)for(let b=0;b<s.length;b++){const tt=s[b];(tt.startsWith("<img")||tt.startsWith("<video"))&&(s.splice(b,1),b--)}return`
    <style>
      a {
        color: #ca077c;
      }
    </style>
  `+s.join("")}function getNip19Bech32RegexMatch(e){return e.match(nip19_exports.BECH32_REGEX)}function validateAndGetMatchedNostrEventBech32(e){if(!e)return!1;let s="";if(e.startsWith("http")||e.startsWith("https")){const a=e.split("/");for(let c=0;c<a.length;c++){const h=a[c],b=getNip19Bech32RegexMatch(h);b!==null&&(s=b[0])}}else{const a=getNip19Bech32RegexMatch(e);a!==null&&(s=a[0])}if(s==="")return!1;try{const a=nip19_exports.decode(s);return a.type==="nevent"||a.type==="note"?s:!1}catch{return!1}}async function getPostDetails(e,s){const a=await e.fetchEvent(s),c=await(a==null?void 0:a.author.fetchProfile()),h=await getPostStats(e,(a==null?void 0:a.id)||"");return{post:a,author:c,stats:h}}async function getPostStats(e,s){const a=await e.fetchEvents({kinds:[NDKKind.Repost],"#e":[s||""]}),c=Array.from(a).filter(st=>st.tags.filter(ht=>ht[0]==="p").length===1).length,h=await e.fetchEvents({kinds:[NDKKind.Reaction],"#e":[s||""]}),b=await e.fetchEvents({kinds:[NDKKind.Zap],"#e":[s||""]}),tt=Array.from(b).reduce((st,ft)=>{const ht=ft.getMatchingTags("bolt11");if(!ht||!Array.isArray(ht)||ht.length===0||!ht[0]||!Array.isArray(ht[0])||ht[0].length===0)return st;const gt=ht[0][1],Et=bolt11.decode(gt).sections.find(wt=>wt.name==="amount");if(Et){const wt=Number(Et.value);return st+wt}return st},0),nt=await e.fetchEvents({kinds:[NDKKind.Text],"#e":[s||""]}),ot=Array.from(nt).filter(st=>st.tags.filter(ht=>ht[0]==="e").length===1).length;return{likes:h.size,reposts:c,zaps:tt/MILLISATS_PER_SAT,replies:ot}}const setNote=e=>{},NoteContext=reactExports.createContext({note:initialNote,setNote});function useNoteContext(){return reactExports.useContext(NoteContext)}const setRelays=e=>{},RelaysContext=reactExports.createContext({relays:DEFAULT_RELAYS,setRelays});function useRelaysContext(){return reactExports.useContext(RelaysContext)}function useNostrEvent(e){const[s,a]=reactExports.useState(!1),[c,h]=reactExports.useState(!1),{setNote:b}=useNoteContext(),{relays:tt}=useRelaysContext();return reactExports.useEffect(()=>{async function nt(ot){a(!0);try{console.log({relays:tt});const st=new NDK({explicitRelayUrls:tt});await st.connect();const{post:ft,author:ht,stats:gt}=await getPostDetails(st,ot),{likes:yt,replies:Et,reposts:wt,zaps:bt}=gt,mt=(ft==null?void 0:ft.content)||"",vt=await parseText(mt),xt=getHTML(vt);b({html:xt,author:ht,createdAt:(ft==null?void 0:ft.created_at)||0,replies:Et,zaps:bt,likes:yt,reposts:wt}),h(!1)}catch{h(!0)}finally{a(!1)}}e&&nt(e)},[e]),{isError:c,isLoading:s}}function useShakeAnimation(e){const[s,a]=reactExports.useState(!1);function c(){a(!0),setTimeout(()=>{a(!1)},600)}return reactExports.useEffect(()=>{e&&c()},[e]),{isAnimate:s,addShakeAnimation:c}}const pressEnterToFindNote="Press Enter to find note";function useSearchInput(){const[e,s]=reactExports.useState(""),[a,c]=reactExports.useState({type:"info",message:""}),{isError:h,isLoading:b}=useNostrEvent(e),{isAnimate:tt,addShakeAnimation:nt}=useShakeAnimation(h);reactExports.useEffect(()=>{c({type:"info",message:""})},[b]),reactExports.useEffect(()=>{h&&c({type:"error",message:"Something went wrong!"})},[h]);function ot(Et){const wt=validateAndGetMatchedNostrEventBech32(Et);wt?s(wt):(nt(),c({type:"error",message:"Invalid note ID or invalid URL!"}))}function st(Et){Et.preventDefault();const wt=Et.currentTarget[0].value;ot(wt)}function ft(Et){setTimeout(()=>{const wt=Et.target.value;ot(wt)})}function ht(Et){Et.target.value===""?c({type:"info",message:""}):a.message!==pressEnterToFindNote&&!b&&c({type:"info",message:pressEnterToFindNote})}function gt(){a.type!=="error"&&c({type:"info",message:""})}function yt(Et){a.message===""&&Et.target.value!==""&&!b&&c({type:"info",message:pressEnterToFindNote})}return{helperMessage:a,isAnimate:tt,isLoading:b,onSubmit:st,onPaste:ft,onInputChange:ht,onInputBlur:gt,onInputFocus:yt}}function SearchBar(){const{helperMessage:e,isLoading:s,isAnimate:a,onInputBlur:c,onInputChange:h,onInputFocus:b,onPaste:tt,onSubmit:nt}=useSearchInput(),ot=reactExports.useRef(null);return ot.current&&s&&ot.current.blur(),jsxRuntimeExports.jsxs(SearchBarWrapper,{className:a?"shake":"",children:[jsxRuntimeExports.jsxs(SearchBarContainer,{children:[jsxRuntimeExports.jsx(SearchIcon,{}),jsxRuntimeExports.jsxs(SearchBarForm,{onSubmit:nt,children:[jsxRuntimeExports.jsx(SearchInput,{type:"text",placeholder:"Paste nostr event id, primal, damus, iris or snort link here",autoComplete:"off",ref:ot,onChange:h,onPaste:tt,onBlur:c,onFocus:b}),s?jsxRuntimeExports.jsx(SearchBarProgressContainer,{children:jsxRuntimeExports.jsx(SearchBarProgress,{})}):null]})]}),e.message&&e.type==="error"?jsxRuntimeExports.jsx(ErrorText,{children:e.message}):jsxRuntimeExports.jsx(HelperText,{children:e.message})]})}const HomePageHeader=dt.header`
    height: 75px;
    padding: 50px 60px 0 60px;

    display: flex;
    justify-content: space-between;
    align-items: center;

    ${tablet(`
        flex-direction: column-reverse;
        height: auto;
        padding: 20px 40px 0 40px;
    `)}
`,HeaderActions=dt.div`
    display: flex;
    align-items: center;
    gap: 12px;
`,breakpoint$1=getBreakpoint();function Header(){return jsxRuntimeExports.jsxs(HomePageHeader,{children:[breakpoint$1==="large"?jsxRuntimeExports.jsx(Logo,{}):null,jsxRuntimeExports.jsx(SearchBar,{}),jsxRuntimeExports.jsxs(HeaderActions,{children:[breakpoint$1==="small"||breakpoint$1==="medium"?jsxRuntimeExports.jsx(Logo,{}):null,jsxRuntimeExports.jsx(HelpButton,{})]})]})}const GradientPickerStyled=dt.div`
    padding: 20px;

    position: absolute;
    left: 10px;
    top: 0px;

    background-color: #222;
    box-shadow: 0 0 15px #444;
    border: 1px solid #71717187;
    border-radius: 6px;

    transform: rotateX(25deg) translateY(-100%);
    will-change: transform, opacity;
    transition-property: transform, opacity;
    transition-duration: 150ms;
    opacity: 0;
    pointer-events: none;
    transition-timing-function: cubic-bezier(.4,0,.2,1);

    display: flex;
    gap: 15px;
`,GradientContainer=dt.button`
    border: none;
    cursor: pointer;
    background: transparent;

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;

    width: max-content;
`,Gradient=dt.div`
    width: 40px;
    height: 40px;
    border-radius: 6px;
    background: ${e=>e.$background};
    transition: box-shadow 0.1s;
    position: relative;

     &::before {
        content: '';
        position: absolute;
        top: -5px;
        left: -5px;
        right: -5px;
        bottom: -5px;
        border: 2px solid transparent;
        transition: transform 0.4s ease, border-color 0.4s ease;
        border-radius: 10px;
    }

    ${e=>e.$isSelected?`
            &::before {
                border-color: #CE66FF; 
                transform: scale(1); 
            }
        `:""}

    &:hover {
        box-shadow: 0 0 2px 4px #ffffff26;
    }

    &:active {
        transform: scale(0.9);
    }
`,GradientName=dt.small`
    color: #FFF;
`;function GradientPicker({gradient:e,onGradientChange:s}){return jsxRuntimeExports.jsx(GradientPickerStyled,{className:"color-picker",children:Object.keys(GRADIENTS).map(a=>jsxRuntimeExports.jsxs(GradientContainer,{onClick:()=>s(a),children:[jsxRuntimeExports.jsx(Gradient,{$background:GRADIENTS[a],$isSelected:e===a}),jsxRuntimeExports.jsx(GradientName,{children:a})]}))})}const ToolbarContainer=dt.ul`
    width: 100px;
    height: max-content;
    border-radius: 8px;
    background-color: #272727;
    padding: 20px 5px 10px 5px;
    margin: none;
    list-style-type: none;

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;

    position: relative;

    ${tablet(`
        flex-direction: row;
        width: auto;
    `)}
`,Tool=dt.button`
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    width: 90%;
    padding: 10px;
    border-radius: 5px;
    transition: background-color 0.1;
    border: none;
    position: relative;

    background: ${e=>e.$withBackground?"linear-gradient(45deg, #CE66FF, #FE983B)":"transparent"};

    & span {
        color: ${e=>e.$withBackground?"#FFF":"#9F9F9F"};
        font-weight: ${e=>e.$withBackground?"600":"normal"};;
    }

    &:hover {
        background-color: #323131;
    }

    &:hover ${GradientPickerStyled} {
        opacity: 1;
        pointer-events: auto;
        transform: translateY(-100%);
    }

    &:active svg, &:active > div {
        transform: scale(0.8);
    }
`,ToolName=dt.span`
    color: #9F9F9F;
    font-size: 12px;
`,ColorTool=dt.div`
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: ${e=>e.$gradient};
    box-shadow: rgba(255, 255, 255, 0.7) 0px 0px 0px 2px, rgba(0, 0, 0, 0.5) 0px 3px 6px;
`,RelaysToolContainer=dt.div`
    position: relative;
    width: 100%;
`,RelaysContainer=dt.aside`
    position: absolute;
    top: 0px;
    right: 0px;
    padding: 20px;
    box-shadow: 0 0 15px #444;
    color: #FFF;
    cursor: default;
    z-index: 100;

    border: 1px solid transparent;
    border-radius: 6px;
    background: 
        linear-gradient(90deg, #222, #222), 
        linear-gradient(to right, #FE983B , #CE66FF);

    background-clip: padding-box, border-box;
    background-origin: padding-box, border-box;

    min-width: 300px;

    display: flex;
    flex-direction: column;
    gap: 36px;

    will-change: transform, opacity;
    transition-property: transform, opacity;
    transition-duration: 150ms;
    transition-timing-function: cubic-bezier(.4,0,.2,1);

    ${tablet(`
        display: none;
        position: fixed;
        left: 0;
        right: 0;
        width: 100vw;
        height: 100vh;
        z-index: 10000;
    `)}
`,RelaysCardHeader=dt.div`
    display: flex;
    justify-content: space-between;
    font-size: 22px
`,CloseButton=dt.button`
    width: 32px;
    height: 32px;
    display: flex;
    justify-content: center;
    align-items: center;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    background-color: transparent;

    &:hover {
        background-color: transparent;
        border: 1px solid #FE3B3B;
    }

    &:focus {
        outline: 1px solid #FE3B3B;
    }
`,InputContainer=dt.div`
    display: flex;
    gap: 8px;
`,Input=dt.input`
    background-color: transparent;
    border: 1px solid #383838;
    border-radius: 6px;
    padding: 12px;
    flex: 1;
    color: #FFF;
`,AddButton=dt.button`
    background-color: #383838;
    width: 42px;
    display: flex;
    justify-content: center;
    align-items: center;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;

    &:hover {
        background-color: transparent;
        border: 1px solid #383838;
    }
`,SaveButton=dt.button`
    border: 1px solid transparent;
    border-radius: 6px;
    background: 
        linear-gradient(90deg, #383838, #383838), 
        linear-gradient(to right, #CE66FF , #FE983B);

    background-clip: padding-box, border-box;
    background-origin: padding-box, border-box;

    width: 100%;
    padding: 10px;
    font-size: 18px;
    font-weight: bold;
    color: #FFF;
    cursor: pointer;
`,RelayList=dt.ul`
    list-style-type: none;
    margin-top: 12px;
    padding: 0;

    display: flex;
    flex-direction: column;
    gap: 2px;
`,RelayItem=dt.li`
    display: flex;
    align-items: center;
    gap: 8px;

    color: #9F9F9F;
    font-size: 14px;
`,breakpoint=getBreakpoint();function RelaysModal({isOpen:e,onClose:s}){const{relays:a,setRelays:c}=useRelaysContext(),[h,b]=reactExports.useState(a||[]),tt=reactExports.useRef(null),[nt,ot]=reactExports.useState(!1),st=yt=>{if(yt.preventDefault(),!tt||!tt.current)return;const Et=tt.current.value;b(wt=>[...wt,Et]),tt.current.value=""},ft=yt=>{b(Et=>Et.filter(wt=>wt!==yt))},ht=()=>{if(h.length===0){ot(!0);return}c(h),s()};let gt={};return breakpoint==="small"||breakpoint==="medium"?gt={display:e?"flex":"none"}:gt={transform:e?"translateX(100%)":"translateX(95%)",opacity:e?1:0,pointerEvents:e?"all":"none"},jsxRuntimeExports.jsxs(RelaysContainer,{className:"relays-modal",style:gt,children:[jsxRuntimeExports.jsxs(RelaysCardHeader,{children:[jsxRuntimeExports.jsx("label",{htmlFor:"relay-address",children:"Relay address"}),jsxRuntimeExports.jsx(CloseButton,{onClick:()=>s(),children:jsxRuntimeExports.jsx(Close,{})})]}),jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx("form",{onSubmit:st,children:jsxRuntimeExports.jsxs(InputContainer,{children:[jsxRuntimeExports.jsx(Input,{id:"relay-address",type:"text",placeholder:"wss://relay.primal.net",ref:tt}),jsxRuntimeExports.jsx(AddButton,{onClick:st,children:jsxRuntimeExports.jsx(Plus,{})})]})}),jsxRuntimeExports.jsxs(RelayList,{children:[nt?jsxRuntimeExports.jsx(ErrorText,{style:{transform:"unset",textAlign:"start"},children:"Set at least one relay"}):null,h.map((yt,Et)=>jsxRuntimeExports.jsxs(RelayItem,{children:[jsxRuntimeExports.jsx("span",{children:yt}),jsxRuntimeExports.jsx(Pointer,{onClick:()=>ft(yt),children:jsxRuntimeExports.jsx(Delete,{})})]},yt+Et))]})]}),jsxRuntimeExports.jsx(SaveButton,{onClick:ht,children:"Save"})]})}function Toolbar({onDownload:e,onCopy:s,showResponse:a,onChangeShowResponse:c,gradient:h,onGradientChange:b}){const[tt,nt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(ToolbarContainer,{children:[jsxRuntimeExports.jsxs(Tool,{children:[jsxRuntimeExports.jsx(GradientPicker,{gradient:h,onGradientChange:b}),jsxRuntimeExports.jsx(ColorTool,{$gradient:GRADIENTS[h]}),jsxRuntimeExports.jsx(ToolName,{children:"Color"})]}),jsxRuntimeExports.jsxs(Tool,{onClick:()=>c(!a),children:[jsxRuntimeExports.jsx(HeartIcon,{isSelected:a}),jsxRuntimeExports.jsx(ToolName,{children:"Response"})]}),jsxRuntimeExports.jsxs(RelaysToolContainer,{children:[jsxRuntimeExports.jsxs(Tool,{onClick:()=>nt(ot=>!ot),children:[jsxRuntimeExports.jsx(Relays,{}),jsxRuntimeExports.jsx(ToolName,{children:"Relays"})]}),jsxRuntimeExports.jsx(RelaysModal,{isOpen:tt,onClose:()=>{nt(!1)}})]}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsxs(Tool,{onClick:s,children:[jsxRuntimeExports.jsx(CopyIcon,{}),jsxRuntimeExports.jsx(ToolName,{children:"Copy"})]}),jsxRuntimeExports.jsxs(Tool,{$withBackground:!0,onClick:e,children:[jsxRuntimeExports.jsx(DownloadIcon,{}),jsxRuntimeExports.jsx(ToolName,{children:"Download"})]})]})}const HomePageContainer=dt.main`
    min-height: 100vh;
    width: 100vw;
    background: rgb(24,25,26);
    background: linear-gradient(130deg, rgba(24,25,26,1) 0%, rgba(39,39,40,1) 100%);
    display: flex;
    flex-direction: column;
`,MainSection=dt.article`
    padding: 20px 60px;

    flex: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;

    ${tablet(`
        flex-direction: column-reverse;
    `)}
`;function HomePage(){const e=reactExports.useRef(null),[s,a]=reactExports.useState(!0),[c,h]=reactExports.useState(GRADIENT.default),{note:b}=useNoteContext();function tt(){const ot=e.current;ot&&getDataURLFromHTMLDOM(ot).then(st=>downloadImage("nostr-note",st))}function nt(){const ot=e.current;ot&&getDataURLFromHTMLDOM(ot).then(copyDataURL)}return jsxRuntimeExports.jsxs(HomePageContainer,{children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs(MainSection,{children:[jsxRuntimeExports.jsx(Toolbar,{onDownload:tt,onCopy:nt,showResponse:s,onChangeShowResponse:ot=>a(ot),gradient:c,onGradientChange:ot=>h(ot)}),jsxRuntimeExports.jsx(Canvas,{ref:e,noteHTML:b.html,note:b,showResponse:s,gradient:GRADIENTS[c]})]}),jsxRuntimeExports.jsx(Footer,{})]})}const existingRelays=getRelaysFromLocalStorage();function App(){const[e,s]=reactExports.useState(initialNote),[a,c]=reactExports.useState(existingRelays&&existingRelays.length>0?existingRelays:DEFAULT_RELAYS);return jsxRuntimeExports.jsx(RelaysContext.Provider,{value:{relays:a,setRelays:h=>{setRelaysInLocalStorage(h),c(h)}},children:jsxRuntimeExports.jsx(NoteContext.Provider,{value:{note:e,setNote:s},children:jsxRuntimeExports.jsx(HomePage,{})})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
