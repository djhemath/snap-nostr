var yn=Object.defineProperty;var wn=(e,s,a)=>s in e?yn(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a;var Nt=(e,s,a)=>wn(e,typeof s!="symbol"?s+"":s,a);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const ot of nt)if(ot.type==="childList")for(const st of ot.addedNodes)st.tagName==="LINK"&&st.rel==="modulepreload"&&tt(st)}).observe(document,{childList:!0,subtree:!0});function a(nt){const ot={};return nt.integrity&&(ot.integrity=nt.integrity),nt.referrerPolicy&&(ot.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?ot.credentials="include":nt.crossOrigin==="anonymous"?ot.credentials="omit":ot.credentials="same-origin",ot}function tt(nt){if(nt.ep)return;nt.ep=!0;const ot=a(nt);fetch(nt.href,ot)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(e){return e===null||typeof e!="object"?null:(e=z$3&&e[z$3]||e["@@iterator"],typeof e=="function"?e:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$2(e,s,a){this.props=e,this.context=s,this.refs=D$3,this.updater=a||B$3}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$2.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(e,s,a){this.props=e,this.context=s,this.refs=D$3,this.updater=a||B$3}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$3(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(e,s,a){var tt,nt={},ot=null,st=null;if(s!=null)for(tt in s.ref!==void 0&&(st=s.ref),s.key!==void 0&&(ot=""+s.key),s)J$1.call(s,tt)&&!L$3.hasOwnProperty(tt)&&(nt[tt]=s[tt]);var ft=arguments.length-2;if(ft===1)nt.children=a;else if(1<ft){for(var ht=Array(ft),gt=0;gt<ft;gt++)ht[gt]=arguments[gt+2];nt.children=ht}if(e&&e.defaultProps)for(tt in ft=e.defaultProps,ft)nt[tt]===void 0&&(nt[tt]=ft[tt]);return{$$typeof:l$1,type:e,key:ot,ref:st,props:nt,_owner:K$2.current}}function N$2(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$3(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return s[a]})}var P$2=/\/+/g;function Q$3(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):s.toString(36)}function R$3(e,s,a,tt,nt){var ot=typeof e;(ot==="undefined"||ot==="boolean")&&(e=null);var st=!1;if(e===null)st=!0;else switch(ot){case"string":case"number":st=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:st=!0}}if(st)return st=e,nt=nt(st),e=tt===""?"."+Q$3(st,0):tt,I$3(nt)?(a="",e!=null&&(a=e.replace(P$2,"$&/")+"/"),R$3(nt,s,a,"",function(gt){return gt})):nt!=null&&(O$3(nt)&&(nt=N$2(nt,a+(!nt.key||st&&st.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+e)),s.push(nt)),1;if(st=0,tt=tt===""?".":tt+":",I$3(e))for(var ft=0;ft<e.length;ft++){ot=e[ft];var ht=tt+Q$3(ot,ft);st+=R$3(ot,s,a,ht,nt)}else if(ht=A$3(e),typeof ht=="function")for(e=ht.call(e),ft=0;!(ot=e.next()).done;)ot=ot.value,ht=tt+Q$3(ot,ft++),st+=R$3(ot,s,a,ht,nt);else if(ot==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return st}function S$3(e,s,a){if(e==null)return e;var tt=[],nt=0;return R$3(e,tt,"","",function(ot){return s.call(a,ot,nt++)}),tt}function T$3(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(e,s,a){S$3(e,function(){s.apply(this,arguments)},a)},count:function(e){var s=0;return S$3(e,function(){s++}),s},toArray:function(e){return S$3(e,function(s){return s})||[]},only:function(e){if(!O$3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var tt=C$3({},e.props),nt=e.key,ot=e.ref,st=e._owner;if(s!=null){if(s.ref!==void 0&&(ot=s.ref,st=K$2.current),s.key!==void 0&&(nt=""+s.key),e.type&&e.type.defaultProps)var ft=e.type.defaultProps;for(ht in s)J$1.call(s,ht)&&!L$3.hasOwnProperty(ht)&&(tt[ht]=s[ht]===void 0&&ft!==void 0?ft[ht]:s[ht])}var ht=arguments.length-2;if(ht===1)tt.children=a;else if(1<ht){ft=Array(ht);for(var gt=0;gt<ht;gt++)ft[gt]=arguments[gt+2];tt.children=ft}return{$$typeof:l$1,type:e.type,key:nt,ref:ot,props:tt,_owner:st}};react_production_min.createContext=function(e){return e={$$typeof:u$1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$3;react_production_min.createFactory=function(e){var s=M$3.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$3,render:e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(e){return{$$typeof:y$2,_payload:{_status:-1,_result:e},_init:T$3}};react_production_min.memo=function(e,s){return{$$typeof:x$2,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$2.transition;V$2.transition={};try{e()}finally{V$2.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$2.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$2.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$2.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$2.current.useEffect(e,s)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(e,s,a){return U$2.current.useImperativeHandle(e,s,a)};react_production_min.useInsertionEffect=function(e,s){return U$2.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$2.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$2.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,a){return U$2.current.useReducer(e,s,a)};react_production_min.useRef=function(e){return U$2.current.useRef(e)};react_production_min.useState=function(e){return U$2.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,a){return U$2.current.useSyncExternalStore(e,s,a)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const o=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$2(e,s,a){var tt,nt={},ot=null,st=null;a!==void 0&&(ot=""+a),s.key!==void 0&&(ot=""+s.key),s.ref!==void 0&&(st=s.ref);for(tt in s)m$3.call(s,tt)&&!p$2.hasOwnProperty(tt)&&(nt[tt]=s[tt]);if(e&&e.defaultProps)for(tt in s=e.defaultProps,s)nt[tt]===void 0&&(nt[tt]=s[tt]);return{$$typeof:k$2,type:e,key:ot,ref:st,props:nt,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(It,Ot){var Ht=It.length;It.push(Ot);e:for(;0<Ht;){var Vt=Ht-1>>>1,Wt=It[Vt];if(0<nt(Wt,Ot))It[Vt]=Ot,It[Ht]=Wt,Ht=Vt;else break e}}function a(It){return It.length===0?null:It[0]}function tt(It){if(It.length===0)return null;var Ot=It[0],Ht=It.pop();if(Ht!==Ot){It[0]=Ht;e:for(var Vt=0,Wt=It.length,Gt=Wt>>>1;Vt<Gt;){var qt=2*(Vt+1)-1,Zt=It[qt],Yt=qt+1,Xt=It[Yt];if(0>nt(Zt,Ht))Yt<Wt&&0>nt(Xt,Zt)?(It[Vt]=Xt,It[Yt]=Ht,Vt=Yt):(It[Vt]=Zt,It[qt]=Ht,Vt=qt);else if(Yt<Wt&&0>nt(Xt,Ht))It[Vt]=Xt,It[Yt]=Ht,Vt=Yt;else break e}}return Ot}function nt(It,Ot){var Ht=It.sortIndex-Ot.sortIndex;return Ht!==0?Ht:It.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ot=performance;e.unstable_now=function(){return ot.now()}}else{var st=Date,ft=st.now();e.unstable_now=function(){return st.now()-ft}}var ht=[],gt=[],mt=1,yt=null,wt=3,vt=!1,xt=!1,Et=!1,kt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(It){for(var Ot=a(gt);Ot!==null;){if(Ot.callback===null)tt(gt);else if(Ot.startTime<=It)tt(gt),Ot.sortIndex=Ot.expirationTime,s(ht,Ot);else break;Ot=a(gt)}}function St(It){if(Et=!1,_t(It),!xt)if(a(ht)!==null)xt=!0,Rt(Pt);else{var Ot=a(gt);Ot!==null&&jt(St,Ot.startTime-It)}}function Pt(It,Ot){xt=!1,Et&&(Et=!1,bt(Bt),Bt=-1),vt=!0;var Ht=wt;try{for(_t(Ot),yt=a(ht);yt!==null&&(!(yt.expirationTime>Ot)||It&&!Lt());){var Vt=yt.callback;if(typeof Vt=="function"){yt.callback=null,wt=yt.priorityLevel;var Wt=Vt(yt.expirationTime<=Ot);Ot=e.unstable_now(),typeof Wt=="function"?yt.callback=Wt:yt===a(ht)&&tt(ht),_t(Ot)}else tt(ht);yt=a(ht)}if(yt!==null)var Gt=!0;else{var qt=a(gt);qt!==null&&jt(St,qt.startTime-Ot),Gt=!1}return Gt}finally{yt=null,wt=Ht,vt=!1}}var At=!1,Tt=null,Bt=-1,zt=5,Dt=-1;function Lt(){return!(e.unstable_now()-Dt<zt)}function Ft(){if(Tt!==null){var It=e.unstable_now();Dt=It;var Ot=!0;try{Ot=Tt(!0,It)}finally{Ot?Ut():(At=!1,Tt=null)}}else At=!1}var Ut;if(typeof $t=="function")Ut=function(){$t(Ft)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,Ct=Mt.port2;Mt.port1.onmessage=Ft,Ut=function(){Ct.postMessage(null)}}else Ut=function(){kt(Ft,0)};function Rt(It){Tt=It,At||(At=!0,Ut())}function jt(It,Ot){Bt=kt(function(){It(e.unstable_now())},Ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(It){It.callback=null},e.unstable_continueExecution=function(){xt||vt||(xt=!0,Rt(Pt))},e.unstable_forceFrameRate=function(It){0>It||125<It?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):zt=0<It?Math.floor(1e3/It):5},e.unstable_getCurrentPriorityLevel=function(){return wt},e.unstable_getFirstCallbackNode=function(){return a(ht)},e.unstable_next=function(It){switch(wt){case 1:case 2:case 3:var Ot=3;break;default:Ot=wt}var Ht=wt;wt=Ot;try{return It()}finally{wt=Ht}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(It,Ot){switch(It){case 1:case 2:case 3:case 4:case 5:break;default:It=3}var Ht=wt;wt=It;try{return Ot()}finally{wt=Ht}},e.unstable_scheduleCallback=function(It,Ot,Ht){var Vt=e.unstable_now();switch(typeof Ht=="object"&&Ht!==null?(Ht=Ht.delay,Ht=typeof Ht=="number"&&0<Ht?Vt+Ht:Vt):Ht=Vt,It){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=Ht+Wt,It={id:mt++,callback:Ot,priorityLevel:It,startTime:Ht,expirationTime:Wt,sortIndex:-1},Ht>Vt?(It.sortIndex=Ht,s(gt,It),a(ht)===null&&It===a(gt)&&(Et?(bt(Bt),Bt=-1):Et=!0,jt(St,Ht-Vt))):(It.sortIndex=Wt,s(ht,It),xt||vt||(xt=!0,Rt(Pt))),It},e.unstable_shouldYield=Lt,e.unstable_wrapCallback=function(It){var Ot=wt;return function(){var Ht=wt;wt=Ot;try{return It.apply(this,arguments)}finally{wt=Ht}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,a,tt){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return tt?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,a,tt){if(s===null||typeof s>"u"||pa(e,s,a,tt))return!0;if(tt)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$2(e,s,a,tt,nt,ot,st){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=a,this.propertyName=e,this.type=s,this.sanitizeURL=ot,this.removeEmptyString=st}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z$2[e]=new v$2(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z$2[s]=new v$2(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z$2[e]=new v$2(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z$2[e]=new v$2(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z$2[e]=new v$2(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z$2[e]=new v$2(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z$2[e]=new v$2(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z$2[e]=new v$2(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z$2[e]=new v$2(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z$2[s]=new v$2(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z$2[s]=new v$2(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z$2[s]=new v$2(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z$2[e]=new v$2(e,1,!1,e.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z$2[e]=new v$2(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,a,tt){var nt=z$2.hasOwnProperty(s)?z$2[s]:null;(nt!==null?nt.type!==0:tt||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,a,nt,tt)&&(a=null),tt||nt===null?oa(s)&&(a===null?e.removeAttribute(s):e.setAttribute(s,""+a)):nt.mustUseProperty?e[nt.propertyName]=a===null?nt.type===3?!1:"":a:(s=nt.attributeName,tt=nt.attributeNamespace,a===null?e.removeAttribute(s):(nt=nt.type,a=nt===3||nt===4&&a===!0?"":""+a,tt?e.setAttributeNS(tt,s,a):e.setAttribute(s,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A$2=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(gt){var tt=gt}Reflect.construct(e,[],s)}else{try{s.call()}catch(gt){tt=gt}e.call(s.prototype)}else{try{throw Error()}catch(gt){tt=gt}e()}}catch(gt){if(gt&&tt&&typeof gt.stack=="string"){for(var nt=gt.stack.split(`
`),ot=tt.stack.split(`
`),st=nt.length-1,ft=ot.length-1;1<=st&&0<=ft&&nt[st]!==ot[ft];)ft--;for(;1<=st&&0<=ft;st--,ft--)if(nt[st]!==ot[ft]){if(st!==1||ft!==1)do if(st--,ft--,0>ft||nt[st]!==ot[ft]){var ht=`
`+nt[st].replace(" at new "," at ");return e.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",e.displayName)),ht}while(1<=st&&0<=ft);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),tt=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var nt=a.get,ot=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return nt.call(this)},set:function(st){tt=""+st,ot.call(this,st)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return tt},setValue:function(st){tt=""+st},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),tt="";return e&&(tt=Ta(e)?e.checked?"true":"false":e.value),e=tt,e!==a?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var a=s.checked;return A$2({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Za(e,s){var a=s.defaultValue==null?"":s.defaultValue,tt=s.checked!=null?s.checked:s.defaultChecked;a=Sa(s.value!=null?s.value:a),e._wrapperState={initialChecked:tt,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var a=Sa(s.value),tt=s.type;if(a!=null)tt==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(tt==="submit"||tt==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,a):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var tt=s.type;if(!(tt!=="submit"&&tt!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,a||s===e.value||(e.value=s),e.defaultValue=s}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cb(e,s,a){(s!=="number"||Xa(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var eb=Array.isArray;function fb(e,s,a,tt){if(e=e.options,s){s={};for(var nt=0;nt<a.length;nt++)s["$"+a[nt]]=!0;for(a=0;a<e.length;a++)nt=s.hasOwnProperty("$"+e[a].value),e[a].selected!==nt&&(e[a].selected=nt),nt&&tt&&(e[a].defaultSelected=!0)}else{for(a=""+Sa(a),s=null,nt=0;nt<e.length;nt++){if(e[nt].value===a){e[nt].selected=!0,tt&&(e[nt].defaultSelected=!0);return}s!==null||e[nt].disabled||(s=e[nt])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$2({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(p$1(92));if(eb(a)){if(1<a.length)throw Error(p$1(93));a=a[0]}s=a}s==null&&(s=""),a=s}e._wrapperState={initialValue:Sa(a)}}function ib(e,s){var a=Sa(s.value),tt=Sa(s.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),s.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),tt!=null&&(e.defaultValue=""+tt)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,tt,nt){MSApp.execUnsafeLocalFunction(function(){return e(s,a,tt,nt)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var a in s)if(s.hasOwnProperty(a)){var tt=a.indexOf("--")===0,nt=rb(a,s[a],tt);a==="float"&&(a="cssFloat"),tt?e.setProperty(a,nt):e[a]=nt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p$1(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,a){if(Ib)return e(s,a);Ib=!0;try{return Gb(e,s,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var a=e.stateNode;if(a===null)return null;var tt=Db(a);if(tt===null)return null;a=tt[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(e=e.type,tt=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!tt;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p$1(231,s,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,a,tt,nt,ot,st,ft,ht){var gt=Array.prototype.slice.call(arguments,3);try{s.apply(a,gt)}catch(mt){this.onError(mt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,a,tt,nt,ot,st,ft,ht){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,a,tt,nt,ot,st,ft,ht){if(Tb.apply(this,arguments),Ob){if(Ob){var gt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=gt)}}function Vb(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p$1(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p$1(188));return s!==e?null:e}for(var a=e,tt=s;;){var nt=a.return;if(nt===null)break;var ot=nt.alternate;if(ot===null){if(tt=nt.return,tt!==null){a=tt;continue}break}if(nt.child===ot.child){for(ot=nt.child;ot;){if(ot===a)return Xb(nt),e;if(ot===tt)return Xb(nt),s;ot=ot.sibling}throw Error(p$1(188))}if(a.return!==tt.return)a=nt,tt=ot;else{for(var st=!1,ft=nt.child;ft;){if(ft===a){st=!0,a=nt,tt=ot;break}if(ft===tt){st=!0,tt=nt,a=ot;break}ft=ft.sibling}if(!st){for(ft=ot.child;ft;){if(ft===a){st=!0,a=ot,tt=nt;break}if(ft===tt){st=!0,tt=ot,a=nt;break}ft=ft.sibling}if(!st)throw Error(p$1(189))}}if(a.alternate!==tt)throw Error(p$1(190))}if(a.tag!==3)throw Error(p$1(188));return a.stateNode.current===a?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var a=e.pendingLanes;if(a===0)return 0;var tt=0,nt=e.suspendedLanes,ot=e.pingedLanes,st=a&268435455;if(st!==0){var ft=st&~nt;ft!==0?tt=tc(ft):(ot&=st,ot!==0&&(tt=tc(ot)))}else st=a&~nt,st!==0?tt=tc(st):ot!==0&&(tt=tc(ot));if(tt===0)return 0;if(s!==0&&s!==tt&&!(s&nt)&&(nt=tt&-tt,ot=s&-s,nt>=ot||nt===16&&(ot&4194240)!==0))return s;if(tt&4&&(tt|=a&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=tt;0<s;)a=31-oc(s),nt=1<<a,tt|=e[a],s&=~nt;return tt}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var a=e.suspendedLanes,tt=e.pingedLanes,nt=e.expirationTimes,ot=e.pendingLanes;0<ot;){var st=31-oc(ot),ft=1<<st,ht=nt[st];ht===-1?(!(ft&a)||ft&tt)&&(nt[st]=vc(ft,s)):ht<=s&&(e.expiredLanes|=ft),ot&=~ft}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ac(e,s,a){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=a}function Bc(e,s){var a=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var tt=e.eventTimes;for(e=e.expirationTimes;0<a;){var nt=31-oc(a),ot=1<<nt;s[nt]=0,tt[nt]=-1,e[nt]=-1,a&=~ot}}function Cc(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var tt=31-oc(a),nt=1<<tt;nt&s|e[tt]&s&&(e[tt]|=s),a&=~nt}}var C$2=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,a,tt,nt,ot){return e===null||e.nativeEvent!==ot?(e={blockedOn:s,domEventName:a,eventSystemFlags:tt,nativeEvent:ot,targetContainers:[nt]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=tt,s=e.targetContainers,nt!==null&&s.indexOf(nt)===-1&&s.push(nt),e)}function Uc(e,s,a,tt,nt){switch(s){case"focusin":return Lc=Tc(Lc,e,s,a,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,e,s,a,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,e,s,a,tt,nt),!0;case"pointerover":var ot=nt.pointerId;return Oc.set(ot,Tc(Oc.get(ot)||null,e,s,a,tt,nt)),!0;case"gotpointercapture":return ot=nt.pointerId,Pc.set(ot,Tc(Pc.get(ot)||null,e,s,a,tt,nt)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var a=Vb(s);if(a!==null){if(s=a.tag,s===13){if(s=Wb(a),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var tt=new a.constructor(a.type,a);wb=tt,a.target.dispatchEvent(tt),wb=null}else return s=Cb(a),s!==null&&Fc(s),e.blockedOn=a,!1;s.shift()}return!0}function Zc(e,s,a){Xc(e)&&a.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(nt){return ad(nt,e)}if(0<Kc.length){ad(Kc[0],e);for(var a=1;a<Kc.length;a++){var tt=Kc[a];tt.blockedOn===e&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),a=0;a<Qc.length;a++)tt=Qc[a],tt.blockedOn===e&&(tt.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,a,tt){var nt=C$2,ot=cd.transition;cd.transition=null;try{C$2=1,fd(e,s,a,tt)}finally{C$2=nt,cd.transition=ot}}function gd(e,s,a,tt){var nt=C$2,ot=cd.transition;cd.transition=null;try{C$2=4,fd(e,s,a,tt)}finally{C$2=nt,cd.transition=ot}}function fd(e,s,a,tt){if(dd){var nt=Yc(e,s,a,tt);if(nt===null)hd(e,s,tt,id,a),Sc(e,tt);else if(Uc(nt,e,s,a,tt))tt.stopPropagation();else if(Sc(e,tt),s&4&&-1<Rc.indexOf(e)){for(;nt!==null;){var ot=Cb(nt);if(ot!==null&&Ec(ot),ot=Yc(e,s,a,tt),ot===null&&hd(e,s,tt,id,a),ot===nt)break;nt=ot}nt!==null&&tt.stopPropagation()}else hd(e,s,tt,null,a)}}var id=null;function Yc(e,s,a,tt){if(id=null,e=xb(tt),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(a=s.tag,a===13){if(e=Wb(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,a=s.length,tt,nt="value"in kd?kd.value:kd.textContent,ot=nt.length;for(e=0;e<a&&s[e]===nt[e];e++);var st=a-e;for(tt=1;tt<=st&&s[a-tt]===nt[ot-tt];tt++);return md=nt.slice(e,1<tt?1-tt:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(a,tt,nt,ot,st){this._reactName=a,this._targetInst=nt,this.type=tt,this.nativeEvent=ot,this.target=st,this.currentTarget=null;for(var ft in e)e.hasOwnProperty(ft)&&(a=e[ft],this[ft]=a?a(ot):ot[ft]);return this.isDefaultPrevented=(ot.defaultPrevented!=null?ot.defaultPrevented:ot.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$2=!1;function ge$2(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie$1=!1;function je$1(e,s){switch(e){case"compositionend":return he$1(s);case"keypress":return s.which!==32?null:(fe$2=!0,ee$2);case"textInput":return e=s.data,e===ee$2&&fe$2?null:e;default:return null}}function ke$1(e,s){if(ie$1)return e==="compositionend"||!ae$1&&ge$2(e,s)?(e=nd(),md=ld=kd=null,ie$1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le$1[e.type]:s==="textarea"}function ne$1(e,s,a,tt){Eb(tt),s=oe$1(s,"onChange"),0<s.length&&(a=new td("onChange","change",null,a,tt),e.push({event:a,listeners:s}))}var pe=null,qe$1=null;function re$1(e){se$1(e,0)}function te$1(e){var s=ue$1(e);if(Wa(s))return e}function ve$1(e,s){if(e==="change")return s}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be),qe$1=pe=null)}function Be(e){if(e.propertyName==="value"&&te$1(qe$1)){var s=[];ne$1(s,qe$1,e,xb(e)),Jb(re$1,s)}}function Ce$1(e,s,a){e==="focusin"?(Ae$1(),pe=s,qe$1=a,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae$1()}function De$1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$1(qe$1)}function Ee$1(e,s){if(e==="click")return te$1(s)}function Fe$1(e,s){if(e==="input"||e==="change")return te$1(s)}function Ge$1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(e,s){if(He$1(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),tt=Object.keys(s);if(a.length!==tt.length)return!1;for(tt=0;tt<a.length;tt++){var nt=a[tt];if(!ja.call(s,nt)||!He$1(e[nt],s[nt]))return!1}return!0}function Je$1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke$1(e,s){var a=Je$1(e);e=0;for(var tt;a;){if(a.nodeType===3){if(tt=e+a.textContent.length,e<=s&&tt>=s)return{node:a,offset:s-e};e=tt}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je$1(a)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me$1(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne$1(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe$1(e){var s=Me$1(),a=e.focusedElem,tt=e.selectionRange;if(s!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(tt!==null&&Ne$1(a)){if(s=tt.start,e=tt.end,e===void 0&&(e=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(e,a.value.length);else if(e=(s=a.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var nt=a.textContent.length,ot=Math.min(tt.start,nt);tt=tt.end===void 0?ot:Math.min(tt.end,nt),!e.extend&&ot>tt&&(nt=tt,tt=ot,ot=nt),nt=Ke$1(a,ot);var st=Ke$1(a,tt);nt&&st&&(e.rangeCount!==1||e.anchorNode!==nt.node||e.anchorOffset!==nt.offset||e.focusNode!==st.node||e.focusOffset!==st.offset)&&(s=s.createRange(),s.setStart(nt.node,nt.offset),e.removeAllRanges(),ot>tt?(e.addRange(s),e.extend(st.node,st.offset)):(s.setEnd(st.node,st.offset),e.addRange(s)))}}for(s=[],e=a;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)e=s[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(e,s,a){var tt=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(tt)||(tt=Qe$1,"selectionStart"in tt&&Ne$1(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se$1&&Ie$1(Se$1,tt)||(Se$1=tt,tt=oe$1(Re$1,"onSelect"),0<tt.length&&(s=new td("onSelect","select",null,s,a),e.push({event:s,listeners:tt}),s.target=Qe$1)))}function Ve$1(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(e){if(Xe$1[e])return Xe$1[e];if(!We$1[e])return e;var s=We$1[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ye)return Xe$1[e]=s[a];return e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,a){var tt=e.type||"unknown-event";e.currentTarget=a,Ub(tt,s,void 0,e),e.currentTarget=null}function se$1(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var tt=e[a],nt=tt.event;tt=tt.listeners;e:{var ot=void 0;if(s)for(var st=tt.length-1;0<=st;st--){var ft=tt[st],ht=ft.instance,gt=ft.currentTarget;if(ft=ft.listener,ht!==ot&&nt.isPropagationStopped())break e;nf(nt,ft,gt),ot=ht}else for(st=0;st<tt.length;st++){if(ft=tt[st],ht=ft.instance,gt=ft.currentTarget,ft=ft.listener,ht!==ot&&nt.isPropagationStopped())break e;nf(nt,ft,gt),ot=ht}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D$2(e,s){var a=s[of];a===void 0&&(a=s[of]=new Set);var tt=e+"__bubble";a.has(tt)||(pf(s,e,2,!1),a.add(tt))}function qf(e,s,a){var tt=0;s&&(tt|=4),pf(a,e,tt,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,e),qf(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,a,tt){switch(jd(s)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}a=nt.bind(null,s,a,e),nt=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(nt=!0),tt?nt!==void 0?e.addEventListener(s,a,{capture:!0,passive:nt}):e.addEventListener(s,a,!0):nt!==void 0?e.addEventListener(s,a,{passive:nt}):e.addEventListener(s,a,!1)}function hd(e,s,a,tt,nt){var ot=tt;if(!(s&1)&&!(s&2)&&tt!==null)e:for(;;){if(tt===null)return;var st=tt.tag;if(st===3||st===4){var ft=tt.stateNode.containerInfo;if(ft===nt||ft.nodeType===8&&ft.parentNode===nt)break;if(st===4)for(st=tt.return;st!==null;){var ht=st.tag;if((ht===3||ht===4)&&(ht=st.stateNode.containerInfo,ht===nt||ht.nodeType===8&&ht.parentNode===nt))return;st=st.return}for(;ft!==null;){if(st=Wc(ft),st===null)return;if(ht=st.tag,ht===5||ht===6){tt=ot=st;continue e}ft=ft.parentNode}}tt=tt.return}Jb(function(){var gt=ot,mt=xb(a),yt=[];e:{var wt=df.get(e);if(wt!==void 0){var vt=td,xt=e;switch(e){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":vt=Rd;break;case"focusin":xt="focus",vt=Fd;break;case"focusout":xt="blur",vt=Fd;break;case"beforeblur":case"afterblur":vt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Vd;break;case $e$1:case af:case bf:vt=Hd;break;case cf:vt=Xd;break;case"scroll":vt=vd;break;case"wheel":vt=Zd;break;case"copy":case"cut":case"paste":vt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Td}var Et=(s&4)!==0,kt=!Et&&e==="scroll",bt=Et?wt!==null?wt+"Capture":null:wt;Et=[];for(var $t=gt,_t;$t!==null;){_t=$t;var St=_t.stateNode;if(_t.tag===5&&St!==null&&(_t=St,bt!==null&&(St=Kb($t,bt),St!=null&&Et.push(tf($t,St,_t)))),kt)break;$t=$t.return}0<Et.length&&(wt=new vt(wt,xt,null,a,mt),yt.push({event:wt,listeners:Et}))}}if(!(s&7)){e:{if(wt=e==="mouseover"||e==="pointerover",vt=e==="mouseout"||e==="pointerout",wt&&a!==wb&&(xt=a.relatedTarget||a.fromElement)&&(Wc(xt)||xt[uf]))break e;if((vt||wt)&&(wt=mt.window===mt?mt:(wt=mt.ownerDocument)?wt.defaultView||wt.parentWindow:window,vt?(xt=a.relatedTarget||a.toElement,vt=gt,xt=xt?Wc(xt):null,xt!==null&&(kt=Vb(xt),xt!==kt||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(vt=null,xt=gt),vt!==xt)){if(Et=Bd,St="onMouseLeave",bt="onMouseEnter",$t="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Td,St="onPointerLeave",bt="onPointerEnter",$t="pointer"),kt=vt==null?wt:ue$1(vt),_t=xt==null?wt:ue$1(xt),wt=new Et(St,$t+"leave",vt,a,mt),wt.target=kt,wt.relatedTarget=_t,St=null,Wc(mt)===gt&&(Et=new Et(bt,$t+"enter",xt,a,mt),Et.target=_t,Et.relatedTarget=kt,St=Et),kt=St,vt&&xt)t:{for(Et=vt,bt=xt,$t=0,_t=Et;_t;_t=vf(_t))$t++;for(_t=0,St=bt;St;St=vf(St))_t++;for(;0<$t-_t;)Et=vf(Et),$t--;for(;0<_t-$t;)bt=vf(bt),_t--;for(;$t--;){if(Et===bt||bt!==null&&Et===bt.alternate)break t;Et=vf(Et),bt=vf(bt)}Et=null}else Et=null;vt!==null&&wf(yt,wt,vt,Et,!1),xt!==null&&kt!==null&&wf(yt,kt,xt,Et,!0)}}e:{if(wt=gt?ue$1(gt):window,vt=wt.nodeName&&wt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&wt.type==="file")var Pt=ve$1;else if(me(wt))if(we$1)Pt=Fe$1;else{Pt=De$1;var At=Ce$1}else(vt=wt.nodeName)&&vt.toLowerCase()==="input"&&(wt.type==="checkbox"||wt.type==="radio")&&(Pt=Ee$1);if(Pt&&(Pt=Pt(e,gt))){ne$1(yt,Pt,a,mt);break e}At&&At(e,wt,gt),e==="focusout"&&(At=wt._wrapperState)&&At.controlled&&wt.type==="number"&&cb(wt,"number",wt.value)}switch(At=gt?ue$1(gt):window,e){case"focusin":(me(At)||At.contentEditable==="true")&&(Qe$1=At,Re$1=gt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(yt,a,mt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(yt,a,mt)}var Tt;if(ae$1)e:{switch(e){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ie$1?ge$2(e,a)&&(Bt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Bt="onCompositionStart");Bt&&(de&&a.locale!=="ko"&&(ie$1||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ie$1&&(Tt=nd()):(kd=mt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),At=oe$1(gt,Bt),0<At.length&&(Bt=new Ld(Bt,e,null,a,mt),yt.push({event:Bt,listeners:At}),Tt?Bt.data=Tt:(Tt=he$1(a),Tt!==null&&(Bt.data=Tt)))),(Tt=ce$1?je$1(e,a):ke$1(e,a))&&(gt=oe$1(gt,"onBeforeInput"),0<gt.length&&(mt=new Ld("onBeforeInput","beforeinput",null,a,mt),yt.push({event:mt,listeners:gt}),mt.data=Tt))}se$1(yt,s)})}function tf(e,s,a){return{instance:e,listener:s,currentTarget:a}}function oe$1(e,s){for(var a=s+"Capture",tt=[];e!==null;){var nt=e,ot=nt.stateNode;nt.tag===5&&ot!==null&&(nt=ot,ot=Kb(e,a),ot!=null&&tt.unshift(tf(e,ot,nt)),ot=Kb(e,s),ot!=null&&tt.push(tf(e,ot,nt))),e=e.return}return tt}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,a,tt,nt){for(var ot=s._reactName,st=[];a!==null&&a!==tt;){var ft=a,ht=ft.alternate,gt=ft.stateNode;if(ht!==null&&ht===tt)break;ft.tag===5&&gt!==null&&(ft=gt,nt?(ht=Kb(a,ot),ht!=null&&st.unshift(tf(a,ht,ft))):nt||(ht=Kb(a,ot),ht!=null&&st.push(tf(a,ht,ft)))),a=a.return}st.length!==0&&e.push({event:s,listeners:st})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,a){if(s=zf(s),zf(e)!==s&&a)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var a=s,tt=0;do{var nt=a.nextSibling;if(e.removeChild(a),nt&&nt.nodeType===8)if(a=nt.data,a==="/$"){if(tt===0){e.removeChild(nt),bd(s);return}tt--}else a!=="$"&&a!=="$?"&&a!=="$!"||tt++;a=nt}while(a);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var a=e.parentNode;a;){if(s=a[uf]||a[Of]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Mf(e);e!==null;){if(a=e[Of])return a;e=Mf(e)}return s}e=a,a=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue$1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$1(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E$1(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var a=e.type.contextTypes;if(!a)return Vf;var tt=e.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===s)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},ot;for(ot in a)nt[ot]=s[ot];return tt&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(e,s,a){if(H$2.current!==Vf)throw Error(p$1(168));G$1(H$2,s),G$1(Wf,a)}function bg(e,s,a){var tt=e.stateNode;if(s=s.childContextTypes,typeof tt.getChildContext!="function")return a;tt=tt.getChildContext();for(var nt in tt)if(!(nt in s))throw Error(p$1(108,Ra(e)||"Unknown",nt));return A$2({},a,tt)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,e),G$1(Wf,Wf.current),!0}function dg(e,s,a){var tt=e.stateNode;if(!tt)throw Error(p$1(169));a?(e=bg(e,s,Xf),tt.__reactInternalMemoizedMergedChildContext=e,E$1(Wf),E$1(H$2),G$1(H$2,e)):E$1(Wf),G$1(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C$2;try{var a=eg;for(C$2=1;e<a.length;e++){var tt=a[e];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),nt}finally{C$2=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var tt=rg;e=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),a+=1;var ot=32-oc(s)+nt;if(30<ot){var st=nt-nt%5;ot=(tt&(1<<st)-1).toString(32),tt>>=st,nt-=st,rg=1<<32-oc(s)+nt|a<<nt|tt,sg=ot+e}else rg=1<<ot|a<<nt|tt,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(e,s){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=e,s=e.deletions,s===null?(e.deletions=[a],e.flags|=16):s.push(a)}function Cg(e,s){switch(e.tag){case 5:var a=e.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=s,a.return=e,e.child=a,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I$2){var s=yg;if(s){var a=s;if(!Cg(e,s)){if(Dg(e))throw Error(p$1(418));s=Lf(a.nextSibling);var tt=xg;s&&Cg(e,s)?Ag(tt,a):(e.flags=e.flags&-4097|2,I$2=!1,xg=e)}}else{if(Dg(e))throw Error(p$1(418));e.flags=e.flags&-4097|2,I$2=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I$2)return Fg(e),I$2=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p$1(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$1(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$1(309));var tt=a.stateNode}if(!tt)throw Error(p$1(147,e));var nt=tt,ot=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===ot?s.ref:(s=function(st){var ft=nt.refs;st===null?delete ft[ot]:ft[ot]=st},s._stringRef=ot,s)}if(typeof e!="string")throw Error(p$1(284));if(!a._owner)throw Error(p$1(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p$1(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(bt,$t){if(e){var _t=bt.deletions;_t===null?(bt.deletions=[$t],bt.flags|=16):_t.push($t)}}function a(bt,$t){if(!e)return null;for(;$t!==null;)s(bt,$t),$t=$t.sibling;return null}function tt(bt,$t){for(bt=new Map;$t!==null;)$t.key!==null?bt.set($t.key,$t):bt.set($t.index,$t),$t=$t.sibling;return bt}function nt(bt,$t){return bt=Pg(bt,$t),bt.index=0,bt.sibling=null,bt}function ot(bt,$t,_t){return bt.index=_t,e?(_t=bt.alternate,_t!==null?(_t=_t.index,_t<$t?(bt.flags|=2,$t):_t):(bt.flags|=2,$t)):(bt.flags|=1048576,$t)}function st(bt){return e&&bt.alternate===null&&(bt.flags|=2),bt}function ft(bt,$t,_t,St){return $t===null||$t.tag!==6?($t=Qg(_t,bt.mode,St),$t.return=bt,$t):($t=nt($t,_t),$t.return=bt,$t)}function ht(bt,$t,_t,St){var Pt=_t.type;return Pt===ya?mt(bt,$t,_t.props.children,St,_t.key):$t!==null&&($t.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&Ng(Pt)===$t.type)?(St=nt($t,_t.props),St.ref=Lg(bt,$t,_t),St.return=bt,St):(St=Rg(_t.type,_t.key,_t.props,null,bt.mode,St),St.ref=Lg(bt,$t,_t),St.return=bt,St)}function gt(bt,$t,_t,St){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==_t.containerInfo||$t.stateNode.implementation!==_t.implementation?($t=Sg(_t,bt.mode,St),$t.return=bt,$t):($t=nt($t,_t.children||[]),$t.return=bt,$t)}function mt(bt,$t,_t,St,Pt){return $t===null||$t.tag!==7?($t=Tg(_t,bt.mode,St,Pt),$t.return=bt,$t):($t=nt($t,_t),$t.return=bt,$t)}function yt(bt,$t,_t){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=Qg(""+$t,bt.mode,_t),$t.return=bt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return _t=Rg($t.type,$t.key,$t.props,null,bt.mode,_t),_t.ref=Lg(bt,null,$t),_t.return=bt,_t;case wa:return $t=Sg($t,bt.mode,_t),$t.return=bt,$t;case Ha:var St=$t._init;return yt(bt,St($t._payload),_t)}if(eb($t)||Ka($t))return $t=Tg($t,bt.mode,_t,null),$t.return=bt,$t;Mg(bt,$t)}return null}function wt(bt,$t,_t,St){var Pt=$t!==null?$t.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Pt!==null?null:ft(bt,$t,""+_t,St);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return _t.key===Pt?ht(bt,$t,_t,St):null;case wa:return _t.key===Pt?gt(bt,$t,_t,St):null;case Ha:return Pt=_t._init,wt(bt,$t,Pt(_t._payload),St)}if(eb(_t)||Ka(_t))return Pt!==null?null:mt(bt,$t,_t,St,null);Mg(bt,_t)}return null}function vt(bt,$t,_t,St,Pt){if(typeof St=="string"&&St!==""||typeof St=="number")return bt=bt.get(_t)||null,ft($t,bt,""+St,Pt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return bt=bt.get(St.key===null?_t:St.key)||null,ht($t,bt,St,Pt);case wa:return bt=bt.get(St.key===null?_t:St.key)||null,gt($t,bt,St,Pt);case Ha:var At=St._init;return vt(bt,$t,_t,At(St._payload),Pt)}if(eb(St)||Ka(St))return bt=bt.get(_t)||null,mt($t,bt,St,Pt,null);Mg($t,St)}return null}function xt(bt,$t,_t,St){for(var Pt=null,At=null,Tt=$t,Bt=$t=0,zt=null;Tt!==null&&Bt<_t.length;Bt++){Tt.index>Bt?(zt=Tt,Tt=null):zt=Tt.sibling;var Dt=wt(bt,Tt,_t[Bt],St);if(Dt===null){Tt===null&&(Tt=zt);break}e&&Tt&&Dt.alternate===null&&s(bt,Tt),$t=ot(Dt,$t,Bt),At===null?Pt=Dt:At.sibling=Dt,At=Dt,Tt=zt}if(Bt===_t.length)return a(bt,Tt),I$2&&tg(bt,Bt),Pt;if(Tt===null){for(;Bt<_t.length;Bt++)Tt=yt(bt,_t[Bt],St),Tt!==null&&($t=ot(Tt,$t,Bt),At===null?Pt=Tt:At.sibling=Tt,At=Tt);return I$2&&tg(bt,Bt),Pt}for(Tt=tt(bt,Tt);Bt<_t.length;Bt++)zt=vt(Tt,bt,Bt,_t[Bt],St),zt!==null&&(e&&zt.alternate!==null&&Tt.delete(zt.key===null?Bt:zt.key),$t=ot(zt,$t,Bt),At===null?Pt=zt:At.sibling=zt,At=zt);return e&&Tt.forEach(function(Lt){return s(bt,Lt)}),I$2&&tg(bt,Bt),Pt}function Et(bt,$t,_t,St){var Pt=Ka(_t);if(typeof Pt!="function")throw Error(p$1(150));if(_t=Pt.call(_t),_t==null)throw Error(p$1(151));for(var At=Pt=null,Tt=$t,Bt=$t=0,zt=null,Dt=_t.next();Tt!==null&&!Dt.done;Bt++,Dt=_t.next()){Tt.index>Bt?(zt=Tt,Tt=null):zt=Tt.sibling;var Lt=wt(bt,Tt,Dt.value,St);if(Lt===null){Tt===null&&(Tt=zt);break}e&&Tt&&Lt.alternate===null&&s(bt,Tt),$t=ot(Lt,$t,Bt),At===null?Pt=Lt:At.sibling=Lt,At=Lt,Tt=zt}if(Dt.done)return a(bt,Tt),I$2&&tg(bt,Bt),Pt;if(Tt===null){for(;!Dt.done;Bt++,Dt=_t.next())Dt=yt(bt,Dt.value,St),Dt!==null&&($t=ot(Dt,$t,Bt),At===null?Pt=Dt:At.sibling=Dt,At=Dt);return I$2&&tg(bt,Bt),Pt}for(Tt=tt(bt,Tt);!Dt.done;Bt++,Dt=_t.next())Dt=vt(Tt,bt,Bt,Dt.value,St),Dt!==null&&(e&&Dt.alternate!==null&&Tt.delete(Dt.key===null?Bt:Dt.key),$t=ot(Dt,$t,Bt),At===null?Pt=Dt:At.sibling=Dt,At=Dt);return e&&Tt.forEach(function(Ft){return s(bt,Ft)}),I$2&&tg(bt,Bt),Pt}function kt(bt,$t,_t,St){if(typeof _t=="object"&&_t!==null&&_t.type===ya&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:e:{for(var Pt=_t.key,At=$t;At!==null;){if(At.key===Pt){if(Pt=_t.type,Pt===ya){if(At.tag===7){a(bt,At.sibling),$t=nt(At,_t.props.children),$t.return=bt,bt=$t;break e}}else if(At.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&Ng(Pt)===At.type){a(bt,At.sibling),$t=nt(At,_t.props),$t.ref=Lg(bt,At,_t),$t.return=bt,bt=$t;break e}a(bt,At);break}else s(bt,At);At=At.sibling}_t.type===ya?($t=Tg(_t.props.children,bt.mode,St,_t.key),$t.return=bt,bt=$t):(St=Rg(_t.type,_t.key,_t.props,null,bt.mode,St),St.ref=Lg(bt,$t,_t),St.return=bt,bt=St)}return st(bt);case wa:e:{for(At=_t.key;$t!==null;){if($t.key===At)if($t.tag===4&&$t.stateNode.containerInfo===_t.containerInfo&&$t.stateNode.implementation===_t.implementation){a(bt,$t.sibling),$t=nt($t,_t.children||[]),$t.return=bt,bt=$t;break e}else{a(bt,$t);break}else s(bt,$t);$t=$t.sibling}$t=Sg(_t,bt.mode,St),$t.return=bt,bt=$t}return st(bt);case Ha:return At=_t._init,kt(bt,$t,At(_t._payload),St)}if(eb(_t))return xt(bt,$t,_t,St);if(Ka(_t))return Et(bt,$t,_t,St);Mg(bt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,$t!==null&&$t.tag===6?(a(bt,$t.sibling),$t=nt($t,_t),$t.return=bt,bt=$t):(a(bt,$t),$t=Qg(_t,bt.mode,St),$t.return=bt,bt=$t),st(bt)):a(bt,$t)}return kt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E$1(Wg),e._currentValue=s}function bh(e,s,a){for(;e!==null;){var tt=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,tt!==null&&(tt.childLanes|=s)):tt!==null&&(tt.childLanes&s)!==s&&(tt.childLanes|=s),e===a)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,a,tt){var nt=s.interleaved;return nt===null?(a.next=a,gh(s)):(a.next=nt.next,nt.next=a),s.interleaved=a,ih(e,tt)}function ih(e,s){e.lanes|=s;var a=e.alternate;for(a!==null&&(a.lanes|=s),a=e,e=e.return;e!==null;)e.childLanes|=s,a=e.alternate,a!==null&&(a.childLanes|=s),a=e,e=e.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,a){var tt=e.updateQueue;if(tt===null)return null;if(tt=tt.shared,K$1&2){var nt=tt.pending;return nt===null?s.next=s:(s.next=nt.next,nt.next=s),tt.pending=s,ih(e,a)}return nt=tt.interleaved,nt===null?(s.next=s,gh(tt)):(s.next=nt.next,nt.next=s),tt.interleaved=s,ih(e,a)}function oh(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var tt=s.lanes;tt&=e.pendingLanes,a|=tt,s.lanes=a,Cc(e,a)}}function ph(e,s){var a=e.updateQueue,tt=e.alternate;if(tt!==null&&(tt=tt.updateQueue,a===tt)){var nt=null,ot=null;if(a=a.firstBaseUpdate,a!==null){do{var st={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};ot===null?nt=ot=st:ot=ot.next=st,a=a.next}while(a!==null);ot===null?nt=ot=s:ot=ot.next=s}else nt=ot=s;a={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:ot,shared:tt.shared,effects:tt.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}function qh(e,s,a,tt){var nt=e.updateQueue;jh=!1;var ot=nt.firstBaseUpdate,st=nt.lastBaseUpdate,ft=nt.shared.pending;if(ft!==null){nt.shared.pending=null;var ht=ft,gt=ht.next;ht.next=null,st===null?ot=gt:st.next=gt,st=ht;var mt=e.alternate;mt!==null&&(mt=mt.updateQueue,ft=mt.lastBaseUpdate,ft!==st&&(ft===null?mt.firstBaseUpdate=gt:ft.next=gt,mt.lastBaseUpdate=ht))}if(ot!==null){var yt=nt.baseState;st=0,mt=gt=ht=null,ft=ot;do{var wt=ft.lane,vt=ft.eventTime;if((tt&wt)===wt){mt!==null&&(mt=mt.next={eventTime:vt,lane:0,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null});e:{var xt=e,Et=ft;switch(wt=s,vt=a,Et.tag){case 1:if(xt=Et.payload,typeof xt=="function"){yt=xt.call(vt,yt,wt);break e}yt=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Et.payload,wt=typeof xt=="function"?xt.call(vt,yt,wt):xt,wt==null)break e;yt=A$2({},yt,wt);break e;case 2:jh=!0}}ft.callback!==null&&ft.lane!==0&&(e.flags|=64,wt=nt.effects,wt===null?nt.effects=[ft]:wt.push(ft))}else vt={eventTime:vt,lane:wt,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null},mt===null?(gt=mt=vt,ht=yt):mt=mt.next=vt,st|=wt;if(ft=ft.next,ft===null){if(ft=nt.shared.pending,ft===null)break;wt=ft,ft=wt.next,wt.next=null,nt.lastBaseUpdate=wt,nt.shared.pending=null}}while(!0);if(mt===null&&(ht=yt),nt.baseState=ht,nt.firstBaseUpdate=gt,nt.lastBaseUpdate=mt,s=nt.shared.interleaved,s!==null){nt=s;do st|=nt.lane,nt=nt.next;while(nt!==s)}else ot===null&&(nt.shared.lanes=0);rh|=st,e.lanes=st,e.memoizedState=yt}}function sh(e,s,a){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var tt=e[s],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=a,typeof nt!="function")throw Error(p$1(191,nt));nt.call(tt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p$1(174));return e}function yh(e,s){switch(G$1(wh,s),G$1(vh,e),G$1(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E$1(uh),G$1(uh,s)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),a=lb(s,e.type);s!==a&&(G$1(vh,e),G$1(uh,a))}function Bh(e){vh.current===e&&(E$1(uh),E$1(vh))}var L$2=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N$1=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!He$1(e[a],s[a]))return!1;return!0}function Nh(e,s,a,tt,nt,ot){if(Hh=ot,M$2=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=a(tt,nt),Jh){ot=0;do{if(Jh=!1,Kh=0,25<=ot)throw Error(p$1(301));ot+=1,O$2=N$1=null,s.updateQueue=null,Fh.current=Qh,e=a(tt,nt)}while(Jh)}if(Fh.current=Rh,s=N$1!==null&&N$1.next!==null,Hh=0,O$2=N$1=M$2=null,Ih=!1,s)throw Error(p$1(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$2.memoizedState=O$2=e:O$2=O$2.next=e,O$2}function Uh(){if(N$1===null){var e=M$2.alternate;e=e!==null?e.memoizedState:null}else e=N$1.next;var s=O$2===null?M$2.memoizedState:O$2.next;if(s!==null)O$2=s,N$1=e;else{if(e===null)throw Error(p$1(310));N$1=e,e={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$2===null?M$2.memoizedState=O$2=e:O$2=O$2.next=e}return O$2}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),a=s.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=e;var tt=N$1,nt=tt.baseQueue,ot=a.pending;if(ot!==null){if(nt!==null){var st=nt.next;nt.next=ot.next,ot.next=st}tt.baseQueue=nt=ot,a.pending=null}if(nt!==null){ot=nt.next,tt=tt.baseState;var ft=st=null,ht=null,gt=ot;do{var mt=gt.lane;if((Hh&mt)===mt)ht!==null&&(ht=ht.next={lane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),tt=gt.hasEagerState?gt.eagerState:e(tt,gt.action);else{var yt={lane:mt,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null};ht===null?(ft=ht=yt,st=tt):ht=ht.next=yt,M$2.lanes|=mt,rh|=mt}gt=gt.next}while(gt!==null&&gt!==ot);ht===null?st=tt:ht.next=ft,He$1(tt,s.memoizedState)||(dh=!0),s.memoizedState=tt,s.baseState=st,s.baseQueue=ht,a.lastRenderedState=tt}if(e=a.interleaved,e!==null){nt=e;do ot=nt.lane,M$2.lanes|=ot,rh|=ot,nt=nt.next;while(nt!==e)}else nt===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Xh(e){var s=Uh(),a=s.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=e;var tt=a.dispatch,nt=a.pending,ot=s.memoizedState;if(nt!==null){a.pending=null;var st=nt=nt.next;do ot=e(ot,st.action),st=st.next;while(st!==nt);He$1(ot,s.memoizedState)||(dh=!0),s.memoizedState=ot,s.baseQueue===null&&(s.baseState=ot),a.lastRenderedState=ot}return[ot,tt]}function Yh(){}function Zh(e,s){var a=M$2,tt=Uh(),nt=s(),ot=!He$1(tt.memoizedState,nt);if(ot&&(tt.memoizedState=nt,dh=!0),tt=tt.queue,$h(ai.bind(null,a,tt,e),[e]),tt.getSnapshot!==s||ot||O$2!==null&&O$2.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,tt,nt,s),void 0,null),Q$2===null)throw Error(p$1(349));Hh&30||di(a,s,nt)}return nt}function di(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=M$2.updateQueue,s===null?(s={lastEffect:null,stores:null},M$2.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function ci(e,s,a,tt){s.value=a,s.getSnapshot=tt,ei(s)&&fi(e)}function ai(e,s,a){return a(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!He$1(e,a)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M$2,e),[s.memoizedState,e]}function bi(e,s,a,tt){return e={tag:e,create:s,destroy:a,deps:tt,next:null},s=M$2.updateQueue,s===null?(s={lastEffect:null,stores:null},M$2.updateQueue=s,s.lastEffect=e.next=e):(a=s.lastEffect,a===null?s.lastEffect=e.next=e:(tt=a.next,a.next=e,e.next=tt,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,a,tt){var nt=Th();M$2.flags|=e,nt.memoizedState=bi(1|s,a,void 0,tt===void 0?null:tt)}function li(e,s,a,tt){var nt=Uh();tt=tt===void 0?null:tt;var ot=void 0;if(N$1!==null){var st=N$1.memoizedState;if(ot=st.destroy,tt!==null&&Mh(tt,st.deps)){nt.memoizedState=bi(s,a,ot,tt);return}}M$2.flags|=e,nt.memoizedState=bi(1|s,a,ot,tt)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,a){return a=a!=null?a.concat([e]):null,li(4,4,pi.bind(null,s,e),a)}function ri(){}function si(e,s){var a=Uh();s=s===void 0?null:s;var tt=a.memoizedState;return tt!==null&&s!==null&&Mh(s,tt[1])?tt[0]:(a.memoizedState=[e,s],e)}function ti(e,s){var a=Uh();s=s===void 0?null:s;var tt=a.memoizedState;return tt!==null&&s!==null&&Mh(s,tt[1])?tt[0]:(e=e(),a.memoizedState=[e,s],e)}function ui(e,s,a){return Hh&21?(He$1(a,s)||(a=yc(),M$2.lanes|=a,rh|=a,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=a)}function vi(e,s){var a=C$2;C$2=a!==0&&4>a?a:4,e(!0);var tt=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C$2=a,Gh.transition=tt}}function wi(){return Uh().memoizedState}function xi(e,s,a){var tt=yi(e);if(a={lane:tt,action:a,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,a);else if(a=hh(e,s,a,tt),a!==null){var nt=R$2();gi(a,e,tt,nt),Bi(a,s,tt)}}function ii(e,s,a){var tt=yi(e),nt={lane:tt,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,nt);else{var ot=e.alternate;if(e.lanes===0&&(ot===null||ot.lanes===0)&&(ot=s.lastRenderedReducer,ot!==null))try{var st=s.lastRenderedState,ft=ot(st,a);if(nt.hasEagerState=!0,nt.eagerState=ft,He$1(ft,st)){var ht=s.interleaved;ht===null?(nt.next=nt,gh(s)):(nt.next=ht.next,ht.next=nt),s.interleaved=nt;return}}catch{}finally{}a=hh(e,s,nt,tt),a!==null&&(nt=R$2(),gi(a,e,tt,nt),Bi(a,s,tt))}}function zi(e){var s=e.alternate;return e===M$2||s!==null&&s===M$2}function Ai(e,s){Jh=Ih=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Bi(e,s,a){if(a&4194240){var tt=s.lanes;tt&=e.pendingLanes,a|=tt,s.lanes=a,Cc(e,a)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,a){return a=a!=null?a.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),a)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var a=Th();return s=s===void 0?null:s,e=e(),a.memoizedState=[e,s],e},useReducer:function(e,s,a){var tt=Th();return s=a!==void 0?a(s):s,tt.memoizedState=tt.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},tt.queue=e,e=e.dispatch=xi.bind(null,M$2,e),[tt.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,a){var tt=M$2,nt=Th();if(I$2){if(a===void 0)throw Error(p$1(407));a=a()}else{if(a=s(),Q$2===null)throw Error(p$1(349));Hh&30||di(tt,s,a)}nt.memoizedState=a;var ot={value:a,getSnapshot:s};return nt.queue=ot,mi(ai.bind(null,tt,ot,e),[e]),tt.flags|=2048,bi(9,ci.bind(null,tt,ot,a,s),void 0,null),a},useId:function(){var e=Th(),s=Q$2.identifierPrefix;if(I$2){var a=sg,tt=rg;a=(tt&~(1<<32-oc(tt)-1)).toString(32)+a,s=":"+s+"R"+a,a=Kh++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Lh++,s=":"+s+"r"+a.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N$1.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N$1===null?s.memoizedState=e:ui(s,N$1.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A$2({},s),e=e.defaultProps;for(var a in e)s[a]===void 0&&(s[a]=e[a]);return s}return s}function Di(e,s,a,tt){s=e.memoizedState,a=a(tt,s),a=a==null?s:A$2({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,a){e=e._reactInternals;var tt=R$2(),nt=yi(e),ot=mh(tt,nt);ot.payload=s,a!=null&&(ot.callback=a),s=nh(e,ot,nt),s!==null&&(gi(s,e,nt,tt),oh(s,e,nt))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var tt=R$2(),nt=yi(e),ot=mh(tt,nt);ot.tag=1,ot.payload=s,a!=null&&(ot.callback=a),s=nh(e,ot,nt),s!==null&&(gi(s,e,nt,tt),oh(s,e,nt))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=R$2(),tt=yi(e),nt=mh(a,tt);nt.tag=2,s!=null&&(nt.callback=s),s=nh(e,nt,tt),s!==null&&(gi(s,e,tt,a),oh(s,e,tt))}};function Fi(e,s,a,tt,nt,ot,st){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(tt,ot,st):s.prototype&&s.prototype.isPureReactComponent?!Ie$1(a,tt)||!Ie$1(nt,ot):!0}function Gi(e,s,a){var tt=!1,nt=Vf,ot=s.contextType;return typeof ot=="object"&&ot!==null?ot=eh(ot):(nt=Zf(s)?Xf:H$2.current,tt=s.contextTypes,ot=(tt=tt!=null)?Yf(e,nt):Vf),s=new s(a,ot),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,tt&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=nt,e.__reactInternalMemoizedMaskedChildContext=ot),s}function Hi(e,s,a,tt){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,tt),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,tt),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,a,tt){var nt=e.stateNode;nt.props=a,nt.state=e.memoizedState,nt.refs={},kh(e);var ot=s.contextType;typeof ot=="object"&&ot!==null?nt.context=eh(ot):(ot=Zf(s)?Xf:H$2.current,nt.context=Yf(e,ot)),nt.state=e.memoizedState,ot=s.getDerivedStateFromProps,typeof ot=="function"&&(Di(e,s,ot,a),nt.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(s=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),s!==nt.state&&Ei.enqueueReplaceState(nt,nt.state,null),qh(e,a,nt,tt),nt.state=e.memoizedState),typeof nt.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var a="",tt=s;do a+=Pa(tt),tt=tt.return;while(tt);var nt=a}catch(ot){nt=`
Error generating stack: `+ot.message+`
`+ot.stack}return{value:e,source:s,stack:nt,digest:null}}function Ki(e,s,a){return{value:e,source:null,stack:a??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var tt=s.value;return a.callback=function(){Oi||(Oi=!0,Pi=tt),Li(e,s)},a}function Qi(e,s,a){a=mh(-1,a),a.tag=3;var tt=e.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=s.value;a.payload=function(){return tt(nt)},a.callback=function(){Li(e,s)}}var ot=e.stateNode;return ot!==null&&typeof ot.componentDidCatch=="function"&&(a.callback=function(){Li(e,s),typeof tt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var st=s.stack;this.componentDidCatch(s.value,{componentStack:st!==null?st:""})}),a}function Si(e,s,a){var tt=e.pingCache;if(tt===null){tt=e.pingCache=new Mi;var nt=new Set;tt.set(s,nt)}else nt=tt.get(s),nt===void 0&&(nt=new Set,tt.set(s,nt));nt.has(a)||(nt.add(a),e=Ti.bind(null,e,s,a),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,a,tt,nt){return e.mode&1?(e.flags|=65536,e.lanes=nt,e):(e===s?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=mh(-1,1),s.tag=2,nh(a,s,1))),a.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,a,tt){s.child=e===null?Vg(s,null,a,tt):Ug(s,e.child,a,tt)}function Yi(e,s,a,tt,nt){a=a.render;var ot=s.ref;return ch(s,nt),tt=Nh(e,s,a,tt,ot,nt),a=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~nt,Zi(e,s,nt)):(I$2&&a&&vg(s),s.flags|=1,Xi(e,s,tt,nt),s.child)}function $i(e,s,a,tt,nt){if(e===null){var ot=a.type;return typeof ot=="function"&&!aj(ot)&&ot.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=ot,bj(e,s,ot,tt,nt)):(e=Rg(a.type,null,tt,s,s.mode,nt),e.ref=s.ref,e.return=s,s.child=e)}if(ot=e.child,!(e.lanes&nt)){var st=ot.memoizedProps;if(a=a.compare,a=a!==null?a:Ie$1,a(st,tt)&&e.ref===s.ref)return Zi(e,s,nt)}return s.flags|=1,e=Pg(ot,tt),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,a,tt,nt){if(e!==null){var ot=e.memoizedProps;if(Ie$1(ot,tt)&&e.ref===s.ref)if(dh=!1,s.pendingProps=tt=ot,(e.lanes&nt)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,nt)}return cj(e,s,a,tt,nt)}function dj(e,s,a){var tt=s.pendingProps,nt=tt.children,ot=e!==null?e.memoizedState:null;if(tt.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=a;else{if(!(a&1073741824))return e=ot!==null?ot.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G$1(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=ot!==null?ot.baseLanes:a,G$1(ej,fj),fj|=tt}else ot!==null?(tt=ot.baseLanes|a,s.memoizedState=null):tt=a,G$1(ej,fj),fj|=tt;return Xi(e,s,nt,a),s.child}function gj(e,s){var a=s.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,a,tt,nt){var ot=Zf(a)?Xf:H$2.current;return ot=Yf(s,ot),ch(s,nt),a=Nh(e,s,a,tt,ot,nt),tt=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~nt,Zi(e,s,nt)):(I$2&&tt&&vg(s),s.flags|=1,Xi(e,s,a,nt),s.child)}function hj(e,s,a,tt,nt){if(Zf(a)){var ot=!0;cg(s)}else ot=!1;if(ch(s,nt),s.stateNode===null)ij(e,s),Gi(s,a,tt),Ii(s,a,tt,nt),tt=!0;else if(e===null){var st=s.stateNode,ft=s.memoizedProps;st.props=ft;var ht=st.context,gt=a.contextType;typeof gt=="object"&&gt!==null?gt=eh(gt):(gt=Zf(a)?Xf:H$2.current,gt=Yf(s,gt));var mt=a.getDerivedStateFromProps,yt=typeof mt=="function"||typeof st.getSnapshotBeforeUpdate=="function";yt||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ft!==tt||ht!==gt)&&Hi(s,st,tt,gt),jh=!1;var wt=s.memoizedState;st.state=wt,qh(s,tt,st,nt),ht=s.memoizedState,ft!==tt||wt!==ht||Wf.current||jh?(typeof mt=="function"&&(Di(s,a,mt,tt),ht=s.memoizedState),(ft=jh||Fi(s,a,ft,tt,wt,ht,gt))?(yt||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&(s.flags|=4194308)):(typeof st.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=tt,s.memoizedState=ht),st.props=tt,st.state=ht,st.context=gt,tt=ft):(typeof st.componentDidMount=="function"&&(s.flags|=4194308),tt=!1)}else{st=s.stateNode,lh(e,s),ft=s.memoizedProps,gt=s.type===s.elementType?ft:Ci(s.type,ft),st.props=gt,yt=s.pendingProps,wt=st.context,ht=a.contextType,typeof ht=="object"&&ht!==null?ht=eh(ht):(ht=Zf(a)?Xf:H$2.current,ht=Yf(s,ht));var vt=a.getDerivedStateFromProps;(mt=typeof vt=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ft!==yt||wt!==ht)&&Hi(s,st,tt,ht),jh=!1,wt=s.memoizedState,st.state=wt,qh(s,tt,st,nt);var xt=s.memoizedState;ft!==yt||wt!==xt||Wf.current||jh?(typeof vt=="function"&&(Di(s,a,vt,tt),xt=s.memoizedState),(gt=jh||Fi(s,a,gt,tt,wt,xt,ht)||!1)?(mt||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(tt,xt,ht),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(tt,xt,ht)),typeof st.componentDidUpdate=="function"&&(s.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof st.componentDidUpdate!="function"||ft===e.memoizedProps&&wt===e.memoizedState||(s.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ft===e.memoizedProps&&wt===e.memoizedState||(s.flags|=1024),s.memoizedProps=tt,s.memoizedState=xt),st.props=tt,st.state=xt,st.context=ht,tt=gt):(typeof st.componentDidUpdate!="function"||ft===e.memoizedProps&&wt===e.memoizedState||(s.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ft===e.memoizedProps&&wt===e.memoizedState||(s.flags|=1024),tt=!1)}return jj(e,s,a,tt,ot,nt)}function jj(e,s,a,tt,nt,ot){gj(e,s);var st=(s.flags&128)!==0;if(!tt&&!st)return nt&&dg(s,a,!1),Zi(e,s,ot);tt=s.stateNode,Wi.current=s;var ft=st&&typeof a.getDerivedStateFromError!="function"?null:tt.render();return s.flags|=1,e!==null&&st?(s.child=Ug(s,e.child,null,ot),s.child=Ug(s,null,ft,ot)):Xi(e,s,ft,ot),s.memoizedState=tt.state,nt&&dg(s,a,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,a,tt,nt){return Ig(),Jg(nt),s.flags|=256,Xi(e,s,a,tt),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,a){var tt=s.pendingProps,nt=L$2.current,ot=!1,st=(s.flags&128)!==0,ft;if((ft=st)||(ft=e!==null&&e.memoizedState===null?!1:(nt&2)!==0),ft?(ot=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(nt|=1),G$1(L$2,nt&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(st=tt.children,e=tt.fallback,ot?(tt=s.mode,ot=s.child,st={mode:"hidden",children:st},!(tt&1)&&ot!==null?(ot.childLanes=0,ot.pendingProps=st):ot=pj(st,tt,0,null),e=Tg(e,tt,a,null),ot.return=s,e.return=s,ot.sibling=e,s.child=ot,s.child.memoizedState=nj(a),s.memoizedState=mj,e):qj(s,st));if(nt=e.memoizedState,nt!==null&&(ft=nt.dehydrated,ft!==null))return rj(e,s,st,tt,ft,nt,a);if(ot){ot=tt.fallback,st=s.mode,nt=e.child,ft=nt.sibling;var ht={mode:"hidden",children:tt.children};return!(st&1)&&s.child!==nt?(tt=s.child,tt.childLanes=0,tt.pendingProps=ht,s.deletions=null):(tt=Pg(nt,ht),tt.subtreeFlags=nt.subtreeFlags&14680064),ft!==null?ot=Pg(ft,ot):(ot=Tg(ot,st,a,null),ot.flags|=2),ot.return=s,tt.return=s,tt.sibling=ot,s.child=tt,tt=ot,ot=s.child,st=e.child.memoizedState,st=st===null?nj(a):{baseLanes:st.baseLanes|a,cachePool:null,transitions:st.transitions},ot.memoizedState=st,ot.childLanes=e.childLanes&~a,s.memoizedState=mj,tt}return ot=e.child,e=ot.sibling,tt=Pg(ot,{mode:"visible",children:tt.children}),!(s.mode&1)&&(tt.lanes=a),tt.return=s,tt.sibling=null,e!==null&&(a=s.deletions,a===null?(s.deletions=[e],s.flags|=16):a.push(e)),s.child=tt,s.memoizedState=null,tt}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,a,tt){return tt!==null&&Jg(tt),Ug(s,e.child,null,a),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,a,tt,nt,ot,st){if(a)return s.flags&256?(s.flags&=-257,tt=Ki(Error(p$1(422))),sj(e,s,st,tt)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(ot=tt.fallback,nt=s.mode,tt=pj({mode:"visible",children:tt.children},nt,0,null),ot=Tg(ot,nt,st,null),ot.flags|=2,tt.return=s,ot.return=s,tt.sibling=ot,s.child=tt,s.mode&1&&Ug(s,e.child,null,st),s.child.memoizedState=nj(st),s.memoizedState=mj,ot);if(!(s.mode&1))return sj(e,s,st,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var ft=tt.dgst;return tt=ft,ot=Error(p$1(419)),tt=Ki(ot,tt,void 0),sj(e,s,st,tt)}if(ft=(st&e.childLanes)!==0,dh||ft){if(tt=Q$2,tt!==null){switch(st&-st){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|st)?0:nt,nt!==0&&nt!==ot.retryLane&&(ot.retryLane=nt,ih(e,nt),gi(tt,e,nt,-1))}return tj(),tt=Ki(Error(p$1(421))),sj(e,s,st,tt)}return nt.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),nt._reactRetry=s,null):(e=ot.treeContext,yg=Lf(nt.nextSibling),xg=s,I$2=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,tt.children),s.flags|=4096,s)}function vj(e,s,a){e.lanes|=s;var tt=e.alternate;tt!==null&&(tt.lanes|=s),bh(e.return,s,a)}function wj(e,s,a,tt,nt){var ot=e.memoizedState;ot===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:tt,tail:a,tailMode:nt}:(ot.isBackwards=s,ot.rendering=null,ot.renderingStartTime=0,ot.last=tt,ot.tail=a,ot.tailMode=nt)}function xj(e,s,a){var tt=s.pendingProps,nt=tt.revealOrder,ot=tt.tail;if(Xi(e,s,tt.children,a),tt=L$2.current,tt&2)tt=tt&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,a,s);else if(e.tag===19)vj(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}tt&=1}if(G$1(L$2,tt),!(s.mode&1))s.memoizedState=null;else switch(nt){case"forwards":for(a=s.child,nt=null;a!==null;)e=a.alternate,e!==null&&Ch(e)===null&&(nt=a),a=a.sibling;a=nt,a===null?(nt=s.child,s.child=null):(nt=a.sibling,a.sibling=null),wj(s,!1,nt,a,ot);break;case"backwards":for(a=null,nt=s.child,s.child=null;nt!==null;){if(e=nt.alternate,e!==null&&Ch(e)===null){s.child=nt;break}e=nt.sibling,nt.sibling=a,a=nt,nt=e}wj(s,!0,a,null,ot);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(a&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p$1(153));if(s.child!==null){for(e=s.child,a=Pg(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Pg(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function yj(e,s,a){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var tt=s.type._context,nt=s.memoizedProps.value;G$1(Wg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=s.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(L$2,L$2.current&1),s.flags|=128,null):a&s.child.childLanes?oj(e,s,a):(G$1(L$2,L$2.current&1),e=Zi(e,s,a),e!==null?e.sibling:null);G$1(L$2,L$2.current&1);break;case 19:if(tt=(a&s.childLanes)!==0,e.flags&128){if(tt)return xj(e,s,a);s.flags|=128}if(nt=s.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(L$2,L$2.current),tt)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,a)}return Zi(e,s,a)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(e,s,a,tt){var nt=e.memoizedProps;if(nt!==tt){e=s.stateNode,xh(uh.current);var ot=null;switch(a){case"input":nt=Ya(e,nt),tt=Ya(e,tt),ot=[];break;case"select":nt=A$2({},nt,{value:void 0}),tt=A$2({},tt,{value:void 0}),ot=[];break;case"textarea":nt=gb(e,nt),tt=gb(e,tt),ot=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&(e.onclick=Bf)}ub(a,tt);var st;a=null;for(gt in nt)if(!tt.hasOwnProperty(gt)&&nt.hasOwnProperty(gt)&&nt[gt]!=null)if(gt==="style"){var ft=nt[gt];for(st in ft)ft.hasOwnProperty(st)&&(a||(a={}),a[st]="")}else gt!=="dangerouslySetInnerHTML"&&gt!=="children"&&gt!=="suppressContentEditableWarning"&&gt!=="suppressHydrationWarning"&&gt!=="autoFocus"&&(ea.hasOwnProperty(gt)?ot||(ot=[]):(ot=ot||[]).push(gt,null));for(gt in tt){var ht=tt[gt];if(ft=nt!=null?nt[gt]:void 0,tt.hasOwnProperty(gt)&&ht!==ft&&(ht!=null||ft!=null))if(gt==="style")if(ft){for(st in ft)!ft.hasOwnProperty(st)||ht&&ht.hasOwnProperty(st)||(a||(a={}),a[st]="");for(st in ht)ht.hasOwnProperty(st)&&ft[st]!==ht[st]&&(a||(a={}),a[st]=ht[st])}else a||(ot||(ot=[]),ot.push(gt,a)),a=ht;else gt==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,ft=ft?ft.__html:void 0,ht!=null&&ft!==ht&&(ot=ot||[]).push(gt,ht)):gt==="children"?typeof ht!="string"&&typeof ht!="number"||(ot=ot||[]).push(gt,""+ht):gt!=="suppressContentEditableWarning"&&gt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(gt)?(ht!=null&&gt==="onScroll"&&D$2("scroll",e),ot||ft===ht||(ot=[])):(ot=ot||[]).push(gt,ht))}a&&(ot=ot||[]).push("style",a);var gt=ot;(s.updateQueue=gt)&&(s.flags|=4)}};Cj=function(e,s,a,tt){a!==tt&&(s.flags|=4)};function Dj(e,s){if(!I$2)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var tt=null;a!==null;)a.alternate!==null&&(tt=a),a=a.sibling;tt===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:tt.sibling=null}}function S$2(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,tt=0;if(s)for(var nt=e.child;nt!==null;)a|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=e,nt=nt.sibling;else for(nt=e.child;nt!==null;)a|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=e,nt=nt.sibling;return e.subtreeFlags|=tt,e.childLanes=a,s}function Ej(e,s,a){var tt=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(s),null;case 1:return Zf(s.type)&&$f(),S$2(s),null;case 3:return tt=s.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S$2(s),null;case 5:Bh(s);var nt=xh(wh.current);if(a=s.type,e!==null&&s.stateNode!=null)Bj(e,s,a,tt,nt),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!tt){if(s.stateNode===null)throw Error(p$1(166));return S$2(s),null}if(e=xh(uh.current),Gg(s)){tt=s.stateNode,a=s.type;var ot=s.memoizedProps;switch(tt[Of]=s,tt[Pf]=ot,e=(s.mode&1)!==0,a){case"dialog":D$2("cancel",tt),D$2("close",tt);break;case"iframe":case"object":case"embed":D$2("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],tt);break;case"source":D$2("error",tt);break;case"img":case"image":case"link":D$2("error",tt),D$2("load",tt);break;case"details":D$2("toggle",tt);break;case"input":Za(tt,ot),D$2("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!ot.multiple},D$2("invalid",tt);break;case"textarea":hb(tt,ot),D$2("invalid",tt)}ub(a,ot),nt=null;for(var st in ot)if(ot.hasOwnProperty(st)){var ft=ot[st];st==="children"?typeof ft=="string"?tt.textContent!==ft&&(ot.suppressHydrationWarning!==!0&&Af(tt.textContent,ft,e),nt=["children",ft]):typeof ft=="number"&&tt.textContent!==""+ft&&(ot.suppressHydrationWarning!==!0&&Af(tt.textContent,ft,e),nt=["children",""+ft]):ea.hasOwnProperty(st)&&ft!=null&&st==="onScroll"&&D$2("scroll",tt)}switch(a){case"input":Va(tt),db(tt,ot,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof ot.onClick=="function"&&(tt.onclick=Bf)}tt=nt,s.updateQueue=tt,tt!==null&&(s.flags|=4)}else{st=nt.nodeType===9?nt:nt.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=st.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof tt.is=="string"?e=st.createElement(a,{is:tt.is}):(e=st.createElement(a),a==="select"&&(st=e,tt.multiple?st.multiple=!0:tt.size&&(st.size=tt.size))):e=st.createElementNS(e,a),e[Of]=s,e[Pf]=tt,zj(e,s,!1,!1),s.stateNode=e;e:{switch(st=vb(a,tt),a){case"dialog":D$2("cancel",e),D$2("close",e),nt=tt;break;case"iframe":case"object":case"embed":D$2("load",e),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],e);nt=tt;break;case"source":D$2("error",e),nt=tt;break;case"img":case"image":case"link":D$2("error",e),D$2("load",e),nt=tt;break;case"details":D$2("toggle",e),nt=tt;break;case"input":Za(e,tt),nt=Ya(e,tt),D$2("invalid",e);break;case"option":nt=tt;break;case"select":e._wrapperState={wasMultiple:!!tt.multiple},nt=A$2({},tt,{value:void 0}),D$2("invalid",e);break;case"textarea":hb(e,tt),nt=gb(e,tt),D$2("invalid",e);break;default:nt=tt}ub(a,nt),ft=nt;for(ot in ft)if(ft.hasOwnProperty(ot)){var ht=ft[ot];ot==="style"?sb(e,ht):ot==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,ht!=null&&nb(e,ht)):ot==="children"?typeof ht=="string"?(a!=="textarea"||ht!=="")&&ob(e,ht):typeof ht=="number"&&ob(e,""+ht):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?ht!=null&&ot==="onScroll"&&D$2("scroll",e):ht!=null&&ta(e,ot,ht,st))}switch(a){case"input":Va(e),db(e,tt,!1);break;case"textarea":Va(e),jb(e);break;case"option":tt.value!=null&&e.setAttribute("value",""+Sa(tt.value));break;case"select":e.multiple=!!tt.multiple,ot=tt.value,ot!=null?fb(e,!!tt.multiple,ot,!1):tt.defaultValue!=null&&fb(e,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(e.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S$2(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,tt);else{if(typeof tt!="string"&&s.stateNode===null)throw Error(p$1(166));if(a=xh(wh.current),xh(uh.current),Gg(s)){if(tt=s.stateNode,a=s.memoizedProps,tt[Of]=s,(ot=tt.nodeValue!==a)&&(e=xg,e!==null))switch(e.tag){case 3:Af(tt.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,a,(e.mode&1)!==0)}ot&&(s.flags|=4)}else tt=(a.nodeType===9?a:a.ownerDocument).createTextNode(tt),tt[Of]=s,s.stateNode=tt}return S$2(s),null;case 13:if(E$1(L$2),tt=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,ot=!1;else if(ot=Gg(s),tt!==null&&tt.dehydrated!==null){if(e===null){if(!ot)throw Error(p$1(318));if(ot=s.memoizedState,ot=ot!==null?ot.dehydrated:null,!ot)throw Error(p$1(317));ot[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S$2(s),ot=!1}else zg!==null&&(Fj(zg),zg=null),ot=!0;if(!ot)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(tt=tt!==null,tt!==(e!==null&&e.memoizedState!==null)&&tt&&(s.child.flags|=8192,s.mode&1&&(e===null||L$2.current&1?T$2===0&&(T$2=3):tj())),s.updateQueue!==null&&(s.flags|=4),S$2(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S$2(s),null;case 10:return ah(s.type._context),S$2(s),null;case 17:return Zf(s.type)&&$f(),S$2(s),null;case 19:if(E$1(L$2),ot=s.memoizedState,ot===null)return S$2(s),null;if(tt=(s.flags&128)!==0,st=ot.rendering,st===null)if(tt)Dj(ot,!1);else{if(T$2!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(st=Ch(e),st!==null){for(s.flags|=128,Dj(ot,!1),tt=st.updateQueue,tt!==null&&(s.updateQueue=tt,s.flags|=4),s.subtreeFlags=0,tt=a,a=s.child;a!==null;)ot=a,e=tt,ot.flags&=14680066,st=ot.alternate,st===null?(ot.childLanes=0,ot.lanes=e,ot.child=null,ot.subtreeFlags=0,ot.memoizedProps=null,ot.memoizedState=null,ot.updateQueue=null,ot.dependencies=null,ot.stateNode=null):(ot.childLanes=st.childLanes,ot.lanes=st.lanes,ot.child=st.child,ot.subtreeFlags=0,ot.deletions=null,ot.memoizedProps=st.memoizedProps,ot.memoizedState=st.memoizedState,ot.updateQueue=st.updateQueue,ot.type=st.type,e=st.dependencies,ot.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return G$1(L$2,L$2.current&1|2),s.child}e=e.sibling}ot.tail!==null&&B$2()>Gj&&(s.flags|=128,tt=!0,Dj(ot,!1),s.lanes=4194304)}else{if(!tt)if(e=Ch(st),e!==null){if(s.flags|=128,tt=!0,a=e.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Dj(ot,!0),ot.tail===null&&ot.tailMode==="hidden"&&!st.alternate&&!I$2)return S$2(s),null}else 2*B$2()-ot.renderingStartTime>Gj&&a!==1073741824&&(s.flags|=128,tt=!0,Dj(ot,!1),s.lanes=4194304);ot.isBackwards?(st.sibling=s.child,s.child=st):(a=ot.last,a!==null?a.sibling=st:s.child=st,ot.last=st)}return ot.tail!==null?(s=ot.tail,ot.rendering=s,ot.tail=s.sibling,ot.renderingStartTime=B$2(),s.sibling=null,a=L$2.current,G$1(L$2,tt?a&1|2:a&1),s):(S$2(s),null);case 22:case 23:return Hj(),tt=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==tt&&(s.flags|=8192),tt&&s.mode&1?fj&1073741824&&(S$2(s),s.subtreeFlags&6&&(s.flags|=8192)):S$2(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E$1(L$2),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E$1(L$2),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(e,s){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(tt){W$1(e,s,tt)}else a.current=null}function Mj(e,s,a){try{a()}catch(tt){W$1(e,s,tt)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me$1(),Ne$1(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var tt=a.getSelection&&a.getSelection();if(tt&&tt.rangeCount!==0){a=tt.anchorNode;var nt=tt.anchorOffset,ot=tt.focusNode;tt=tt.focusOffset;try{a.nodeType,ot.nodeType}catch{a=null;break e}var st=0,ft=-1,ht=-1,gt=0,mt=0,yt=e,wt=null;t:for(;;){for(var vt;yt!==a||nt!==0&&yt.nodeType!==3||(ft=st+nt),yt!==ot||tt!==0&&yt.nodeType!==3||(ht=st+tt),yt.nodeType===3&&(st+=yt.nodeValue.length),(vt=yt.firstChild)!==null;)wt=yt,yt=vt;for(;;){if(yt===e)break t;if(wt===a&&++gt===nt&&(ft=st),wt===ot&&++mt===tt&&(ht=st),(vt=yt.nextSibling)!==null)break;yt=wt,wt=yt.parentNode}yt=vt}a=ft===-1||ht===-1?null:{start:ft,end:ht}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:e,selectionRange:a},dd=!1,V$1=s;V$1!==null;)if(s=V$1,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V$1=e;else for(;V$1!==null;){s=V$1;try{var xt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var Et=xt.memoizedProps,kt=xt.memoizedState,bt=s.stateNode,$t=bt.getSnapshotBeforeUpdate(s.elementType===s.type?Et:Ci(s.type,Et),kt);bt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var _t=s.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(St){W$1(s,s.return,St)}if(e=s.sibling,e!==null){e.return=s.return,V$1=e;break}V$1=s.return}return xt=Nj,Nj=!1,xt}function Pj(e,s,a){var tt=s.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&e)===e){var ot=nt.destroy;nt.destroy=void 0,ot!==void 0&&Mj(s,a,ot)}nt=nt.next}while(nt!==tt)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var tt=a.create;a.destroy=tt()}a=a.next}while(a!==s)}}function Rj(e){var s=e.ref;if(s!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,a){var tt=e.tag;if(tt===5||tt===6)e=e.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(e,s):a.insertBefore(e,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(e,a)):(s=a,s.appendChild(e)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bf));else if(tt!==4&&(e=e.child,e!==null))for(Vj(e,s,a),e=e.sibling;e!==null;)Vj(e,s,a),e=e.sibling}function Wj(e,s,a){var tt=e.tag;if(tt===5||tt===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(tt!==4&&(e=e.child,e!==null))for(Wj(e,s,a),e=e.sibling;e!==null;)Wj(e,s,a),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,a){for(a=a.child;a!==null;)Zj(e,s,a),a=a.sibling}function Zj(e,s,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U$1||Lj(a,s);case 6:var tt=X$1,nt=Xj;X$1=null,Yj(e,s,a),X$1=tt,Xj=nt,X$1!==null&&(Xj?(e=X$1,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):X$1.removeChild(a.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,a=a.stateNode,e.nodeType===8?Kf(e.parentNode,a):e.nodeType===1&&Kf(e,a),bd(e)):Kf(X$1,a.stateNode));break;case 4:tt=X$1,nt=Xj,X$1=a.stateNode.containerInfo,Xj=!0,Yj(e,s,a),X$1=tt,Xj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=a.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var ot=nt,st=ot.destroy;ot=ot.tag,st!==void 0&&(ot&2||ot&4)&&Mj(a,s,st),nt=nt.next}while(nt!==tt)}Yj(e,s,a);break;case 1:if(!U$1&&(Lj(a,s),tt=a.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=a.memoizedProps,tt.state=a.memoizedState,tt.componentWillUnmount()}catch(ft){W$1(a,s,ft)}Yj(e,s,a);break;case 21:Yj(e,s,a);break;case 22:a.mode&1?(U$1=(tt=U$1)||a.memoizedState!==null,Yj(e,s,a),U$1=tt):Yj(e,s,a);break;default:Yj(e,s,a)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Kj),s.forEach(function(tt){var nt=bk.bind(null,e,tt);a.has(tt)||(a.add(tt),tt.then(nt,nt))})}}function ck(e,s){var a=s.deletions;if(a!==null)for(var tt=0;tt<a.length;tt++){var nt=a[tt];try{var ot=e,st=s,ft=st;e:for(;ft!==null;){switch(ft.tag){case 5:X$1=ft.stateNode,Xj=!1;break e;case 3:X$1=ft.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=ft.stateNode.containerInfo,Xj=!0;break e}ft=ft.return}if(X$1===null)throw Error(p$1(160));Zj(ot,st,nt),X$1=null,Xj=!1;var ht=nt.alternate;ht!==null&&(ht.return=null),nt.return=null}catch(gt){W$1(nt,s,gt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var a=e.alternate,tt=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),tt&4){try{Pj(3,e,e.return),Qj(3,e)}catch(Et){W$1(e,e.return,Et)}try{Pj(5,e,e.return)}catch(Et){W$1(e,e.return,Et)}}break;case 1:ck(s,e),ek(e),tt&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(s,e),ek(e),tt&512&&a!==null&&Lj(a,a.return),e.flags&32){var nt=e.stateNode;try{ob(nt,"")}catch(Et){W$1(e,e.return,Et)}}if(tt&4&&(nt=e.stateNode,nt!=null)){var ot=e.memoizedProps,st=a!==null?a.memoizedProps:ot,ft=e.type,ht=e.updateQueue;if(e.updateQueue=null,ht!==null)try{ft==="input"&&ot.type==="radio"&&ot.name!=null&&ab(nt,ot),vb(ft,st);var gt=vb(ft,ot);for(st=0;st<ht.length;st+=2){var mt=ht[st],yt=ht[st+1];mt==="style"?sb(nt,yt):mt==="dangerouslySetInnerHTML"?nb(nt,yt):mt==="children"?ob(nt,yt):ta(nt,mt,yt,gt)}switch(ft){case"input":bb(nt,ot);break;case"textarea":ib(nt,ot);break;case"select":var wt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!ot.multiple;var vt=ot.value;vt!=null?fb(nt,!!ot.multiple,vt,!1):wt!==!!ot.multiple&&(ot.defaultValue!=null?fb(nt,!!ot.multiple,ot.defaultValue,!0):fb(nt,!!ot.multiple,ot.multiple?[]:"",!1))}nt[Pf]=ot}catch(Et){W$1(e,e.return,Et)}}break;case 6:if(ck(s,e),ek(e),tt&4){if(e.stateNode===null)throw Error(p$1(162));nt=e.stateNode,ot=e.memoizedProps;try{nt.nodeValue=ot}catch(Et){W$1(e,e.return,Et)}}break;case 3:if(ck(s,e),ek(e),tt&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(Et){W$1(e,e.return,Et)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),nt=e.child,nt.flags&8192&&(ot=nt.memoizedState!==null,nt.stateNode.isHidden=ot,!ot||nt.alternate!==null&&nt.alternate.memoizedState!==null||(fk=B$2())),tt&4&&ak(e);break;case 22:if(mt=a!==null&&a.memoizedState!==null,e.mode&1?(U$1=(gt=U$1)||mt,ck(s,e),U$1=gt):ck(s,e),ek(e),tt&8192){if(gt=e.memoizedState!==null,(e.stateNode.isHidden=gt)&&!mt&&e.mode&1)for(V$1=e,mt=e.child;mt!==null;){for(yt=V$1=mt;V$1!==null;){switch(wt=V$1,vt=wt.child,wt.tag){case 0:case 11:case 14:case 15:Pj(4,wt,wt.return);break;case 1:Lj(wt,wt.return);var xt=wt.stateNode;if(typeof xt.componentWillUnmount=="function"){tt=wt,a=wt.return;try{s=tt,xt.props=s.memoizedProps,xt.state=s.memoizedState,xt.componentWillUnmount()}catch(Et){W$1(tt,a,Et)}}break;case 5:Lj(wt,wt.return);break;case 22:if(wt.memoizedState!==null){gk(yt);continue}}vt!==null?(vt.return=wt,V$1=vt):gk(yt)}mt=mt.sibling}e:for(mt=null,yt=e;;){if(yt.tag===5){if(mt===null){mt=yt;try{nt=yt.stateNode,gt?(ot=nt.style,typeof ot.setProperty=="function"?ot.setProperty("display","none","important"):ot.display="none"):(ft=yt.stateNode,ht=yt.memoizedProps.style,st=ht!=null&&ht.hasOwnProperty("display")?ht.display:null,ft.style.display=rb("display",st))}catch(Et){W$1(e,e.return,Et)}}}else if(yt.tag===6){if(mt===null)try{yt.stateNode.nodeValue=gt?"":yt.memoizedProps}catch(Et){W$1(e,e.return,Et)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===e)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===e)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===e)break e;mt===yt&&(mt=null),yt=yt.return}mt===yt&&(mt=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:ck(s,e),ek(e),tt&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var a=e.return;a!==null;){if(Tj(a)){var tt=a;break e}a=a.return}throw Error(p$1(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var ot=Uj(e);Wj(e,ot,nt);break;case 3:case 4:var st=tt.stateNode.containerInfo,ft=Uj(e);Vj(e,ft,st);break;default:throw Error(p$1(161))}}catch(ht){W$1(e,e.return,ht)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,a){V$1=e,ik(e)}function ik(e,s,a){for(var tt=(e.mode&1)!==0;V$1!==null;){var nt=V$1,ot=nt.child;if(nt.tag===22&&tt){var st=nt.memoizedState!==null||Jj;if(!st){var ft=nt.alternate,ht=ft!==null&&ft.memoizedState!==null||U$1;ft=Jj;var gt=U$1;if(Jj=st,(U$1=ht)&&!gt)for(V$1=nt;V$1!==null;)st=V$1,ht=st.child,st.tag===22&&st.memoizedState!==null?jk(nt):ht!==null?(ht.return=st,V$1=ht):jk(nt);for(;ot!==null;)V$1=ot,ik(ot),ot=ot.sibling;V$1=nt,Jj=ft,U$1=gt}kk(e)}else nt.subtreeFlags&8772&&ot!==null?(ot.return=nt,V$1=ot):kk(e)}}function kk(e){for(;V$1!==null;){var s=V$1;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U$1||Qj(5,s);break;case 1:var tt=s.stateNode;if(s.flags&4&&!U$1)if(a===null)tt.componentDidMount();else{var nt=s.elementType===s.type?a.memoizedProps:Ci(s.type,a.memoizedProps);tt.componentDidUpdate(nt,a.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var ot=s.updateQueue;ot!==null&&sh(s,ot,tt);break;case 3:var st=s.updateQueue;if(st!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}sh(s,st,a)}break;case 5:var ft=s.stateNode;if(a===null&&s.flags&4){a=ft;var ht=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ht.autoFocus&&a.focus();break;case"img":ht.src&&(a.src=ht.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var gt=s.alternate;if(gt!==null){var mt=gt.memoizedState;if(mt!==null){var yt=mt.dehydrated;yt!==null&&bd(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||s.flags&512&&Rj(s)}catch(wt){W$1(s,s.return,wt)}}if(s===e){V$1=null;break}if(a=s.sibling,a!==null){a.return=s.return,V$1=a;break}V$1=s.return}}function gk(e){for(;V$1!==null;){var s=V$1;if(s===e){V$1=null;break}var a=s.sibling;if(a!==null){a.return=s.return,V$1=a;break}V$1=s.return}}function jk(e){for(;V$1!==null;){var s=V$1;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Qj(4,s)}catch(ht){W$1(s,a,ht)}break;case 1:var tt=s.stateNode;if(typeof tt.componentDidMount=="function"){var nt=s.return;try{tt.componentDidMount()}catch(ht){W$1(s,nt,ht)}}var ot=s.return;try{Rj(s)}catch(ht){W$1(s,ot,ht)}break;case 5:var st=s.return;try{Rj(s)}catch(ht){W$1(s,st,ht)}}}catch(ht){W$1(s,s.return,ht)}if(s===e){V$1=null;break}var ft=s.sibling;if(ft!==null){ft.return=s.return,V$1=ft;break}V$1=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$2=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K$1&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(e){return e.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C$2,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,a,tt){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(e,a,tt),(!(K$1&2)||e!==Q$2)&&(e===Q$2&&(!(K$1&2)&&(qk|=a),T$2===4&&Ck(e,Z$1)),Dk(e,tt),a===1&&K$1===0&&!(s.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(e,s){var a=e.callbackNode;wc(e,s);var tt=uc(e,e===Q$2?Z$1:0);if(tt===0)a!==null&&bc(a),e.callbackNode=null,e.callbackPriority=0;else if(s=tt&-tt,e.callbackPriority!==s){if(a!=null&&bc(a),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K$1&6)&&jg()}),a=null;else{switch(Dc(tt)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=a}}function Gk(e,s){if(Ak=-1,Bk=0,K$1&6)throw Error(p$1(327));var a=e.callbackNode;if(Hk()&&e.callbackNode!==a)return null;var tt=uc(e,e===Q$2?Z$1:0);if(tt===0)return null;if(tt&30||tt&e.expiredLanes||s)s=Ik(e,tt);else{s=tt;var nt=K$1;K$1|=2;var ot=Jk();(Q$2!==e||Z$1!==s)&&(uk=null,Gj=B$2()+500,Kk(e,s));do try{Lk();break}catch(ft){Mk(e,ft)}while(!0);$g(),mk.current=ot,K$1=nt,Y$1!==null?s=0:(Q$2=null,Z$1=0,s=T$2)}if(s!==0){if(s===2&&(nt=xc(e),nt!==0&&(tt=nt,s=Nk(e,nt))),s===1)throw a=pk,Kk(e,0),Ck(e,tt),Dk(e,B$2()),a;if(s===6)Ck(e,tt);else{if(nt=e.current.alternate,!(tt&30)&&!Ok(nt)&&(s=Ik(e,tt),s===2&&(ot=xc(e),ot!==0&&(tt=ot,s=Nk(e,ot))),s===1))throw a=pk,Kk(e,0),Ck(e,tt),Dk(e,B$2()),a;switch(e.finishedWork=nt,e.finishedLanes=tt,s){case 0:case 1:throw Error(p$1(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,tt),(tt&130023424)===tt&&(s=fk+500-B$2(),10<s)){if(uc(e,0)!==0)break;if(nt=e.suspendedLanes,(nt&tt)!==tt){R$2(),e.pingedLanes|=e.suspendedLanes&nt;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,tt),(tt&4194240)===tt)break;for(s=e.eventTimes,nt=-1;0<tt;){var st=31-oc(tt);ot=1<<st,st=s[st],st>nt&&(nt=st),tt&=~ot}if(tt=nt,tt=B$2()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*lk(tt/1960))-tt,10<tt){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),tt);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(e,B$2()),e.callbackNode===a?Gk.bind(null,e):null}function Nk(e,s){var a=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=a,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var tt=0;tt<a.length;tt++){var nt=a[tt],ot=nt.getSnapshot;nt=nt.value;try{if(!He$1(ot(),nt))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var a=31-oc(s),tt=1<<a;e[a]=-1,s&=~tt}}function Ek(e){if(K$1&6)throw Error(p$1(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B$2()),null;var a=Ik(e,s);if(e.tag!==0&&a===2){var tt=xc(e);tt!==0&&(s=tt,a=Nk(e,tt))}if(a===1)throw a=pk,Kk(e,0),Ck(e,s),Dk(e,B$2()),a;if(a===6)throw Error(p$1(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B$2()),null}function Qk(e,s){var a=K$1;K$1|=1;try{return e(s)}finally{K$1=a,K$1===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var s=K$1;K$1|=1;var a=ok.transition,tt=C$2;try{if(ok.transition=null,C$2=1,e)return e()}finally{C$2=tt,ok.transition=a,K$1=s,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Gf(a)),Y$1!==null)for(a=Y$1.return;a!==null;){var tt=a;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(tt);break;case 4:zh();break;case 13:E$1(L$2);break;case 19:E$1(L$2);break;case 10:ah(tt.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q$2=e,Y$1=e=Pg(e.current,null),Z$1=fj=s,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(a=fh[s],tt=a.interleaved,tt!==null){a.interleaved=null;var nt=tt.next,ot=a.pending;if(ot!==null){var st=ot.next;ot.next=nt,tt.next=st}a.pending=tt}fh=null}return e}function Mk(e,s){do{var a=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var tt=M$2.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Ih=!1}if(Hh=0,O$2=N$1=M$2=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T$2=1,pk=s,Y$1=null;break}e:{var ot=e,st=a.return,ft=a,ht=s;if(s=Z$1,ft.flags|=32768,ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var gt=ht,mt=ft,yt=mt.tag;if(!(mt.mode&1)&&(yt===0||yt===11||yt===15)){var wt=mt.alternate;wt?(mt.updateQueue=wt.updateQueue,mt.memoizedState=wt.memoizedState,mt.lanes=wt.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var vt=Ui(st);if(vt!==null){vt.flags&=-257,Vi(vt,st,ft,ot,s),vt.mode&1&&Si(ot,gt,s),s=vt,ht=gt;var xt=s.updateQueue;if(xt===null){var Et=new Set;Et.add(ht),s.updateQueue=Et}else xt.add(ht);break e}else{if(!(s&1)){Si(ot,gt,s),tj();break e}ht=Error(p$1(426))}}else if(I$2&&ft.mode&1){var kt=Ui(st);if(kt!==null){!(kt.flags&65536)&&(kt.flags|=256),Vi(kt,st,ft,ot,s),Jg(Ji(ht,ft));break e}}ot=ht=Ji(ht,ft),T$2!==4&&(T$2=2),sk===null?sk=[ot]:sk.push(ot),ot=st;do{switch(ot.tag){case 3:ot.flags|=65536,s&=-s,ot.lanes|=s;var bt=Ni(ot,ht,s);ph(ot,bt);break e;case 1:ft=ht;var $t=ot.type,_t=ot.stateNode;if(!(ot.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(Ri===null||!Ri.has(_t)))){ot.flags|=65536,s&=-s,ot.lanes|=s;var St=Qi(ot,ft,s);ph(ot,St);break e}}ot=ot.return}while(ot!==null)}Sk(a)}catch(Pt){s=Pt,Y$1===a&&a!==null&&(Y$1=a=a.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q$2===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$2,Z$1)}function Ik(e,s){var a=K$1;K$1|=2;var tt=Jk();(Q$2!==e||Z$1!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(nt){Mk(e,nt)}while(!0);if($g(),K$1=a,mk.current=tt,Y$1!==null)throw Error(p$1(261));return Q$2=null,Z$1=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y$1=s,nk.current=null}function Sk(e){var s=e;do{var a=s.alternate;if(e=s.return,s.flags&32768){if(a=Ij(a,s),a!==null){a.flags&=32767,Y$1=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T$2=6,Y$1=null;return}}else if(a=Ej(a,s,fj),a!==null){Y$1=a;return}if(s=s.sibling,s!==null){Y$1=s;return}Y$1=s=e}while(s!==null);T$2===0&&(T$2=5)}function Pk(e,s,a){var tt=C$2,nt=ok.transition;try{ok.transition=null,C$2=1,Wk(e,s,a,tt)}finally{ok.transition=nt,C$2=tt}return null}function Wk(e,s,a,tt){do Hk();while(wk!==null);if(K$1&6)throw Error(p$1(327));a=e.finishedWork;var nt=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(p$1(177));e.callbackNode=null,e.callbackPriority=0;var ot=a.lanes|a.childLanes;if(Bc(e,ot),e===Q$2&&(Y$1=Q$2=null,Z$1=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ot=(a.flags&15990)!==0,a.subtreeFlags&15990||ot){ot=ok.transition,ok.transition=null;var st=C$2;C$2=1;var ft=K$1;K$1|=4,nk.current=null,Oj(e,a),dk(a,e),Oe$1(Df),dd=!!Cf,Df=Cf=null,e.current=a,hk(a),dc(),K$1=ft,C$2=st,ok.transition=ot}else e.current=a;if(vk&&(vk=!1,wk=e,xk=nt),ot=e.pendingLanes,ot===0&&(Ri=null),mc(a.stateNode),Dk(e,B$2()),s!==null)for(tt=e.onRecoverableError,a=0;a<s.length;a++)nt=s[a],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),ot=e.pendingLanes,ot&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,a=C$2;try{if(ok.transition=null,C$2=16>e?16:e,wk===null)var tt=!1;else{if(e=wk,wk=null,xk=0,K$1&6)throw Error(p$1(331));var nt=K$1;for(K$1|=4,V$1=e.current;V$1!==null;){var ot=V$1,st=ot.child;if(V$1.flags&16){var ft=ot.deletions;if(ft!==null){for(var ht=0;ht<ft.length;ht++){var gt=ft[ht];for(V$1=gt;V$1!==null;){var mt=V$1;switch(mt.tag){case 0:case 11:case 15:Pj(8,mt,ot)}var yt=mt.child;if(yt!==null)yt.return=mt,V$1=yt;else for(;V$1!==null;){mt=V$1;var wt=mt.sibling,vt=mt.return;if(Sj(mt),mt===gt){V$1=null;break}if(wt!==null){wt.return=vt,V$1=wt;break}V$1=vt}}}var xt=ot.alternate;if(xt!==null){var Et=xt.child;if(Et!==null){xt.child=null;do{var kt=Et.sibling;Et.sibling=null,Et=kt}while(Et!==null)}}V$1=ot}}if(ot.subtreeFlags&2064&&st!==null)st.return=ot,V$1=st;else e:for(;V$1!==null;){if(ot=V$1,ot.flags&2048)switch(ot.tag){case 0:case 11:case 15:Pj(9,ot,ot.return)}var bt=ot.sibling;if(bt!==null){bt.return=ot.return,V$1=bt;break e}V$1=ot.return}}var $t=e.current;for(V$1=$t;V$1!==null;){st=V$1;var _t=st.child;if(st.subtreeFlags&2064&&_t!==null)_t.return=st,V$1=_t;else e:for(st=$t;V$1!==null;){if(ft=V$1,ft.flags&2048)try{switch(ft.tag){case 0:case 11:case 15:Qj(9,ft)}}catch(Pt){W$1(ft,ft.return,Pt)}if(ft===st){V$1=null;break e}var St=ft.sibling;if(St!==null){St.return=ft.return,V$1=St;break e}V$1=ft.return}}if(K$1=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}tt=!0}return tt}finally{C$2=a,ok.transition=s}}return!1}function Xk(e,s,a){s=Ji(a,s),s=Ni(e,s,1),e=nh(e,s,1),s=R$2(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W$1(e,s,a){if(e.tag===3)Xk(e,e,a);else for(;s!==null;){if(s.tag===3){Xk(s,e,a);break}else if(s.tag===1){var tt=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ri===null||!Ri.has(tt))){e=Ji(a,e),e=Qi(s,e,1),s=nh(s,e,1),e=R$2(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,a){var tt=e.pingCache;tt!==null&&tt.delete(s),s=R$2(),e.pingedLanes|=e.suspendedLanes&a,Q$2===e&&(Z$1&a)===a&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-fk?Kk(e,0):rk|=a),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var a=R$2();e=ih(e,s),e!==null&&(Ac(e,s,a),Dk(e,a))}function uj(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Yk(e,a)}function bk(e,s){var a=0;switch(e.tag){case 13:var tt=e.stateNode,nt=e.memoizedState;nt!==null&&(a=nt.retryLane);break;case 19:tt=e.stateNode;break;default:throw Error(p$1(314))}tt!==null&&tt.delete(s),Yk(e,a)}var Vk;Vk=function(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&a)&&!(s.flags&128))return dh=!1,yj(e,s,a);dh=!!(e.flags&131072)}else dh=!1,I$2&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var tt=s.type;ij(e,s),e=s.pendingProps;var nt=Yf(s,H$2.current);ch(s,a),nt=Nh(null,s,tt,e,nt,a);var ot=Sh();return s.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(tt)?(ot=!0,cg(s)):ot=!1,s.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,kh(s),nt.updater=Ei,s.stateNode=nt,nt._reactInternals=s,Ii(s,tt,e,a),s=jj(null,s,tt,!0,ot,a)):(s.tag=0,I$2&&ot&&vg(s),Xi(null,s,nt,a),s=s.child),s;case 16:tt=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,nt=tt._init,tt=nt(tt._payload),s.type=tt,nt=s.tag=Zk(tt),e=Ci(tt,e),nt){case 0:s=cj(null,s,tt,e,a);break e;case 1:s=hj(null,s,tt,e,a);break e;case 11:s=Yi(null,s,tt,e,a);break e;case 14:s=$i(null,s,tt,Ci(tt.type,e),a);break e}throw Error(p$1(306,tt,""))}return s;case 0:return tt=s.type,nt=s.pendingProps,nt=s.elementType===tt?nt:Ci(tt,nt),cj(e,s,tt,nt,a);case 1:return tt=s.type,nt=s.pendingProps,nt=s.elementType===tt?nt:Ci(tt,nt),hj(e,s,tt,nt,a);case 3:e:{if(kj(s),e===null)throw Error(p$1(387));tt=s.pendingProps,ot=s.memoizedState,nt=ot.element,lh(e,s),qh(s,tt,null,a);var st=s.memoizedState;if(tt=st.element,ot.isDehydrated)if(ot={element:tt,isDehydrated:!1,cache:st.cache,pendingSuspenseBoundaries:st.pendingSuspenseBoundaries,transitions:st.transitions},s.updateQueue.baseState=ot,s.memoizedState=ot,s.flags&256){nt=Ji(Error(p$1(423)),s),s=lj(e,s,tt,a,nt);break e}else if(tt!==nt){nt=Ji(Error(p$1(424)),s),s=lj(e,s,tt,a,nt);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I$2=!0,zg=null,a=Vg(s,null,tt,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),tt===nt){s=Zi(e,s,a);break e}Xi(e,s,tt,a)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),tt=s.type,nt=s.pendingProps,ot=e!==null?e.memoizedProps:null,st=nt.children,Ef(tt,nt)?st=null:ot!==null&&Ef(tt,ot)&&(s.flags|=32),gj(e,s),Xi(e,s,st,a),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,a);case 4:return yh(s,s.stateNode.containerInfo),tt=s.pendingProps,e===null?s.child=Ug(s,null,tt,a):Xi(e,s,tt,a),s.child;case 11:return tt=s.type,nt=s.pendingProps,nt=s.elementType===tt?nt:Ci(tt,nt),Yi(e,s,tt,nt,a);case 7:return Xi(e,s,s.pendingProps,a),s.child;case 8:return Xi(e,s,s.pendingProps.children,a),s.child;case 12:return Xi(e,s,s.pendingProps.children,a),s.child;case 10:e:{if(tt=s.type._context,nt=s.pendingProps,ot=s.memoizedProps,st=nt.value,G$1(Wg,tt._currentValue),tt._currentValue=st,ot!==null)if(He$1(ot.value,st)){if(ot.children===nt.children&&!Wf.current){s=Zi(e,s,a);break e}}else for(ot=s.child,ot!==null&&(ot.return=s);ot!==null;){var ft=ot.dependencies;if(ft!==null){st=ot.child;for(var ht=ft.firstContext;ht!==null;){if(ht.context===tt){if(ot.tag===1){ht=mh(-1,a&-a),ht.tag=2;var gt=ot.updateQueue;if(gt!==null){gt=gt.shared;var mt=gt.pending;mt===null?ht.next=ht:(ht.next=mt.next,mt.next=ht),gt.pending=ht}}ot.lanes|=a,ht=ot.alternate,ht!==null&&(ht.lanes|=a),bh(ot.return,a,s),ft.lanes|=a;break}ht=ht.next}}else if(ot.tag===10)st=ot.type===s.type?null:ot.child;else if(ot.tag===18){if(st=ot.return,st===null)throw Error(p$1(341));st.lanes|=a,ft=st.alternate,ft!==null&&(ft.lanes|=a),bh(st,a,s),st=ot.sibling}else st=ot.child;if(st!==null)st.return=ot;else for(st=ot;st!==null;){if(st===s){st=null;break}if(ot=st.sibling,ot!==null){ot.return=st.return,st=ot;break}st=st.return}ot=st}Xi(e,s,nt.children,a),s=s.child}return s;case 9:return nt=s.type,tt=s.pendingProps.children,ch(s,a),nt=eh(nt),tt=tt(nt),s.flags|=1,Xi(e,s,tt,a),s.child;case 14:return tt=s.type,nt=Ci(tt,s.pendingProps),nt=Ci(tt.type,nt),$i(e,s,tt,nt,a);case 15:return bj(e,s,s.type,s.pendingProps,a);case 17:return tt=s.type,nt=s.pendingProps,nt=s.elementType===tt?nt:Ci(tt,nt),ij(e,s),s.tag=1,Zf(tt)?(e=!0,cg(s)):e=!1,ch(s,a),Gi(s,tt,nt),Ii(s,tt,nt,a),jj(null,s,tt,!0,e,a);case 19:return xj(e,s,a);case 22:return dj(e,s,a)}throw Error(p$1(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,a,tt){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,a,tt){return new $k(e,s,a,tt)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var a=e.alternate;return a===null?(a=Bg(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Rg(e,s,a,tt,nt,ot){var st=2;if(tt=e,typeof e=="function")aj(e)&&(st=1);else if(typeof e=="string")st=5;else e:switch(e){case ya:return Tg(a.children,nt,ot,s);case za:st=8,nt|=8;break;case Aa:return e=Bg(12,a,s,nt|2),e.elementType=Aa,e.lanes=ot,e;case Ea:return e=Bg(13,a,s,nt),e.elementType=Ea,e.lanes=ot,e;case Fa:return e=Bg(19,a,s,nt),e.elementType=Fa,e.lanes=ot,e;case Ia:return pj(a,nt,ot,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:st=10;break e;case Ca:st=9;break e;case Da:st=11;break e;case Ga:st=14;break e;case Ha:st=16,tt=null;break e}throw Error(p$1(130,e==null?e:typeof e,""))}return s=Bg(st,a,s,nt),s.elementType=e,s.type=tt,s.lanes=ot,s}function Tg(e,s,a,tt){return e=Bg(7,e,tt,s),e.lanes=a,e}function pj(e,s,a,tt){return e=Bg(22,e,tt,s),e.elementType=Ia,e.lanes=a,e.stateNode={isHidden:!1},e}function Qg(e,s,a){return e=Bg(6,e,null,s),e.lanes=a,e}function Sg(e,s,a){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,a,tt,nt){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function bl(e,s,a,tt,nt,ot,st,ft,ht){return e=new al(e,s,a,ft,ht),s===1?(s=1,ot===!0&&(s|=8)):s=0,ot=Bg(3,null,null,s),e.current=ot,ot.stateNode=e,ot.memoizedState={element:tt,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ot),e}function cl(e,s,a){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:e,containerInfo:s,implementation:a}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p$1(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(e.tag===1){var a=e.type;if(Zf(a))return bg(e,a,s)}return s}function el(e,s,a,tt,nt,ot,st,ft,ht){return e=bl(a,tt,!0,e,nt,ot,st,ft,ht),e.context=dl(null),a=e.current,tt=R$2(),nt=yi(a),ot=mh(tt,nt),ot.callback=s??null,nh(a,ot,nt),e.current.lanes=nt,Ac(e,nt,tt),Dk(e,tt),e}function fl(e,s,a,tt){var nt=s.current,ot=R$2(),st=yi(nt);return a=dl(a),s.context===null?s.context=a:s.pendingContext=a,s=mh(ot,st),s.payload={element:e},tt=tt===void 0?null:tt,tt!==null&&(s.callback=tt),e=nh(nt,s,st),e!==null&&(gi(e,nt,st,ot),oh(e,nt,st)),st}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p$1(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Qc.length&&s!==0&&s<Qc[a].priority;a++);Qc.splice(a,0,e),a===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,a,tt,nt){if(nt){if(typeof tt=="function"){var ot=tt;tt=function(){var gt=gl(st);ot.call(gt)}}var st=el(s,tt,e,0,null,!1,!1,"",pl);return e._reactRootContainer=st,e[uf]=st.current,sf(e.nodeType===8?e.parentNode:e),Rk(),st}for(;nt=e.lastChild;)e.removeChild(nt);if(typeof tt=="function"){var ft=tt;tt=function(){var gt=gl(ht);ft.call(gt)}}var ht=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=ht,e[uf]=ht.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,ht,a,tt)}),ht}function rl(e,s,a,tt,nt){var ot=a._reactRootContainer;if(ot){var st=ot;if(typeof nt=="function"){var ft=nt;nt=function(){var ht=gl(st);ft.call(ht)}}fl(s,st,e,nt)}else st=ql(a,s,e,nt,tt);return gl(st)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var a=tc(s.pendingLanes);a!==0&&(Cc(s,a|1),Dk(s,B$2()),!(K$1&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var tt=ih(e,1);if(tt!==null){var nt=R$2();gi(tt,e,1,nt)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var a=R$2();gi(s,e,134217728,a)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),a=ih(e,s);if(a!==null){var tt=R$2();gi(a,e,s,tt)}il(e,s)}};Hc=function(){return C$2};Ic=function(e,s){var a=C$2;try{return C$2=e,s()}finally{C$2=a}};yb=function(e,s,a){switch(s){case"input":if(bb(e,a),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var tt=a[s];if(tt!==e&&tt.form===e.form){var nt=Db(tt);if(!nt)throw Error(p$1(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib(e,a);break;case"select":s=a.value,s!=null&&fb(e,!!a.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$1(200));return cl(e,s,null,a)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p$1(299));var a=!1,tt="",nt=kl;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(tt=s.identifierPrefix),s.onRecoverableError!==void 0&&(nt=s.onRecoverableError)),s=bl(e,1,!1,null,null,a,!1,tt,nt),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p$1(188)):(e=Object.keys(e).join(","),Error(p$1(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,a){if(!ol(s))throw Error(p$1(200));return rl(null,e,s,!0,a)};reactDom_production_min.hydrateRoot=function(e,s,a){if(!nl(e))throw Error(p$1(405));var tt=a!=null&&a.hydratedSources||null,nt=!1,ot="",st=kl;if(a!=null&&(a.unstable_strictMode===!0&&(nt=!0),a.identifierPrefix!==void 0&&(ot=a.identifierPrefix),a.onRecoverableError!==void 0&&(st=a.onRecoverableError)),s=el(s,null,e,1,a??null,nt,!1,ot,st),e[uf]=s.current,sf(e),tt)for(e=0;e<tt.length;e++)a=tt[e],nt=a._getVersion,nt=nt(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,nt]:s.mutableSourceEagerHydrationData.push(a,nt);return new ml(s)};reactDom_production_min.render=function(e,s,a){if(!ol(s))throw Error(p$1(200));return rl(null,e,s,!1,a)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p$1(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,a,tt){if(!ol(a))throw Error(p$1(200));if(e==null||e._reactInternals===void 0)throw Error(p$1(38));return rl(e,s,a,!1,tt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;function r(e){var s,a,tt="";if(typeof e=="string"||typeof e=="number")tt+=e;else if(typeof e=="object")if(Array.isArray(e)){var nt=e.length;for(s=0;s<nt;s++)e[s]&&(a=r(e[s]))&&(tt&&(tt+=" "),tt+=a)}else for(a in e)e[a]&&(tt&&(tt+=" "),tt+=a);return tt}function clsx(){for(var e,s,a=0,tt="",nt=arguments.length;a<nt;a++)(e=arguments[a])&&(s=r(e))&&(tt&&(tt+=" "),tt+=s);return tt}const c=e=>typeof e=="number"&&!isNaN(e),d$1=e=>typeof e=="string",u=e=>typeof e=="function",p=e=>d$1(e)||u(e)?e:null,m$1=e=>reactExports.isValidElement(e)||d$1(e)||u(e)||c(e);function f$1(e,s,a){a===void 0&&(a=300);const{scrollHeight:tt,style:nt}=e;requestAnimationFrame(()=>{nt.minHeight="initial",nt.height=tt+"px",nt.transition=`all ${a}ms`,requestAnimationFrame(()=>{nt.height="0",nt.padding="0",nt.margin="0",setTimeout(s,a)})})}function g$1(e){let{enter:s,exit:a,appendPosition:tt=!1,collapse:nt=!0,collapseDuration:ot=300}=e;return function(st){let{children:ft,position:ht,preventExitTransition:gt,done:mt,nodeRef:yt,isIn:wt,playToast:vt}=st;const xt=tt?`${s}--${ht}`:s,Et=tt?`${a}--${ht}`:a,kt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{const bt=yt.current,$t=xt.split(" "),_t=St=>{St.target===yt.current&&(vt(),bt.removeEventListener("animationend",_t),bt.removeEventListener("animationcancel",_t),kt.current===0&&St.type!=="animationcancel"&&bt.classList.remove(...$t))};bt.classList.add(...$t),bt.addEventListener("animationend",_t),bt.addEventListener("animationcancel",_t)},[]),reactExports.useEffect(()=>{const bt=yt.current,$t=()=>{bt.removeEventListener("animationend",$t),nt?f$1(bt,mt,ot):mt()};wt||(gt?$t():(kt.current=1,bt.className+=` ${Et}`,bt.addEventListener("animationend",$t)))},[wt]),o.createElement(o.Fragment,null,ft)}}function y$1(e,s){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:s}:{}}const v$1=new Map;let h=[];const T$1=new Set,E=e=>T$1.forEach(s=>s(e)),b=()=>v$1.size>0;function I$1(e,s){var a;if(s)return!((a=v$1.get(s))==null||!a.isToastActive(e));let tt=!1;return v$1.forEach(nt=>{nt.isToastActive(e)&&(tt=!0)}),tt}function _$1(e,s){m$1(e)&&(b()||h.push({content:e,options:s}),v$1.forEach(a=>{a.buildToast(e,s)}))}function C$1(e,s){v$1.forEach(a=>{s!=null&&s!=null&&s.containerId?(s==null?void 0:s.containerId)===a.id&&a.toggle(e,s==null?void 0:s.id):a.toggle(e,s==null?void 0:s.id)})}function L$1(e){const{subscribe:s,getSnapshot:a,setProps:tt}=reactExports.useRef(function(ot){const st=ot.containerId||1;return{subscribe(ft){const ht=function(mt,yt,wt){let vt=1,xt=0,Et=[],kt=[],bt=[],$t=yt;const _t=new Map,St=new Set,Pt=()=>{bt=Array.from(_t.values()),St.forEach(Bt=>Bt())},At=Bt=>{kt=Bt==null?[]:kt.filter(zt=>zt!==Bt),Pt()},Tt=Bt=>{const{toastId:zt,onOpen:Dt,updateId:Lt,children:Ft}=Bt.props,Ut=Lt==null;Bt.staleId&&_t.delete(Bt.staleId),_t.set(zt,Bt),kt=[...kt,Bt.props.toastId].filter(Mt=>Mt!==Bt.staleId),Pt(),wt(y$1(Bt,Ut?"added":"updated")),Ut&&u(Dt)&&Dt(reactExports.isValidElement(Ft)&&Ft.props)};return{id:mt,props:$t,observe:Bt=>(St.add(Bt),()=>St.delete(Bt)),toggle:(Bt,zt)=>{_t.forEach(Dt=>{zt!=null&&zt!==Dt.props.toastId||u(Dt.toggle)&&Dt.toggle(Bt)})},removeToast:At,toasts:_t,clearQueue:()=>{xt-=Et.length,Et=[]},buildToast:(Bt,zt)=>{if((Wt=>{let{containerId:Gt,toastId:qt,updateId:Zt}=Wt;const Yt=Gt?Gt!==mt:mt!==1,Xt=_t.has(qt)&&Zt==null;return Yt||Xt})(zt))return;const{toastId:Dt,updateId:Lt,data:Ft,staleId:Ut,delay:Mt}=zt,Ct=()=>{At(Dt)},Rt=Lt==null;Rt&&xt++;const jt={...$t,style:$t.toastStyle,key:vt++,...Object.fromEntries(Object.entries(zt).filter(Wt=>{let[Gt,qt]=Wt;return qt!=null})),toastId:Dt,updateId:Lt,data:Ft,closeToast:Ct,isIn:!1,className:p(zt.className||$t.toastClassName),bodyClassName:p(zt.bodyClassName||$t.bodyClassName),progressClassName:p(zt.progressClassName||$t.progressClassName),autoClose:!zt.isLoading&&(It=zt.autoClose,Ot=$t.autoClose,It===!1||c(It)&&It>0?It:Ot),deleteToast(){const Wt=_t.get(Dt),{onClose:Gt,children:qt}=Wt.props;u(Gt)&&Gt(reactExports.isValidElement(qt)&&qt.props),wt(y$1(Wt,"removed")),_t.delete(Dt),xt--,xt<0&&(xt=0),Et.length>0?Tt(Et.shift()):Pt()}};var It,Ot;jt.closeButton=$t.closeButton,zt.closeButton===!1||m$1(zt.closeButton)?jt.closeButton=zt.closeButton:zt.closeButton===!0&&(jt.closeButton=!m$1($t.closeButton)||$t.closeButton);let Ht=Bt;reactExports.isValidElement(Bt)&&!d$1(Bt.type)?Ht=reactExports.cloneElement(Bt,{closeToast:Ct,toastProps:jt,data:Ft}):u(Bt)&&(Ht=Bt({closeToast:Ct,toastProps:jt,data:Ft}));const Vt={content:Ht,props:jt,staleId:Ut};$t.limit&&$t.limit>0&&xt>$t.limit&&Rt?Et.push(Vt):c(Mt)?setTimeout(()=>{Tt(Vt)},Mt):Tt(Vt)},setProps(Bt){$t=Bt},setToggle:(Bt,zt)=>{_t.get(Bt).toggle=zt},isToastActive:Bt=>kt.some(zt=>zt===Bt),getSnapshot:()=>bt}}(st,ot,E);v$1.set(st,ht);const gt=ht.observe(ft);return h.forEach(mt=>_$1(mt.content,mt.options)),h=[],()=>{gt(),v$1.delete(st)}},setProps(ft){var ht;(ht=v$1.get(st))==null||ht.setProps(ft)},getSnapshot(){var ft;return(ft=v$1.get(st))==null?void 0:ft.getSnapshot()}}}(e)).current;tt(e);const nt=reactExports.useSyncExternalStore(s,a,a);return{getToastToRender:function(ot){if(!nt)return[];const st=new Map;return e.newestOnTop&&nt.reverse(),nt.forEach(ft=>{const{position:ht}=ft.props;st.has(ht)||st.set(ht,[]),st.get(ht).push(ft)}),Array.from(st,ft=>ot(ft[0],ft[1]))},isToastActive:I$1,count:nt==null?void 0:nt.length}}function N(e){const[s,a]=reactExports.useState(!1),[tt,nt]=reactExports.useState(!1),ot=reactExports.useRef(null),st=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:ft,pauseOnHover:ht,closeToast:gt,onClick:mt,closeOnClick:yt}=e;var wt,vt;function xt(){a(!0)}function Et(){a(!1)}function kt(_t){const St=ot.current;st.canDrag&&St&&(st.didMove=!0,s&&Et(),st.delta=e.draggableDirection==="x"?_t.clientX-st.start:_t.clientY-st.start,st.start!==_t.clientX&&(st.canCloseOnClick=!1),St.style.transform=`translate3d(${e.draggableDirection==="x"?`${st.delta}px, var(--y)`:`0, calc(${st.delta}px + var(--y))`},0)`,St.style.opacity=""+(1-Math.abs(st.delta/st.removalDistance)))}function bt(){document.removeEventListener("pointermove",kt),document.removeEventListener("pointerup",bt);const _t=ot.current;if(st.canDrag&&st.didMove&&_t){if(st.canDrag=!1,Math.abs(st.delta)>st.removalDistance)return nt(!0),e.closeToast(),void e.collapseAll();_t.style.transition="transform 0.2s, opacity 0.2s",_t.style.removeProperty("transform"),_t.style.removeProperty("opacity")}}(vt=v$1.get((wt={id:e.toastId,containerId:e.containerId,fn:a}).containerId||1))==null||vt.setToggle(wt.id,wt.fn),reactExports.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||Et(),window.addEventListener("focus",xt),window.addEventListener("blur",Et),()=>{window.removeEventListener("focus",xt),window.removeEventListener("blur",Et)}},[e.pauseOnFocusLoss]);const $t={onPointerDown:function(_t){if(e.draggable===!0||e.draggable===_t.pointerType){st.didMove=!1,document.addEventListener("pointermove",kt),document.addEventListener("pointerup",bt);const St=ot.current;st.canCloseOnClick=!0,st.canDrag=!0,St.style.transition="none",e.draggableDirection==="x"?(st.start=_t.clientX,st.removalDistance=St.offsetWidth*(e.draggablePercent/100)):(st.start=_t.clientY,st.removalDistance=St.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(_t){const{top:St,bottom:Pt,left:At,right:Tt}=ot.current.getBoundingClientRect();_t.nativeEvent.type!=="touchend"&&e.pauseOnHover&&_t.clientX>=At&&_t.clientX<=Tt&&_t.clientY>=St&&_t.clientY<=Pt?Et():xt()}};return ft&&ht&&($t.onMouseEnter=Et,e.stacked||($t.onMouseLeave=xt)),yt&&($t.onClick=_t=>{mt&&mt(_t),st.canCloseOnClick&&gt()}),{playToast:xt,pauseToast:Et,isRunning:s,preventExitTransition:tt,toastRef:ot,eventHandlers:$t}}function $$1(e){let{delay:s,isRunning:a,closeToast:tt,type:nt="default",hide:ot,className:st,style:ft,controlledProgress:ht,progress:gt,rtl:mt,isIn:yt,theme:wt}=e;const vt=ot||ht&&gt===0,xt={...ft,animationDuration:`${s}ms`,animationPlayState:a?"running":"paused"};ht&&(xt.transform=`scaleX(${gt})`);const Et=clsx("Toastify__progress-bar",ht?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${wt}`,`Toastify__progress-bar--${nt}`,{"Toastify__progress-bar--rtl":mt}),kt=u(st)?st({rtl:mt,type:nt,defaultClassName:Et}):clsx(Et,st),bt={[ht&&gt>=1?"onTransitionEnd":"onAnimationEnd"]:ht&&gt<1?null:()=>{yt&&tt()}};return o.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":vt},o.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${wt} Toastify__progress-bar--${nt}`}),o.createElement("div",{role:"progressbar","aria-hidden":vt?"true":"false","aria-label":"notification timer",className:kt,style:xt,...bt}))}let w$1=1;const k$1=()=>""+w$1++;function P(e){return e&&(d$1(e.toastId)||c(e.toastId))?e.toastId:k$1()}function M$1(e,s){return _$1(e,s),s.toastId}function x$1(e,s){return{...s,type:s&&s.type||e,toastId:P(s)}}function A$1(e){return(s,a)=>M$1(s,x$1(e,a))}function B$1(e,s){return M$1(e,x$1("default",s))}B$1.loading=(e,s)=>M$1(e,x$1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...s})),B$1.promise=function(e,s,a){let tt,{pending:nt,error:ot,success:st}=s;nt&&(tt=d$1(nt)?B$1.loading(nt,a):B$1.loading(nt.render,{...a,...nt}));const ft={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},ht=(mt,yt,wt)=>{if(yt==null)return void B$1.dismiss(tt);const vt={type:mt,...ft,...a,data:wt},xt=d$1(yt)?{render:yt}:yt;return tt?B$1.update(tt,{...vt,...xt}):B$1(xt.render,{...vt,...xt}),wt},gt=u(e)?e():e;return gt.then(mt=>ht("success",st,mt)).catch(mt=>ht("error",ot,mt)),gt},B$1.success=A$1("success"),B$1.info=A$1("info"),B$1.error=A$1("error"),B$1.warning=A$1("warning"),B$1.warn=B$1.warning,B$1.dark=(e,s)=>M$1(e,x$1("default",{theme:"dark",...s})),B$1.dismiss=function(e){(function(s){var a;if(b()){if(s==null||d$1(a=s)||c(a))v$1.forEach(tt=>{tt.removeToast(s)});else if(s&&("containerId"in s||"id"in s)){const tt=v$1.get(s.containerId);tt?tt.removeToast(s.id):v$1.forEach(nt=>{nt.removeToast(s.id)})}}else h=h.filter(tt=>s!=null&&tt.options.toastId!==s)})(e)},B$1.clearWaitingQueue=function(e){e===void 0&&(e={}),v$1.forEach(s=>{!s.props.limit||e.containerId&&s.id!==e.containerId||s.clearQueue()})},B$1.isActive=I$1,B$1.update=function(e,s){s===void 0&&(s={});const a=((tt,nt)=>{var ot;let{containerId:st}=nt;return(ot=v$1.get(st||1))==null?void 0:ot.toasts.get(tt)})(e,s);if(a){const{props:tt,content:nt}=a,ot={delay:100,...tt,...s,toastId:s.toastId||e,updateId:k$1()};ot.toastId!==e&&(ot.staleId=e);const st=ot.render||nt;delete ot.render,M$1(st,ot)}},B$1.done=e=>{B$1.update(e,{progress:1})},B$1.onChange=function(e){return T$1.add(e),()=>{T$1.delete(e)}},B$1.play=e=>C$1(!0,e),B$1.pause=e=>C$1(!1,e);const O$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,D$1=e=>{let{theme:s,type:a,isLoading:tt,...nt}=e;return o.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:s==="colored"?"currentColor":`var(--toastify-icon-color-${a})`,...nt})},z$1={info:function(e){return o.createElement(D$1,{...e},o.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return o.createElement(D$1,{...e},o.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return o.createElement(D$1,{...e},o.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return o.createElement(D$1,{...e},o.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return o.createElement("div",{className:"Toastify__spinner"})}},R$1=e=>{const{isRunning:s,preventExitTransition:a,toastRef:tt,eventHandlers:nt,playToast:ot}=N(e),{closeButton:st,children:ft,autoClose:ht,onClick:gt,type:mt,hideProgressBar:yt,closeToast:wt,transition:vt,position:xt,className:Et,style:kt,bodyClassName:bt,bodyStyle:$t,progressClassName:_t,progressStyle:St,updateId:Pt,role:At,progress:Tt,rtl:Bt,toastId:zt,deleteToast:Dt,isIn:Lt,isLoading:Ft,closeOnClick:Ut,theme:Mt}=e,Ct=clsx("Toastify__toast",`Toastify__toast-theme--${Mt}`,`Toastify__toast--${mt}`,{"Toastify__toast--rtl":Bt},{"Toastify__toast--close-on-click":Ut}),Rt=u(Et)?Et({rtl:Bt,position:xt,type:mt,defaultClassName:Ct}):clsx(Ct,Et),jt=function(Vt){let{theme:Wt,type:Gt,isLoading:qt,icon:Zt}=Vt,Yt=null;const Xt={theme:Wt,type:Gt};return Zt===!1||(u(Zt)?Yt=Zt({...Xt,isLoading:qt}):reactExports.isValidElement(Zt)?Yt=reactExports.cloneElement(Zt,Xt):qt?Yt=z$1.spinner():(Jt=>Jt in z$1)(Gt)&&(Yt=z$1[Gt](Xt))),Yt}(e),It=!!Tt||!ht,Ot={closeToast:wt,type:mt,theme:Mt};let Ht=null;return st===!1||(Ht=u(st)?st(Ot):reactExports.isValidElement(st)?reactExports.cloneElement(st,Ot):function(Vt){let{closeToast:Wt,theme:Gt,ariaLabel:qt="close"}=Vt;return o.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Gt}`,type:"button",onClick:Zt=>{Zt.stopPropagation(),Wt(Zt)},"aria-label":qt},o.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},o.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Ot)),o.createElement(vt,{isIn:Lt,done:Dt,position:xt,preventExitTransition:a,nodeRef:tt,playToast:ot},o.createElement("div",{id:zt,onClick:gt,"data-in":Lt,className:Rt,...nt,style:kt,ref:tt},o.createElement("div",{...Lt&&{role:At},className:u(bt)?bt({type:mt}):clsx("Toastify__toast-body",bt),style:$t},jt!=null&&o.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Ft})},jt),o.createElement("div",null,ft)),Ht,o.createElement($$1,{...Pt&&!It?{key:`pb-${Pt}`}:{},rtl:Bt,theme:Mt,delay:ht,isRunning:s,isIn:Lt,closeToast:wt,hide:yt,type:mt,style:St,className:_t,controlledProgress:It,progress:Tt||0})))},S$1=function(e,s){return s===void 0&&(s=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:s}},H$1=g$1(S$1("bounce",!0));g$1(S$1("slide",!0));g$1(S$1("zoom"));g$1(S$1("flip"));const q$1={position:"top-right",transition:H$1,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Q$1(e){let s={...q$1,...e};const a=e.stacked,[tt,nt]=reactExports.useState(!0),ot=reactExports.useRef(null),{getToastToRender:st,isToastActive:ft,count:ht}=L$1(s),{className:gt,style:mt,rtl:yt,containerId:wt}=s;function vt(Et){const kt=clsx("Toastify__toast-container",`Toastify__toast-container--${Et}`,{"Toastify__toast-container--rtl":yt});return u(gt)?gt({position:Et,rtl:yt,defaultClassName:kt}):clsx(kt,p(gt))}function xt(){a&&(nt(!0),B$1.play())}return O$1(()=>{if(a){var Et;const kt=ot.current.querySelectorAll('[data-in="true"]'),bt=12,$t=(Et=s.position)==null?void 0:Et.includes("top");let _t=0,St=0;Array.from(kt).reverse().forEach((Pt,At)=>{const Tt=Pt;Tt.classList.add("Toastify__toast--stacked"),At>0&&(Tt.dataset.collapsed=`${tt}`),Tt.dataset.pos||(Tt.dataset.pos=$t?"top":"bot");const Bt=_t*(tt?.2:1)+(tt?0:bt*At);Tt.style.setProperty("--y",`${$t?Bt:-1*Bt}px`),Tt.style.setProperty("--g",`${bt}`),Tt.style.setProperty("--s",""+(1-(tt?St:0))),_t+=Tt.offsetHeight,St+=.025})}},[tt,ht,a]),o.createElement("div",{ref:ot,className:"Toastify",id:wt,onMouseEnter:()=>{a&&(nt(!1),B$1.pause())},onMouseLeave:xt},st((Et,kt)=>{const bt=kt.length?{...mt}:{...mt,pointerEvents:"none"};return o.createElement("div",{className:vt(Et),style:bt,key:`container-${Et}`},kt.map($t=>{let{content:_t,props:St}=$t;return o.createElement(R$1,{...St,stacked:a,collapseAll:xt,isIn:ft(St.toastId,St.containerId),style:St.style,key:`toast-${St.key}`},_t)}))}))}var dayjs_min={exports:{}};(function(e,s){(function(a,tt){e.exports=tt()})(commonjsGlobal,function(){var a=1e3,tt=6e4,nt=36e5,ot="millisecond",st="second",ft="minute",ht="hour",gt="day",mt="week",yt="month",wt="quarter",vt="year",xt="date",Et="Invalid Date",kt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,bt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$t={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Mt){var Ct=["th","st","nd","rd"],Rt=Mt%100;return"["+Mt+(Ct[(Rt-20)%10]||Ct[Rt]||Ct[0])+"]"}},_t=function(Mt,Ct,Rt){var jt=String(Mt);return!jt||jt.length>=Ct?Mt:""+Array(Ct+1-jt.length).join(Rt)+Mt},St={s:_t,z:function(Mt){var Ct=-Mt.utcOffset(),Rt=Math.abs(Ct),jt=Math.floor(Rt/60),It=Rt%60;return(Ct<=0?"+":"-")+_t(jt,2,"0")+":"+_t(It,2,"0")},m:function Mt(Ct,Rt){if(Ct.date()<Rt.date())return-Mt(Rt,Ct);var jt=12*(Rt.year()-Ct.year())+(Rt.month()-Ct.month()),It=Ct.clone().add(jt,yt),Ot=Rt-It<0,Ht=Ct.clone().add(jt+(Ot?-1:1),yt);return+(-(jt+(Rt-It)/(Ot?It-Ht:Ht-It))||0)},a:function(Mt){return Mt<0?Math.ceil(Mt)||0:Math.floor(Mt)},p:function(Mt){return{M:yt,y:vt,w:mt,d:gt,D:xt,h:ht,m:ft,s:st,ms:ot,Q:wt}[Mt]||String(Mt||"").toLowerCase().replace(/s$/,"")},u:function(Mt){return Mt===void 0}},Pt="en",At={};At[Pt]=$t;var Tt="$isDayjsObject",Bt=function(Mt){return Mt instanceof Ft||!(!Mt||!Mt[Tt])},zt=function Mt(Ct,Rt,jt){var It;if(!Ct)return Pt;if(typeof Ct=="string"){var Ot=Ct.toLowerCase();At[Ot]&&(It=Ot),Rt&&(At[Ot]=Rt,It=Ot);var Ht=Ct.split("-");if(!It&&Ht.length>1)return Mt(Ht[0])}else{var Vt=Ct.name;At[Vt]=Ct,It=Vt}return!jt&&It&&(Pt=It),It||!jt&&Pt},Dt=function(Mt,Ct){if(Bt(Mt))return Mt.clone();var Rt=typeof Ct=="object"?Ct:{};return Rt.date=Mt,Rt.args=arguments,new Ft(Rt)},Lt=St;Lt.l=zt,Lt.i=Bt,Lt.w=function(Mt,Ct){return Dt(Mt,{locale:Ct.$L,utc:Ct.$u,x:Ct.$x,$offset:Ct.$offset})};var Ft=function(){function Mt(Rt){this.$L=zt(Rt.locale,null,!0),this.parse(Rt),this.$x=this.$x||Rt.x||{},this[Tt]=!0}var Ct=Mt.prototype;return Ct.parse=function(Rt){this.$d=function(jt){var It=jt.date,Ot=jt.utc;if(It===null)return new Date(NaN);if(Lt.u(It))return new Date;if(It instanceof Date)return new Date(It);if(typeof It=="string"&&!/Z$/i.test(It)){var Ht=It.match(kt);if(Ht){var Vt=Ht[2]-1||0,Wt=(Ht[7]||"0").substring(0,3);return Ot?new Date(Date.UTC(Ht[1],Vt,Ht[3]||1,Ht[4]||0,Ht[5]||0,Ht[6]||0,Wt)):new Date(Ht[1],Vt,Ht[3]||1,Ht[4]||0,Ht[5]||0,Ht[6]||0,Wt)}}return new Date(It)}(Rt),this.init()},Ct.init=function(){var Rt=this.$d;this.$y=Rt.getFullYear(),this.$M=Rt.getMonth(),this.$D=Rt.getDate(),this.$W=Rt.getDay(),this.$H=Rt.getHours(),this.$m=Rt.getMinutes(),this.$s=Rt.getSeconds(),this.$ms=Rt.getMilliseconds()},Ct.$utils=function(){return Lt},Ct.isValid=function(){return this.$d.toString()!==Et},Ct.isSame=function(Rt,jt){var It=Dt(Rt);return this.startOf(jt)<=It&&It<=this.endOf(jt)},Ct.isAfter=function(Rt,jt){return Dt(Rt)<this.startOf(jt)},Ct.isBefore=function(Rt,jt){return this.endOf(jt)<Dt(Rt)},Ct.$g=function(Rt,jt,It){return Lt.u(Rt)?this[jt]:this.set(It,Rt)},Ct.unix=function(){return Math.floor(this.valueOf()/1e3)},Ct.valueOf=function(){return this.$d.getTime()},Ct.startOf=function(Rt,jt){var It=this,Ot=!!Lt.u(jt)||jt,Ht=Lt.p(Rt),Vt=function(Kt,en){var tn=Lt.w(It.$u?Date.UTC(It.$y,en,Kt):new Date(It.$y,en,Kt),It);return Ot?tn:tn.endOf(gt)},Wt=function(Kt,en){return Lt.w(It.toDate()[Kt].apply(It.toDate("s"),(Ot?[0,0,0,0]:[23,59,59,999]).slice(en)),It)},Gt=this.$W,qt=this.$M,Zt=this.$D,Yt="set"+(this.$u?"UTC":"");switch(Ht){case vt:return Ot?Vt(1,0):Vt(31,11);case yt:return Ot?Vt(1,qt):Vt(0,qt+1);case mt:var Xt=this.$locale().weekStart||0,Jt=(Gt<Xt?Gt+7:Gt)-Xt;return Vt(Ot?Zt-Jt:Zt+(6-Jt),qt);case gt:case xt:return Wt(Yt+"Hours",0);case ht:return Wt(Yt+"Minutes",1);case ft:return Wt(Yt+"Seconds",2);case st:return Wt(Yt+"Milliseconds",3);default:return this.clone()}},Ct.endOf=function(Rt){return this.startOf(Rt,!1)},Ct.$set=function(Rt,jt){var It,Ot=Lt.p(Rt),Ht="set"+(this.$u?"UTC":""),Vt=(It={},It[gt]=Ht+"Date",It[xt]=Ht+"Date",It[yt]=Ht+"Month",It[vt]=Ht+"FullYear",It[ht]=Ht+"Hours",It[ft]=Ht+"Minutes",It[st]=Ht+"Seconds",It[ot]=Ht+"Milliseconds",It)[Ot],Wt=Ot===gt?this.$D+(jt-this.$W):jt;if(Ot===yt||Ot===vt){var Gt=this.clone().set(xt,1);Gt.$d[Vt](Wt),Gt.init(),this.$d=Gt.set(xt,Math.min(this.$D,Gt.daysInMonth())).$d}else Vt&&this.$d[Vt](Wt);return this.init(),this},Ct.set=function(Rt,jt){return this.clone().$set(Rt,jt)},Ct.get=function(Rt){return this[Lt.p(Rt)]()},Ct.add=function(Rt,jt){var It,Ot=this;Rt=Number(Rt);var Ht=Lt.p(jt),Vt=function(qt){var Zt=Dt(Ot);return Lt.w(Zt.date(Zt.date()+Math.round(qt*Rt)),Ot)};if(Ht===yt)return this.set(yt,this.$M+Rt);if(Ht===vt)return this.set(vt,this.$y+Rt);if(Ht===gt)return Vt(1);if(Ht===mt)return Vt(7);var Wt=(It={},It[ft]=tt,It[ht]=nt,It[st]=a,It)[Ht]||1,Gt=this.$d.getTime()+Rt*Wt;return Lt.w(Gt,this)},Ct.subtract=function(Rt,jt){return this.add(-1*Rt,jt)},Ct.format=function(Rt){var jt=this,It=this.$locale();if(!this.isValid())return It.invalidDate||Et;var Ot=Rt||"YYYY-MM-DDTHH:mm:ssZ",Ht=Lt.z(this),Vt=this.$H,Wt=this.$m,Gt=this.$M,qt=It.weekdays,Zt=It.months,Yt=It.meridiem,Xt=function(en,tn,Qt,nn){return en&&(en[tn]||en(jt,Ot))||Qt[tn].slice(0,nn)},Jt=function(en){return Lt.s(Vt%12||12,en,"0")},Kt=Yt||function(en,tn,Qt){var nn=en<12?"AM":"PM";return Qt?nn.toLowerCase():nn};return Ot.replace(bt,function(en,tn){return tn||function(Qt){switch(Qt){case"YY":return String(jt.$y).slice(-2);case"YYYY":return Lt.s(jt.$y,4,"0");case"M":return Gt+1;case"MM":return Lt.s(Gt+1,2,"0");case"MMM":return Xt(It.monthsShort,Gt,Zt,3);case"MMMM":return Xt(Zt,Gt);case"D":return jt.$D;case"DD":return Lt.s(jt.$D,2,"0");case"d":return String(jt.$W);case"dd":return Xt(It.weekdaysMin,jt.$W,qt,2);case"ddd":return Xt(It.weekdaysShort,jt.$W,qt,3);case"dddd":return qt[jt.$W];case"H":return String(Vt);case"HH":return Lt.s(Vt,2,"0");case"h":return Jt(1);case"hh":return Jt(2);case"a":return Kt(Vt,Wt,!0);case"A":return Kt(Vt,Wt,!1);case"m":return String(Wt);case"mm":return Lt.s(Wt,2,"0");case"s":return String(jt.$s);case"ss":return Lt.s(jt.$s,2,"0");case"SSS":return Lt.s(jt.$ms,3,"0");case"Z":return Ht}return null}(en)||Ht.replace(":","")})},Ct.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ct.diff=function(Rt,jt,It){var Ot,Ht=this,Vt=Lt.p(jt),Wt=Dt(Rt),Gt=(Wt.utcOffset()-this.utcOffset())*tt,qt=this-Wt,Zt=function(){return Lt.m(Ht,Wt)};switch(Vt){case vt:Ot=Zt()/12;break;case yt:Ot=Zt();break;case wt:Ot=Zt()/3;break;case mt:Ot=(qt-Gt)/6048e5;break;case gt:Ot=(qt-Gt)/864e5;break;case ht:Ot=qt/nt;break;case ft:Ot=qt/tt;break;case st:Ot=qt/a;break;default:Ot=qt}return It?Ot:Lt.a(Ot)},Ct.daysInMonth=function(){return this.endOf(yt).$D},Ct.$locale=function(){return At[this.$L]},Ct.locale=function(Rt,jt){if(!Rt)return this.$L;var It=this.clone(),Ot=zt(Rt,jt,!0);return Ot&&(It.$L=Ot),It},Ct.clone=function(){return Lt.w(this.$d,this)},Ct.toDate=function(){return new Date(this.valueOf())},Ct.toJSON=function(){return this.isValid()?this.toISOString():null},Ct.toISOString=function(){return this.$d.toISOString()},Ct.toString=function(){return this.$d.toUTCString()},Mt}(),Ut=Ft.prototype;return Dt.prototype=Ut,[["$ms",ot],["$s",st],["$m",ft],["$H",ht],["$W",gt],["$M",yt],["$y",vt],["$D",xt]].forEach(function(Mt){Ut[Mt[1]]=function(Ct){return this.$g(Ct,Mt[0],Mt[1])}}),Dt.extend=function(Mt,Ct){return Mt.$i||(Mt(Ct,Ft,Dt),Mt.$i=!0),Dt},Dt.locale=zt,Dt.isDayjs=Bt,Dt.unix=function(Mt){return Dt(1e3*Mt)},Dt.en=At[Pt],Dt.Ls=At,Dt.p={},Dt})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);function SearchIcon(){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M21.71 20.29L18 16.61C19.4401 14.8144 20.1375 12.5353 19.9488 10.2413C19.7601 7.94731 18.6997 5.81279 16.9855 4.27665C15.2714 2.74051 13.0338 1.91951 10.7329 1.98247C8.43207 2.04543 6.24275 2.98757 4.61517 4.61515C2.98759 6.24273 2.04546 8.43204 1.9825 10.7329C1.91954 13.0338 2.74053 15.2714 4.27667 16.9855C5.81281 18.6997 7.94733 19.7601 10.2413 19.9488C12.5353 20.1375 14.8144 19.4401 16.61 18L20.29 21.68C20.383 21.7737 20.4936 21.8481 20.6154 21.8989C20.7373 21.9497 20.868 21.9758 21 21.9758C21.132 21.9758 21.2627 21.9497 21.3846 21.8989C21.5065 21.8481 21.6171 21.7737 21.71 21.68C21.8903 21.4935 21.991 21.2443 21.991 20.985C21.991 20.7257 21.8903 20.4765 21.71 20.29ZM11 18C9.61556 18 8.26218 17.5895 7.11103 16.8203C5.95989 16.0511 5.06268 14.9579 4.53287 13.6788C4.00306 12.3997 3.86443 10.9922 4.13453 9.63437C4.40463 8.2765 5.07131 7.02922 6.05028 6.05026C7.02925 5.07129 8.27653 4.4046 9.63439 4.13451C10.9923 3.86441 12.3997 4.00303 13.6788 4.53285C14.9579 5.06266 16.0511 5.95987 16.8203 7.11101C17.5895 8.26216 18 9.61553 18 11C18 12.8565 17.2625 14.637 15.9498 15.9498C14.637 17.2625 12.8565 18 11 18Z",fill:"#878787"})})}function HeartIcon({isSelected:e=!0}){return jsxRuntimeExports.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M30 54.095H29.965C23.5075 53.975 4.87503 37.14 4.87503 21.195C4.87503 13.535 11.1875 6.81 18.3825 6.81C24.1075 6.81 27.9575 10.76 29.9975 13.635C32.0325 10.765 35.8825 6.81 41.61 6.81C48.81 6.81 55.12 13.535 55.12 21.1975C55.12 37.1375 36.485 53.9725 30.0275 54.09H30V54.095Z",fill:e?"white":"none"}),jsxRuntimeExports.jsx("path",{d:"M30 54.095H29.965C23.5075 53.975 4.87503 37.14 4.87503 21.195C4.87503 13.535 11.1875 6.81 18.3825 6.81C24.1075 6.81 27.9575 10.76 29.9975 13.635C32.0325 10.765 35.8825 6.81 41.61 6.81C48.81 6.81 55.12 13.535 55.12 21.1975C55.12 37.1375 36.485 53.9725 30.0275 54.09H30V54.095ZM18.385 10.5625C13.185 10.5625 8.62753 15.5325 8.62753 21.2C8.62753 35.55 26.2125 50.19 30.0025 50.345C33.7975 50.19 51.3775 35.5525 51.3775 21.2C51.3775 15.5325 46.82 10.5625 41.62 10.5625C35.3 10.5625 31.77 17.9025 31.74 17.975C31.165 19.38 28.85 19.38 28.2725 17.975C28.2375 17.9 24.7075 10.5625 18.385 10.5625Z",fill:"white",stroke:"white","stroke-width":"0.520833"})]})}function CopyIcon(){return jsxRuntimeExports.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M50 22.5H27.5C24.7386 22.5 22.5 24.7386 22.5 27.5V50C22.5 52.7614 24.7386 55 27.5 55H50C52.7614 55 55 52.7614 55 50V27.5C55 24.7386 52.7614 22.5 50 22.5Z",fill:"white",stroke:"white","stroke-width":"2.08333","stroke-linecap":"round","stroke-linejoin":"round"}),jsxRuntimeExports.jsx("path",{d:"M12.5 37.5H10C8.67392 37.5 7.40215 36.9732 6.46447 36.0355C5.52678 35.0978 5 33.8261 5 32.5V10C5 8.67392 5.52678 7.40215 6.46447 6.46447C7.40215 5.52678 8.67392 5 10 5H32.5C33.8261 5 35.0978 5.52678 36.0355 6.46447C36.9732 7.40215 37.5 8.67392 37.5 10V12.5",stroke:"white","stroke-width":"2.08333","stroke-linecap":"round","stroke-linejoin":"round"})]})}function DownloadIcon(){return jsxRuntimeExports.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M35 25V31.6667C35 32.5507 34.6488 33.3986 34.0237 34.0237C33.3986 34.6488 32.5507 35 31.6667 35H8.33333C7.44928 35 6.60143 34.6488 5.97631 34.0237C5.35119 33.3986 5 32.5507 5 31.6667V25",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),jsxRuntimeExports.jsx("path",{d:"M11.6667 16.6667L20 25L28.3333 16.6667",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),jsxRuntimeExports.jsx("path",{d:"M20 25V5",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}function HeartIcon2(){return jsxRuntimeExports.jsx("svg",{width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M12 5.881C12.981 4.729 14.484 4 16.05 4C18.822 4 21 6.178 21 8.95C21 12.3492 17.945 15.1195 13.3164 19.3167L13.305 19.327L12 20.515L10.695 19.336L10.6595 19.3037C6.04437 15.1098 3 12.3433 3 8.95C3 6.178 5.178 4 7.95 4C9.516 4 11.019 4.729 12 5.881Z",fill:"#F9595F"})})}function Bitcoin(){return jsxRuntimeExports.jsx("svg",{width:"25",height:"25",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M18 1.5C14.7366 1.5 11.5465 2.46771 8.8331 4.28075C6.11969 6.09379 4.00484 8.67074 2.756 11.6857C1.50715 14.7007 1.18039 18.0183 1.81705 21.219C2.45371 24.4197 4.02518 27.3597 6.33275 29.6673C8.64031 31.9748 11.5803 33.5463 14.781 34.183C17.9817 34.8196 21.2993 34.4929 24.3143 33.244C27.3293 31.9952 29.9062 29.8803 31.7193 27.1669C33.5323 24.4535 34.5 21.2634 34.5 18C34.5 13.6239 32.7616 9.42709 29.6673 6.33274C26.5729 3.23839 22.3761 1.5 18 1.5V1.5ZM18 31.5C15.33 31.5 12.7199 30.7082 10.4998 29.2248C8.27975 27.7414 6.54942 25.633 5.52763 23.1662C4.50585 20.6994 4.23851 17.985 4.75941 15.3663C5.28031 12.7475 6.56606 10.3421 8.45407 8.45406C10.3421 6.56605 12.7475 5.2803 15.3663 4.7594C17.985 4.2385 20.6994 4.50584 23.1662 5.52763C25.633 6.54941 27.7414 8.27974 29.2248 10.4998C30.7082 12.7199 31.5 15.33 31.5 18C31.5 21.5804 30.0777 25.0142 27.5459 27.5459C25.0142 30.0777 21.5804 31.5 18 31.5V31.5ZM21 10.5V9C21 8.60218 20.842 8.22065 20.5607 7.93934C20.2794 7.65804 19.8978 7.5 19.5 7.5C19.1022 7.5 18.7207 7.65804 18.4393 7.93934C18.158 8.22065 18 8.60218 18 9V10.5H16.5V9C16.5 8.60218 16.342 8.22065 16.0607 7.93934C15.7794 7.65804 15.3978 7.5 15 7.5C14.6022 7.5 14.2207 7.65804 13.9393 7.93934C13.658 8.22065 13.5 8.60218 13.5 9V10.5H12C11.6022 10.5 11.2207 10.658 10.9393 10.9393C10.658 11.2206 10.5 11.6022 10.5 12C10.5 12.3978 10.658 12.7794 10.9393 13.0607C11.2207 13.342 11.6022 13.5 12 13.5H13.5V22.5H12C11.6022 22.5 11.2207 22.658 10.9393 22.9393C10.658 23.2206 10.5 23.6022 10.5 24C10.5 24.3978 10.658 24.7794 10.9393 25.0607C11.2207 25.342 11.6022 25.5 12 25.5H13.5V27C13.5 27.3978 13.658 27.7794 13.9393 28.0607C14.2207 28.342 14.6022 28.5 15 28.5C15.3978 28.5 15.7794 28.342 16.0607 28.0607C16.342 27.7794 16.5 27.3978 16.5 27V25.5H18V27C18 27.3978 18.158 27.7794 18.4393 28.0607C18.7207 28.342 19.1022 28.5 19.5 28.5C19.8978 28.5 20.2794 28.342 20.5607 28.0607C20.842 27.7794 21 27.3978 21 27V25.5C22.1935 25.5 23.3381 25.0259 24.182 24.182C25.0259 23.3381 25.5 22.1935 25.5 21C25.4975 19.8919 25.0862 18.8237 24.345 18C25.0862 17.1763 25.4975 16.1081 25.5 15C25.5 13.8065 25.0259 12.6619 24.182 11.818C23.3381 10.9741 22.1935 10.5 21 10.5V10.5ZM21 22.5H16.5V19.5H21C21.3978 19.5 21.7794 19.658 22.0607 19.9393C22.342 20.2206 22.5 20.6022 22.5 21C22.5 21.3978 22.342 21.7794 22.0607 22.0607C21.7794 22.342 21.3978 22.5 21 22.5ZM21 16.5H16.5V13.5H21C21.3978 13.5 21.7794 13.658 22.0607 13.9393C22.342 14.2206 22.5 14.6022 22.5 15C22.5 15.3978 22.342 15.7794 22.0607 16.0607C21.7794 16.342 21.3978 16.5 21 16.5Z",fill:"#FE983B"})})}function VerificationCheck(){return jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 13 12",fill:"#ca077c",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.50941 0L9.53314 1.94972L11.759 2.29179L11.4059 4.4533L13 6.00021L11.4061 7.54734L11.7585 9.7082L9.53201 10.0503L8.50838 12L6.4994 11.0066L4.49194 11.9996L3.46887 10.0502L1.24134 9.70816L1.59414 7.5473L0 6.00038L1.59392 4.45325L1.24147 2.29239L3.46783 1.94984L4.49111 0.000754215L6.49943 0.993864L8.50941 0ZM4.11667 5.72772L3.25 6.60044L5.41667 8.78226L9.75 4.41863L8.88333 3.5459L5.41667 7.03681L4.11667 5.72772Z",fill:"#ca077c"})})}function Relays(){return jsxRuntimeExports.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M14.9999 10.9999H9.99989C9.73467 10.9999 9.48032 11.1053 9.29278 11.2928C9.10525 11.4803 8.99989 11.7347 8.99989 11.9999V19.9999C8.99962 20.1816 9.04884 20.3599 9.14227 20.5157C9.23569 20.6715 9.3698 20.7989 9.53018 20.8842C9.69056 20.9696 9.87116 21.0096 10.0526 21C10.234 20.9904 10.4094 20.9316 10.5599 20.8299L12.4999 19.5299L14.3899 20.7899C14.5644 20.9254 14.7789 20.9992 14.9999 20.9999C15.1523 21.0005 15.3028 20.9663 15.4399 20.8999C15.6082 20.8174 15.7499 20.6893 15.8489 20.5302C15.948 20.3711 16.0003 20.1873 15.9999 19.9999V11.9999C15.9999 11.7347 15.8945 11.4803 15.707 11.2928C15.5195 11.1053 15.2651 10.9999 14.9999 10.9999ZM13.9999 18.1199L13.0599 17.4899C12.8945 17.3781 12.6995 17.3184 12.4999 17.3184C12.3003 17.3184 12.1053 17.3781 11.9399 17.4899L10.9999 18.1299V12.9999H13.9999V18.1199ZM18.4199 7.21989C17.8089 5.8159 16.7544 4.65097 15.418 3.90362C14.0815 3.15627 12.5369 2.86773 11.0209 3.0822C9.50477 3.29668 8.10082 4.00235 7.02415 5.09107C5.94747 6.17979 5.25748 7.59151 5.05989 9.10989C4.10648 9.33822 3.27011 9.90873 2.70963 10.7131C2.14914 11.5174 1.90357 12.4996 2.01955 13.4731C2.13553 14.4466 2.60498 15.3436 3.33876 15.9938C4.07253 16.6439 5.01952 17.002 5.99989 16.9999C6.26511 16.9999 6.51946 16.8945 6.707 16.707C6.89453 16.5195 6.99989 16.2651 6.99989 15.9999C6.99989 15.7347 6.89453 15.4803 6.707 15.2928C6.51946 15.1053 6.26511 14.9999 5.99989 14.9999C5.46946 14.9999 4.96075 14.7892 4.58568 14.4141C4.2106 14.039 3.99989 13.5303 3.99989 12.9999C3.99989 12.4695 4.2106 11.9608 4.58568 11.5857C4.96075 11.2106 5.46946 10.9999 5.99989 10.9999C6.26511 10.9999 6.51946 10.8945 6.707 10.707C6.89453 10.5195 6.99989 10.2651 6.99989 9.99989C7.00244 8.81717 7.42418 7.67365 8.19016 6.77248C8.95614 5.87131 10.0168 5.27085 11.1836 5.07777C12.3505 4.88469 13.548 5.1115 14.5635 5.7179C15.5789 6.32431 16.3465 7.27103 16.7299 8.38989C16.7871 8.56173 16.8898 8.71483 17.0272 8.83283C17.1646 8.95083 17.3314 9.02931 17.5099 9.0599C18.1112 9.16874 18.665 9.45863 19.0971 9.89078C19.5292 10.3229 19.819 10.8767 19.9277 11.4781C20.0364 12.0794 19.9589 12.6997 19.7056 13.2558C19.4522 13.8119 19.035 14.2774 18.5099 14.5899C18.2792 14.7225 18.1105 14.9413 18.0412 15.1983C17.9718 15.4552 18.0073 15.7292 18.1399 15.9599C18.2725 16.1906 18.4913 16.3592 18.7483 16.4286C19.0052 16.498 19.2792 16.4625 19.5099 16.3299C20.2681 15.8898 20.8973 15.2581 21.3343 14.4981C21.7714 13.7381 22.0009 12.8766 21.9999 11.9999C21.9969 10.924 21.6469 9.87783 21.0019 9.0167C20.357 8.15557 19.4515 7.52544 18.4199 7.21989Z",fill:"#FFF"})})}function Close(){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M13.41 12L17.71 7.71C17.8983 7.5217 18.0041 7.2663 18.0041 7C18.0041 6.7337 17.8983 6.47831 17.71 6.29C17.5217 6.1017 17.2663 5.99591 17 5.99591C16.7337 5.99591 16.4783 6.1017 16.29 6.29L12 10.59L7.71 6.29C7.5217 6.1017 7.2663 5.99591 7 5.99591C6.7337 5.99591 6.4783 6.1017 6.29 6.29C6.1017 6.47831 5.99591 6.7337 5.99591 7C5.99591 7.2663 6.1017 7.5217 6.29 7.71L10.59 12L6.29 16.29C6.19627 16.383 6.12188 16.4936 6.07111 16.6154C6.02034 16.7373 5.9942 16.868 5.9942 17C5.9942 17.132 6.02034 17.2627 6.07111 17.3846C6.12188 17.5064 6.19627 17.617 6.29 17.71C6.38296 17.8037 6.49356 17.8781 6.61542 17.9289C6.73728 17.9797 6.86799 18.0058 7 18.0058C7.13201 18.0058 7.26272 17.9797 7.38458 17.9289C7.50644 17.8781 7.61704 17.8037 7.71 17.71L12 13.41L16.29 17.71C16.383 17.8037 16.4936 17.8781 16.6154 17.9289C16.7373 17.9797 16.868 18.0058 17 18.0058C17.132 18.0058 17.2627 17.9797 17.3846 17.9289C17.5064 17.8781 17.617 17.8037 17.71 17.71C17.8037 17.617 17.8781 17.5064 17.9289 17.3846C17.9797 17.2627 18.0058 17.132 18.0058 17C18.0058 16.868 17.9797 16.7373 17.9289 16.6154C17.8781 16.4936 17.8037 16.383 17.71 16.29L13.41 12Z",fill:"#848484"})})}function Delete(){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M10 18C10.2652 18 10.5196 17.8946 10.7071 17.7071C10.8946 17.5196 11 17.2652 11 17V11C11 10.7348 10.8946 10.4804 10.7071 10.2929C10.5196 10.1054 10.2652 10 10 10C9.73478 10 9.48043 10.1054 9.29289 10.2929C9.10536 10.4804 9 10.7348 9 11V17C9 17.2652 9.10536 17.5196 9.29289 17.7071C9.48043 17.8946 9.73478 18 10 18ZM20 6H16V5C16 4.20435 15.6839 3.44129 15.1213 2.87868C14.5587 2.31607 13.7956 2 13 2H11C10.2044 2 9.44129 2.31607 8.87868 2.87868C8.31607 3.44129 8 4.20435 8 5V6H4C3.73478 6 3.48043 6.10536 3.29289 6.29289C3.10536 6.48043 3 6.73478 3 7C3 7.26522 3.10536 7.51957 3.29289 7.70711C3.48043 7.89464 3.73478 8 4 8H5V19C5 19.7956 5.31607 20.5587 5.87868 21.1213C6.44129 21.6839 7.20435 22 8 22H16C16.7956 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7956 19 19V8H20C20.2652 8 20.5196 7.89464 20.7071 7.70711C20.8946 7.51957 21 7.26522 21 7C21 6.73478 20.8946 6.48043 20.7071 6.29289C20.5196 6.10536 20.2652 6 20 6ZM10 5C10 4.73478 10.1054 4.48043 10.2929 4.29289C10.4804 4.10536 10.7348 4 11 4H13C13.2652 4 13.5196 4.10536 13.7071 4.29289C13.8946 4.48043 14 4.73478 14 5V6H10V5ZM17 19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H8C7.73478 20 7.48043 19.8946 7.29289 19.7071C7.10536 19.5196 7 19.2652 7 19V8H17V19ZM14 18C14.2652 18 14.5196 17.8946 14.7071 17.7071C14.8946 17.5196 15 17.2652 15 17V11C15 10.7348 14.8946 10.4804 14.7071 10.2929C14.5196 10.1054 14.2652 10 14 10C13.7348 10 13.4804 10.1054 13.2929 10.2929C13.1054 10.4804 13 10.7348 13 11V17C13 17.2652 13.1054 17.5196 13.2929 17.7071C13.4804 17.8946 13.7348 18 14 18Z",fill:"#FE3B3B"})})}function Plus(){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M19 11H13V5C13 4.73478 12.8946 4.48043 12.7071 4.29289C12.5196 4.10536 12.2652 4 12 4C11.7348 4 11.4804 4.10536 11.2929 4.29289C11.1054 4.48043 11 4.73478 11 5V11H5C4.73478 11 4.48043 11.1054 4.29289 11.2929C4.10536 11.4804 4 11.7348 4 12C4 12.2652 4.10536 12.5196 4.29289 12.7071C4.48043 12.8946 4.73478 13 5 13H11V19C11 19.2652 11.1054 19.5196 11.2929 19.7071C11.4804 19.8946 11.7348 20 12 20C12.2652 20 12.5196 19.8946 12.7071 19.7071C12.8946 19.5196 13 19.2652 13 19V13H19C19.2652 13 19.5196 12.8946 19.7071 12.7071C19.8946 12.5196 20 12.2652 20 12C20 11.7348 19.8946 11.4804 19.7071 11.2929C19.5196 11.1054 19.2652 11 19 11Z",fill:"#FFFFFF"})})}function QuestionMark(){return jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M9.4083 12.7417C9.37246 12.7813 9.33906 12.823 9.3083 12.8667C9.27676 12.9131 9.25154 12.9636 9.2333 13.0167C9.20927 13.0639 9.19242 13.1145 9.1833 13.1667C9.17921 13.2222 9.17921 13.2779 9.1833 13.3333C9.18048 13.4427 9.20331 13.5511 9.24996 13.65C9.28739 13.7534 9.3471 13.8473 9.42487 13.9251C9.50263 14.0029 9.59655 14.0626 9.69996 14.1C9.79971 14.1441 9.90757 14.1669 10.0166 14.1669C10.1257 14.1669 10.2335 14.1441 10.3333 14.1C10.4367 14.0626 10.5306 14.0029 10.6084 13.9251C10.6862 13.8473 10.7459 13.7534 10.7833 13.65C10.8203 13.5487 10.8373 13.4411 10.8333 13.3333C10.8339 13.2237 10.8129 13.1149 10.7714 13.0134C10.73 12.9119 10.6689 12.8195 10.5916 12.7417C10.5142 12.6636 10.422 12.6016 10.3204 12.5593C10.2189 12.517 10.11 12.4952 9.99996 12.4952C9.88995 12.4952 9.78103 12.517 9.67948 12.5593C9.57793 12.6016 9.48576 12.6636 9.4083 12.7417ZM9.99996 1.66667C8.35179 1.66667 6.74062 2.15541 5.37021 3.07109C3.9998 3.98677 2.9317 5.28826 2.30097 6.81098C1.67024 8.33369 1.50521 10.0092 1.82675 11.6258C2.1483 13.2423 2.94197 14.7271 4.10741 15.8926C5.27284 17.058 6.7577 17.8517 8.37421 18.1732C9.99072 18.4948 11.6663 18.3297 13.189 17.699C14.7117 17.0683 16.0132 16.0002 16.9289 14.6298C17.8446 13.2593 18.3333 11.6482 18.3333 10C18.3333 8.90566 18.1177 7.82202 17.699 6.81098C17.2802 5.79993 16.6663 4.88127 15.8925 4.10745C15.1187 3.33363 14.2 2.7198 13.189 2.30101C12.1779 1.88222 11.0943 1.66667 9.99996 1.66667ZM9.99996 16.6667C8.68142 16.6667 7.39249 16.2757 6.29616 15.5431C5.19983 14.8106 4.34535 13.7694 3.84077 12.5512C3.33618 11.3331 3.20416 9.99261 3.46139 8.6994C3.71863 7.4062 4.35357 6.21831 5.28592 5.28596C6.21827 4.35361 7.40615 3.71867 8.69936 3.46144C9.99257 3.2042 11.333 3.33622 12.5512 3.84081C13.7694 4.34539 14.8105 5.19988 15.5431 6.2962C16.2756 7.39253 16.6666 8.68146 16.6666 10C16.6666 11.7681 15.9642 13.4638 14.714 14.714C13.4638 15.9643 11.7681 16.6667 9.99996 16.6667ZM9.99996 5.83334C9.56085 5.83306 9.12941 5.94844 8.74905 6.16787C8.3687 6.38731 8.05285 6.70305 7.8333 7.08334C7.773 7.17819 7.73252 7.28425 7.71427 7.39515C7.69603 7.50605 7.70041 7.6195 7.72715 7.72866C7.75389 7.83782 7.80244 7.94045 7.86987 8.03037C7.9373 8.12028 8.02222 8.19563 8.11952 8.25187C8.21683 8.30812 8.3245 8.3441 8.43607 8.35765C8.54764 8.37121 8.6608 8.36205 8.76874 8.33074C8.87668 8.29942 8.97717 8.2466 9.06417 8.17544C9.15116 8.10428 9.22287 8.01626 9.27496 7.91667C9.34838 7.7895 9.4541 7.68399 9.58142 7.61082C9.70873 7.53765 9.85312 7.49942 9.99996 7.5C10.221 7.5 10.4329 7.5878 10.5892 7.74408C10.7455 7.90036 10.8333 8.11232 10.8333 8.33334C10.8333 8.55435 10.7455 8.76631 10.5892 8.92259C10.4329 9.07887 10.221 9.16667 9.99996 9.16667C9.77895 9.16667 9.56699 9.25447 9.41071 9.41075C9.25443 9.56703 9.16663 9.77899 9.16663 10V10.8333C9.16663 11.0544 9.25443 11.2663 9.41071 11.4226C9.56699 11.5789 9.77895 11.6667 9.99996 11.6667C10.221 11.6667 10.4329 11.5789 10.5892 11.4226C10.7455 11.2663 10.8333 11.0544 10.8333 10.8333V10.6833C11.3844 10.4834 11.8478 10.096 12.1423 9.58906C12.4368 9.0821 12.5437 8.48775 12.4445 7.90991C12.3452 7.33208 12.046 6.80752 11.5991 6.42793C11.1523 6.04835 10.5862 5.83789 9.99996 5.83334Z",fill:"#4C9EFF"})})}function Mail(){return jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M11.6666 9.59165H13.6833C13.793 9.59229 13.9017 9.57127 14.0032 9.5298C14.1047 9.48833 14.1971 9.42722 14.275 9.34999L18.0916 5.53332C18.1697 5.45585 18.2317 5.36368 18.274 5.26214C18.3163 5.16059 18.3381 5.05166 18.3381 4.94165C18.3381 4.83164 18.3163 4.72272 18.274 4.62117C18.2317 4.51962 18.1697 4.42746 18.0916 4.34999L16.075 2.33332C15.9975 2.25521 15.9053 2.19322 15.8038 2.15091C15.7022 2.1086 15.5933 2.08682 15.4833 2.08682C15.3733 2.08682 15.2644 2.1086 15.1628 2.15091C15.0613 2.19322 14.9691 2.25521 14.8916 2.33332L11.075 6.14999C10.9227 6.30968 10.8364 6.52102 10.8333 6.74165V8.75832C10.8333 8.97933 10.9211 9.1913 11.0774 9.34758C11.2337 9.50386 11.4456 9.59165 11.6666 9.59165ZM12.5 7.09165L15.4833 4.10832L16.3166 4.94165L13.3333 7.92499H12.5V7.09165ZM17.5 8.75832C17.2789 8.75832 17.067 8.84612 16.9107 9.0024C16.7544 9.15868 16.6666 9.37064 16.6666 9.59165V15.425C16.6666 15.646 16.5788 15.858 16.4225 16.0142C16.2663 16.1705 16.0543 16.2583 15.8333 16.2583H4.16663C3.94561 16.2583 3.73365 16.1705 3.57737 16.0142C3.42109 15.858 3.33329 15.646 3.33329 15.425V7.41665L8.23329 12.325C8.46585 12.5606 8.74287 12.7476 9.04829 12.8753C9.3537 13.003 9.68143 13.0687 10.0125 13.0687C10.3435 13.0687 10.6712 13.003 10.9766 12.8753C11.2821 12.7476 11.5591 12.5606 11.7916 12.325C11.9443 12.1692 12.0298 11.9598 12.0298 11.7417C12.0298 11.5235 11.9443 11.3141 11.7916 11.1583C11.714 11.0789 11.6213 11.0159 11.519 10.9728C11.4167 10.9298 11.3068 10.9076 11.1958 10.9076C11.0848 10.9076 10.9749 10.9298 10.8726 10.9728C10.7703 11.0159 10.6776 11.0789 10.6 11.1583C10.4442 11.311 10.2348 11.3965 10.0166 11.3965C9.7985 11.3965 9.58907 11.311 9.43329 11.1583L4.50829 6.24165H8.33329C8.55431 6.24165 8.76627 6.15386 8.92255 5.99758C9.07883 5.8413 9.16663 5.62933 9.16663 5.40832C9.16663 5.18731 9.07883 4.97535 8.92255 4.81907C8.76627 4.66279 8.55431 4.57499 8.33329 4.57499H4.16663C3.50358 4.57499 2.8677 4.83838 2.39886 5.30722C1.93002 5.77606 1.66663 6.41195 1.66663 7.07499V15.4083C1.66663 16.0714 1.93002 16.7072 2.39886 17.1761C2.8677 17.6449 3.50358 17.9083 4.16663 17.9083H15.8333C16.4963 17.9083 17.1322 17.6449 17.6011 17.1761C18.0699 16.7072 18.3333 16.0714 18.3333 15.4083V9.57499C18.3333 9.35397 18.2455 9.14201 18.0892 8.98573C17.9329 8.82945 17.721 8.74165 17.5 8.74165V8.75832Z",fill:"#CE66FF"})})}function Github(){return jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M12 2.2467C9.6255 2.2468 7.32849 3.09182 5.51999 4.63055C3.71149 6.16929 2.50953 8.30133 2.12916 10.6452C1.74879 12.989 2.21485 15.3918 3.44393 17.4235C4.67301 19.4551 6.58491 20.9832 8.83755 21.7342C9.33755 21.8217 9.52505 21.5217 9.52505 21.2592C9.52505 21.0217 9.51254 20.2342 9.51254 19.3967C7.00003 19.8592 6.35003 18.7842 6.15003 18.2217C5.9281 17.6747 5.5763 17.1899 5.12503 16.8092C4.77503 16.6217 4.27503 16.1592 5.11252 16.1467C5.4323 16.1814 5.73901 16.2927 6.00666 16.4711C6.2743 16.6495 6.49499 16.8899 6.65003 17.1717C6.7868 17.4174 6.97071 17.6337 7.19122 17.8082C7.41173 17.9827 7.6645 18.112 7.93506 18.1886C8.20562 18.2652 8.48864 18.2877 8.76791 18.2548C9.04717 18.2219 9.3172 18.1342 9.56251 17.9967C9.6058 17.4883 9.83237 17.013 10.2 16.6592C7.97503 16.4092 5.65003 15.5467 5.65003 11.7217C5.63597 10.7279 6.00271 9.76631 6.67503 9.03423C6.36931 8.17045 6.40508 7.22252 6.77503 6.38423C6.77503 6.38423 7.6125 6.12172 9.52503 7.40923C11.1613 6.95921 12.8887 6.95921 14.525 7.40923C16.4375 6.10923 17.275 6.38423 17.275 6.38423C17.645 7.22251 17.6808 8.17046 17.375 9.03423C18.0494 9.76506 18.4164 10.7275 18.4 11.7217C18.4 15.5592 16.0625 16.4092 13.8375 16.6592C14.0762 16.9011 14.26 17.1915 14.3764 17.5107C14.4929 17.83 14.5393 18.1705 14.5125 18.5092C14.5125 19.8468 14.5 20.9217 14.5 21.2592C14.5 21.5217 14.6875 21.8342 15.1875 21.7342C17.4362 20.9771 19.3426 19.4455 20.5664 17.4128C21.7903 15.38 22.2519 12.9785 21.8689 10.6369C21.4859 8.29535 20.2832 6.16608 18.4755 4.62922C16.6678 3.09235 14.3727 2.24794 12 2.2467Z",fill:"#FFF"})})}var __assign=function(){return __assign=Object.assign||function(s){for(var a,tt=1,nt=arguments.length;tt<nt;tt++){a=arguments[tt];for(var ot in a)Object.prototype.hasOwnProperty.call(a,ot)&&(s[ot]=a[ot])}return s},__assign.apply(this,arguments)};function __spreadArray$2(e,s,a){if(a||arguments.length===2)for(var tt=0,nt=s.length,ot;tt<nt;tt++)(ot||!(tt in s))&&(ot||(ot=Array.prototype.slice.call(s,0,tt)),ot[tt]=s[tt]);return e.concat(ot||Array.prototype.slice.call(s))}typeof SuppressedError=="function"&&SuppressedError;var MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$3(e,s){return charat(e,0)^45?(((s<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,s){return(e=s.exec(e))?e[0]:e}function replace(e,s,a){return e.replace(s,a)}function indexof(e,s,a){return e.indexOf(s,a)}function charat(e,s){return e.charCodeAt(s)|0}function substr(e,s,a){return e.slice(s,a)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,s){return s.push(e),e}function combine(e,s){return e.map(s).join("")}function filter(e,s){return e.filter(function(a){return!match(a,s)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,s,a,tt,nt,ot,st,ft){return{value:e,root:s,parent:a,type:tt,props:nt,children:ot,line,column,length:st,return:"",siblings:ft}}function copy(e,s){return assign(node("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},s)}function lift(e){for(;e.root;)e=copy(e.root,{children:[e]});append(e,e.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(e,s){return substr(characters,e,s)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,s){for(;next()&&e+character!==57;)if(e+character===84&&peek()===47)break;return"/*"+slice(s,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token(peek());)next();return slice(e,position)}function compile(e){return dealloc(parse$1("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse$1(e,s,a,tt,nt,ot,st,ft,ht){for(var gt=0,mt=0,yt=st,wt=0,vt=0,xt=0,Et=1,kt=1,bt=1,$t=0,_t="",St=nt,Pt=ot,At=tt,Tt=_t;kt;)switch(xt=$t,$t=next()){case 40:if(xt!=108&&charat(Tt,yt-1)==58){indexof(Tt+=replace(delimit($t),"&","&\f"),"&\f",abs(gt?ft[gt-1]:0))!=-1&&(bt=-1);break}case 34:case 39:case 91:Tt+=delimit($t);break;case 9:case 10:case 13:case 32:Tt+=whitespace(xt);break;case 92:Tt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,a,ht),ht);break;default:Tt+="/"}break;case 123*Et:ft[gt++]=strlen(Tt)*bt;case 125*Et:case 59:case 0:switch($t){case 0:case 125:kt=0;case 59+mt:bt==-1&&(Tt=replace(Tt,/\f/g,"")),vt>0&&strlen(Tt)-yt&&append(vt>32?declaration(Tt+";",tt,a,yt-1,ht):declaration(replace(Tt," ","")+";",tt,a,yt-2,ht),ht);break;case 59:Tt+=";";default:if(append(At=ruleset(Tt,s,a,gt,mt,nt,ft,_t,St=[],Pt=[],yt,ot),ot),$t===123)if(mt===0)parse$1(Tt,s,At,At,St,ot,yt,ft,Pt);else switch(wt===99&&charat(Tt,3)===110?100:wt){case 100:case 108:case 109:case 115:parse$1(e,At,At,tt&&append(ruleset(e,At,At,0,0,nt,ft,_t,nt,St=[],yt,Pt),Pt),nt,Pt,yt,ft,tt?St:Pt);break;default:parse$1(Tt,At,At,At,[""],Pt,0,ft,Pt)}}gt=mt=vt=0,Et=bt=1,_t=Tt="",yt=st;break;case 58:yt=1+strlen(Tt),vt=xt;default:if(Et<1){if($t==123)--Et;else if($t==125&&Et++==0&&prev()==125)continue}switch(Tt+=from($t),$t*Et){case 38:bt=mt>0?1:(Tt+="\f",-1);break;case 44:ft[gt++]=(strlen(Tt)-1)*bt,bt=1;break;case 64:peek()===45&&(Tt+=delimit(next())),wt=peek(),mt=yt=strlen(_t=Tt+=identifier(caret())),$t++;break;case 45:xt===45&&strlen(Tt)==2&&(Et=0)}}return ot}function ruleset(e,s,a,tt,nt,ot,st,ft,ht,gt,mt,yt){for(var wt=nt-1,vt=nt===0?ot:[""],xt=sizeof(vt),Et=0,kt=0,bt=0;Et<tt;++Et)for(var $t=0,_t=substr(e,wt+1,wt=abs(kt=st[Et])),St=e;$t<xt;++$t)(St=trim(kt>0?vt[$t]+" "+_t:replace(_t,/&\f/g,vt[$t])))&&(ht[bt++]=St);return node(e,s,a,nt===0?RULESET:ft,ht,gt,mt,yt)}function comment(e,s,a,tt){return node(e,s,a,COMMENT,from(char()),substr(e,2,-2),0,tt)}function declaration(e,s,a,tt,nt){return node(e,s,a,DECLARATION,substr(e,0,tt),substr(e,tt+1,-1),tt,nt)}function prefix(e,s,a){switch(hash$3(e,s)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 4789:return MOZ+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 5936:switch(charat(e,s+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/g,"")+(match(e,/flex-|baseline/)?"":MS+"grid-row-"+replace(e,/flex-|-self/g,""))+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/g,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4200:if(!match(e,/flex-|baseline/))return MS+"grid-column-align"+substr(e,s)+e;break;case 2592:case 3360:return MS+replace(e,"template-","")+e;case 4384:case 3616:return a&&a.some(function(tt,nt){return s=nt,match(tt.props,/grid-\w+-end/)})?~indexof(e+(a=a[s].value),"span",0)?e:MS+replace(e,"-start","")+e+MS+"grid-row-span:"+(~indexof(a,"span",0)?match(a,/\d+/):+match(a,/\d+/)-+match(e,/\d+/))+";":MS+replace(e,"-start","")+e;case 4896:case 4128:return a&&a.some(function(tt){return match(tt.props,/grid-\w+-start/)})?e:MS+replace(replace(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-s>6)switch(charat(e,s+1)){case 109:if(charat(e,s+4)!==45)break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(e,s+3)==108?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch",0)?prefix(replace(e,"stretch","fill-available"),s,a)+e:e}break;case 5152:case 5920:return replace(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(tt,nt,ot,st,ft,ht,gt){return MS+nt+":"+ot+gt+(st?MS+nt+"-span:"+(ft?ht:+ht-+ot)+gt:"")+e});case 4949:if(charat(e,s+6)===121)return replace(e,":",":"+WEBKIT)+e;break;case 6444:switch(charat(e,charat(e,14)===45?18:11)){case 120:return replace(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e;case 100:return replace(e,":",":"+MS)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(e,"scroll-","scroll-snap-")+e}return e}function serialize$1(e,s){for(var a="",tt=0;tt<e.length;tt++)a+=s(e[tt],tt,e,s)||"";return a}function stringify(e,s,a,tt){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize$1(e.children,tt)+"}";case RULESET:if(!strlen(e.value=e.props.join(",")))return""}return strlen(a=serialize$1(e.children,tt))?e.return=e.value+"{"+a+"}":""}function middleware(e){var s=sizeof(e);return function(a,tt,nt,ot){for(var st="",ft=0;ft<s;ft++)st+=e[ft](a,tt,nt,ot)||"";return st}}function rulesheet(e){return function(s){s.root||(s=s.return)&&e(s)}}function prefixer(e,s,a,tt){if(e.length>-1&&!e.return)switch(e.type){case DECLARATION:e.return=prefix(e.value,e.length,a);return;case KEYFRAMES:return serialize$1([copy(e,{value:replace(e.value,"@","@"+WEBKIT)})],tt);case RULESET:if(e.length)return combine(a=e.props,function(nt){switch(match(nt,tt=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(e,{props:[replace(nt,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(e,{props:[nt]})),assign(e,{props:filter(a,tt)});break;case"::placeholder":lift(copy(e,{props:[replace(nt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(e,{props:[replace(nt,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(e,{props:[replace(nt,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(e,{props:[nt]})),assign(e,{props:filter(a,tt)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},define_process_env_default={},f=typeof process<"u"&&define_process_env_default!==void 0&&(define_process_env_default.REACT_APP_SC_ATTR||define_process_env_default.SC_ATTR)||"data-styled",m="active",y="data-styled-version",v="6.1.13",g=`/*!sc*/
`,S=typeof window<"u"&&"HTMLElement"in window,w=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==""?define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==""&&define_process_env_default.SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.SC_DISABLE_SPEEDY),_=Object.freeze([]),C=Object.freeze({});function I(e,s,a){return a===void 0&&(a=C),e.theme!==a.theme&&e.theme||s||a.theme}var A=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(e){return e.replace(O,"-").replace(D,"")}var T=/(a)(d)/gi,k=52,j=function(e){return String.fromCharCode(e+(e>25?39:97))};function x(e){var s,a="";for(s=Math.abs(e);s>k;s=s/k|0)a=j(s%k)+a;return(j(s%k)+a).replace(T,"$1-$2")}var V,F=5381,M=function(e,s){for(var a=s.length;a;)e=33*e^s.charCodeAt(--a);return e},z=function(e){return M(F,e)};function $(e){return x(z(e)>>>0)}function B(e){return e.displayName||e.name||"Component"}function L(e){return typeof e=="string"&&!0}var G=typeof Symbol=="function"&&Symbol.for,Y=G?Symbol.for("react.memo"):60115,W=G?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(e){return("type"in(s=e)&&s.type.$$typeof)===Y?U:"$$typeof"in e?J[e.$$typeof]:q;var s}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee$1=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(e,s,a){if(typeof s!="string"){if(ne){var tt=te(s);tt&&tt!==ne&&oe(e,tt,a)}var nt=K(s);Q&&(nt=nt.concat(Q(s)));for(var ot=X(e),st=X(s),ft=0;ft<nt.length;++ft){var ht=nt[ft];if(!(ht in H||a&&a[ht]||st&&ht in st||ot&&ht in ot)){var gt=ee$1(s,ht);try{Z(e,ht,gt)}catch{}}}}return e}function re(e){return typeof e=="function"}function se(e){return typeof e=="object"&&"styledComponentId"in e}function ie(e,s){return e&&s?"".concat(e," ").concat(s):e||s||""}function ae(e,s){if(e.length===0)return"";for(var a=e[0],tt=1;tt<e.length;tt++)a+=e[tt];return a}function ce(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function le(e,s,a){if(a===void 0&&(a=!1),!a&&!ce(e)&&!Array.isArray(e))return s;if(Array.isArray(s))for(var tt=0;tt<s.length;tt++)e[tt]=le(e[tt],s[tt]);else if(ce(s))for(var tt in s)e[tt]=le(e[tt],s[tt]);return e}function ue(e,s){Object.defineProperty(e,"toString",{value:s})}function he(e){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(s.length>0?" Args: ".concat(s.join(", ")):""))}var fe$1=function(){function e(s){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=s}return e.prototype.indexOfGroup=function(s){for(var a=0,tt=0;tt<s;tt++)a+=this.groupSizes[tt];return a},e.prototype.insertRules=function(s,a){if(s>=this.groupSizes.length){for(var tt=this.groupSizes,nt=tt.length,ot=nt;s>=ot;)if((ot<<=1)<0)throw he(16,"".concat(s));this.groupSizes=new Uint32Array(ot),this.groupSizes.set(tt),this.length=ot;for(var st=nt;st<ot;st++)this.groupSizes[st]=0}for(var ft=this.indexOfGroup(s+1),ht=(st=0,a.length);st<ht;st++)this.tag.insertRule(ft,a[st])&&(this.groupSizes[s]++,ft++)},e.prototype.clearGroup=function(s){if(s<this.length){var a=this.groupSizes[s],tt=this.indexOfGroup(s),nt=tt+a;this.groupSizes[s]=0;for(var ot=tt;ot<nt;ot++)this.tag.deleteRule(tt)}},e.prototype.getGroup=function(s){var a="";if(s>=this.length||this.groupSizes[s]===0)return a;for(var tt=this.groupSizes[s],nt=this.indexOfGroup(s),ot=nt+tt,st=nt;st<ot;st++)a+="".concat(this.tag.getRule(st)).concat(g);return a},e}(),ye=new Map,ve=new Map,ge$1=1,Se=function(e){if(ye.has(e))return ye.get(e);for(;ve.has(ge$1);)ge$1++;var s=ge$1++;return ye.set(e,s),ve.set(s,e),s},we=function(e,s){ge$1=s+1,ye.set(e,s),ve.set(s,e)},be="style[".concat(f,"][").concat(y,'="').concat(v,'"]'),Ee=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ne=function(e,s,a){for(var tt,nt=a.split(","),ot=0,st=nt.length;ot<st;ot++)(tt=nt[ot])&&e.registerName(s,tt)},Pe=function(e,s){for(var a,tt=((a=s.textContent)!==null&&a!==void 0?a:"").split(g),nt=[],ot=0,st=tt.length;ot<st;ot++){var ft=tt[ot].trim();if(ft){var ht=ft.match(Ee);if(ht){var gt=0|parseInt(ht[1],10),mt=ht[2];gt!==0&&(we(mt,gt),Ne(e,mt,ht[3]),e.getTag().insertRules(gt,nt)),nt.length=0}else nt.push(ft)}}},_e=function(e){for(var s=document.querySelectorAll(be),a=0,tt=s.length;a<tt;a++){var nt=s[a];nt&&nt.getAttribute(f)!==m&&(Pe(e,nt),nt.parentNode&&nt.parentNode.removeChild(nt))}};function Ce(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ie=function(e){var s=document.head,a=e||s,tt=document.createElement("style"),nt=function(ft){var ht=Array.from(ft.querySelectorAll("style[".concat(f,"]")));return ht[ht.length-1]}(a),ot=nt!==void 0?nt.nextSibling:null;tt.setAttribute(f,m),tt.setAttribute(y,v);var st=Ce();return st&&tt.setAttribute("nonce",st),a.insertBefore(tt,ot),tt},Ae=function(){function e(s){this.element=Ie(s),this.element.appendChild(document.createTextNode("")),this.sheet=function(a){if(a.sheet)return a.sheet;for(var tt=document.styleSheets,nt=0,ot=tt.length;nt<ot;nt++){var st=tt[nt];if(st.ownerNode===a)return st}throw he(17)}(this.element),this.length=0}return e.prototype.insertRule=function(s,a){try{return this.sheet.insertRule(a,s),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(s){this.sheet.deleteRule(s),this.length--},e.prototype.getRule=function(s){var a=this.sheet.cssRules[s];return a&&a.cssText?a.cssText:""},e}(),Oe=function(){function e(s){this.element=Ie(s),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(s,a){if(s<=this.length&&s>=0){var tt=document.createTextNode(a);return this.element.insertBefore(tt,this.nodes[s]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(s){this.element.removeChild(this.nodes[s]),this.length--},e.prototype.getRule=function(s){return s<this.length?this.nodes[s].textContent:""},e}(),De=function(){function e(s){this.rules=[],this.length=0}return e.prototype.insertRule=function(s,a){return s<=this.length&&(this.rules.splice(s,0,a),this.length++,!0)},e.prototype.deleteRule=function(s){this.rules.splice(s,1),this.length--},e.prototype.getRule=function(s){return s<this.length?this.rules[s]:""},e}(),Re=S,Te={isServer:!S,useCSSOMInjection:!w},ke=function(){function e(s,a,tt){s===void 0&&(s=C),a===void 0&&(a={});var nt=this;this.options=__assign(__assign({},Te),s),this.gs=a,this.names=new Map(tt),this.server=!!s.isServer,!this.server&&S&&Re&&(Re=!1,_e(this)),ue(this,function(){return function(ot){for(var st=ot.getTag(),ft=st.length,ht="",gt=function(yt){var wt=function(bt){return ve.get(bt)}(yt);if(wt===void 0)return"continue";var vt=ot.names.get(wt),xt=st.getGroup(yt);if(vt===void 0||!vt.size||xt.length===0)return"continue";var Et="".concat(f,".g").concat(yt,'[id="').concat(wt,'"]'),kt="";vt!==void 0&&vt.forEach(function(bt){bt.length>0&&(kt+="".concat(bt,","))}),ht+="".concat(xt).concat(Et,'{content:"').concat(kt,'"}').concat(g)},mt=0;mt<ft;mt++)gt(mt);return ht}(nt)})}return e.registerId=function(s){return Se(s)},e.prototype.rehydrate=function(){!this.server&&S&&_e(this)},e.prototype.reconstructWithOptions=function(s,a){return a===void 0&&(a=!0),new e(__assign(__assign({},this.options),s),this.gs,a&&this.names||void 0)},e.prototype.allocateGSInstance=function(s){return this.gs[s]=(this.gs[s]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(s=function(a){var tt=a.useCSSOMInjection,nt=a.target;return a.isServer?new De(nt):tt?new Ae(nt):new Oe(nt)}(this.options),new fe$1(s)));var s},e.prototype.hasNameForId=function(s,a){return this.names.has(s)&&this.names.get(s).has(a)},e.prototype.registerName=function(s,a){if(Se(s),this.names.has(s))this.names.get(s).add(a);else{var tt=new Set;tt.add(a),this.names.set(s,tt)}},e.prototype.insertRules=function(s,a,tt){this.registerName(s,a),this.getTag().insertRules(Se(s),tt)},e.prototype.clearNames=function(s){this.names.has(s)&&this.names.get(s).clear()},e.prototype.clearRules=function(s){this.getTag().clearGroup(Se(s)),this.clearNames(s)},e.prototype.clearTag=function(){this.tag=void 0},e}(),je=/&/g,xe=/^\s*\/\/.*$/gm;function Ve(e,s){return e.map(function(a){return a.type==="rule"&&(a.value="".concat(s," ").concat(a.value),a.value=a.value.replaceAll(",",",".concat(s," ")),a.props=a.props.map(function(tt){return"".concat(s," ").concat(tt)})),Array.isArray(a.children)&&a.type!=="@keyframes"&&(a.children=Ve(a.children,s)),a})}function Fe(e){var s,a,tt,nt=C,ot=nt.options,st=ot===void 0?C:ot,ft=nt.plugins,ht=ft===void 0?_:ft,gt=function(wt,vt,xt){return xt.startsWith(a)&&xt.endsWith(a)&&xt.replaceAll(a,"").length>0?".".concat(s):wt},mt=ht.slice();mt.push(function(wt){wt.type===RULESET&&wt.value.includes("&")&&(wt.props[0]=wt.props[0].replace(je,a).replace(tt,gt))}),st.prefix&&mt.push(prefixer),mt.push(stringify);var yt=function(wt,vt,xt,Et){vt===void 0&&(vt=""),xt===void 0&&(xt=""),Et===void 0&&(Et="&"),s=Et,a=vt,tt=new RegExp("\\".concat(a,"\\b"),"g");var kt=wt.replace(xe,""),bt=compile(xt||vt?"".concat(xt," ").concat(vt," { ").concat(kt," }"):kt);st.namespace&&(bt=Ve(bt,st.namespace));var $t=[];return serialize$1(bt,middleware(mt.concat(rulesheet(function(_t){return $t.push(_t)})))),$t};return yt.hash=ht.length?ht.reduce(function(wt,vt){return vt.name||he(15),M(wt,vt.name)},F).toString():"",yt}var Me=new ke,ze=Fe(),$e=o.createContext({shouldForwardProp:void 0,styleSheet:Me,stylis:ze});$e.Consumer;o.createContext(void 0);function Ge(){return reactExports.useContext($e)}var We=function(){function e(s,a){var tt=this;this.inject=function(nt,ot){ot===void 0&&(ot=ze);var st=tt.name+ot.hash;nt.hasNameForId(tt.id,st)||nt.insertRules(tt.id,st,ot(tt.rules,st,"@keyframes"))},this.name=s,this.id="sc-keyframes-".concat(s),this.rules=a,ue(this,function(){throw he(12,String(tt.name))})}return e.prototype.getName=function(s){return s===void 0&&(s=ze),this.name+s.hash},e}(),qe=function(e){return e>="A"&&e<="Z"};function He(e){for(var s="",a=0;a<e.length;a++){var tt=e[a];if(a===1&&tt==="-"&&e[0]==="-")return e;qe(tt)?s+="-"+tt.toLowerCase():s+=tt}return s.startsWith("ms-")?"-"+s:s}var Ue=function(e){return e==null||e===!1||e===""},Je=function(e){var s,a,tt=[];for(var nt in e){var ot=e[nt];e.hasOwnProperty(nt)&&!Ue(ot)&&(Array.isArray(ot)&&ot.isCss||re(ot)?tt.push("".concat(He(nt),":"),ot,";"):ce(ot)?tt.push.apply(tt,__spreadArray$2(__spreadArray$2(["".concat(nt," {")],Je(ot),!1),["}"],!1)):tt.push("".concat(He(nt),": ").concat((s=nt,(a=ot)==null||typeof a=="boolean"||a===""?"":typeof a!="number"||a===0||s in unitlessKeys||s.startsWith("--")?String(a).trim():"".concat(a,"px")),";")))}return tt};function Xe(e,s,a,tt){if(Ue(e))return[];if(se(e))return[".".concat(e.styledComponentId)];if(re(e)){if(!re(ot=e)||ot.prototype&&ot.prototype.isReactComponent||!s)return[e];var nt=e(s);return Xe(nt,s,a,tt)}var ot;return e instanceof We?a?(e.inject(a,tt),[e.getName(tt)]):[e]:ce(e)?Je(e):Array.isArray(e)?Array.prototype.concat.apply(_,e.map(function(st){return Xe(st,s,a,tt)})):[e.toString()]}function Ze(e){for(var s=0;s<e.length;s+=1){var a=e[s];if(re(a)&&!se(a))return!1}return!0}var Ke=z(v),Qe=function(){function e(s,a,tt){this.rules=s,this.staticRulesId="",this.isStatic=(tt===void 0||tt.isStatic)&&Ze(s),this.componentId=a,this.baseHash=M(Ke,a),this.baseStyle=tt,ke.registerId(a)}return e.prototype.generateAndInjectStyles=function(s,a,tt){var nt=this.baseStyle?this.baseStyle.generateAndInjectStyles(s,a,tt):"";if(this.isStatic&&!tt.hash)if(this.staticRulesId&&a.hasNameForId(this.componentId,this.staticRulesId))nt=ie(nt,this.staticRulesId);else{var ot=ae(Xe(this.rules,s,a,tt)),st=x(M(this.baseHash,ot)>>>0);if(!a.hasNameForId(this.componentId,st)){var ft=tt(ot,".".concat(st),void 0,this.componentId);a.insertRules(this.componentId,st,ft)}nt=ie(nt,st),this.staticRulesId=st}else{for(var ht=M(this.baseHash,tt.hash),gt="",mt=0;mt<this.rules.length;mt++){var yt=this.rules[mt];if(typeof yt=="string")gt+=yt;else if(yt){var wt=ae(Xe(yt,s,a,tt));ht=M(ht,wt+mt),gt+=wt}}if(gt){var vt=x(ht>>>0);a.hasNameForId(this.componentId,vt)||a.insertRules(this.componentId,vt,tt(gt,".".concat(vt),void 0,this.componentId)),nt=ie(nt,vt)}}return nt},e}(),et=o.createContext(void 0);et.Consumer;var rt={};function it(e,s,a){var tt=se(e),nt=e,ot=!L(e),st=s.attrs,ft=st===void 0?_:st,ht=s.componentId,gt=ht===void 0?function(St,Pt){var At=typeof St!="string"?"sc":R(St);rt[At]=(rt[At]||0)+1;var Tt="".concat(At,"-").concat($(v+At+rt[At]));return Pt?"".concat(Pt,"-").concat(Tt):Tt}(s.displayName,s.parentComponentId):ht,mt=s.displayName,yt=mt===void 0?function(St){return L(St)?"styled.".concat(St):"Styled(".concat(B(St),")")}(e):mt,wt=s.displayName&&s.componentId?"".concat(R(s.displayName),"-").concat(s.componentId):s.componentId||gt,vt=tt&&nt.attrs?nt.attrs.concat(ft).filter(Boolean):ft,xt=s.shouldForwardProp;if(tt&&nt.shouldForwardProp){var Et=nt.shouldForwardProp;if(s.shouldForwardProp){var kt=s.shouldForwardProp;xt=function(St,Pt){return Et(St,Pt)&&kt(St,Pt)}}else xt=Et}var bt=new Qe(a,wt,tt?nt.componentStyle:void 0);function $t(St,Pt){return function(At,Tt,Bt){var zt=At.attrs,Dt=At.componentStyle,Lt=At.defaultProps,Ft=At.foldedComponentIds,Ut=At.styledComponentId,Mt=At.target,Ct=o.useContext(et),Rt=Ge(),jt=At.shouldForwardProp||Rt.shouldForwardProp,It=I(Tt,Ct,Lt)||C,Ot=function(Zt,Yt,Xt){for(var Jt,Kt=__assign(__assign({},Yt),{className:void 0,theme:Xt}),en=0;en<Zt.length;en+=1){var tn=re(Jt=Zt[en])?Jt(Kt):Jt;for(var Qt in tn)Kt[Qt]=Qt==="className"?ie(Kt[Qt],tn[Qt]):Qt==="style"?__assign(__assign({},Kt[Qt]),tn[Qt]):tn[Qt]}return Yt.className&&(Kt.className=ie(Kt.className,Yt.className)),Kt}(zt,Tt,It),Ht=Ot.as||Mt,Vt={};for(var Wt in Ot)Ot[Wt]===void 0||Wt[0]==="$"||Wt==="as"||Wt==="theme"&&Ot.theme===It||(Wt==="forwardedAs"?Vt.as=Ot.forwardedAs:jt&&!jt(Wt,Ht)||(Vt[Wt]=Ot[Wt]));var Gt=function(Zt,Yt){var Xt=Ge(),Jt=Zt.generateAndInjectStyles(Yt,Xt.styleSheet,Xt.stylis);return Jt}(Dt,Ot),qt=ie(Ft,Ut);return Gt&&(qt+=" "+Gt),Ot.className&&(qt+=" "+Ot.className),Vt[L(Ht)&&!A.has(Ht)?"class":"className"]=qt,Vt.ref=Bt,reactExports.createElement(Ht,Vt)}(_t,St,Pt)}$t.displayName=yt;var _t=o.forwardRef($t);return _t.attrs=vt,_t.componentStyle=bt,_t.displayName=yt,_t.shouldForwardProp=xt,_t.foldedComponentIds=tt?ie(nt.foldedComponentIds,nt.styledComponentId):"",_t.styledComponentId=wt,_t.target=tt?nt.target:e,Object.defineProperty(_t,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(St){this._foldedDefaultProps=tt?function(Pt){for(var At=[],Tt=1;Tt<arguments.length;Tt++)At[Tt-1]=arguments[Tt];for(var Bt=0,zt=At;Bt<zt.length;Bt++)le(Pt,zt[Bt],!0);return Pt}({},nt.defaultProps,St):St}}),ue(_t,function(){return".".concat(_t.styledComponentId)}),ot&&oe(_t,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_t}function at(e,s){for(var a=[e[0]],tt=0,nt=s.length;tt<nt;tt+=1)a.push(s[tt],e[tt+1]);return a}var ct=function(e){return Object.assign(e,{isCss:!0})};function lt(e){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(re(e)||ce(e))return ct(Xe(at(_,__spreadArray$2([e],s,!0))));var tt=e;return s.length===0&&tt.length===1&&typeof tt[0]=="string"?Xe(tt):ct(Xe(at(tt,s)))}function ut$2(e,s,a){if(a===void 0&&(a=C),!s)throw he(1,s);var tt=function(nt){for(var ot=[],st=1;st<arguments.length;st++)ot[st-1]=arguments[st];return e(s,a,lt.apply(void 0,__spreadArray$2([nt],ot,!1)))};return tt.attrs=function(nt){return ut$2(e,s,__assign(__assign({},a),{attrs:Array.prototype.concat(a.attrs,nt).filter(Boolean)}))},tt.withConfig=function(nt){return ut$2(e,s,__assign(__assign({},a),nt))},tt}var pt=function(e){return ut$2(it,e)},dt=pt;A.forEach(function(e){dt[e]=pt(e)});const size={mobile:"425px",tablet:"900px"},tablet=e=>lt`
  @media (max-width: ${size.tablet}) {
    ${e};
  }
`,Divider=dt.hr`
    display: block;
    width: 100%;
    color: #3b3b3b;
    border: 0.5px solid;
`,AbsoluteFull=lt`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`,Pointer=dt.span`
  cursor: pointer;
`,HelperText=dt.small`
  display: inline-block;
  width: 100%;
  margin-top: 10px;
  text-align: center;
  min-height: 17px;
  color: #ffffff80;
  transform: translateX(-10%);
  -webkit-transform: translateX(-10%);
  font-weight: bold;

  ${tablet(`
    transform: unset;
    -webkit-transform: unset;
  `)}
`,ErrorText=dt(HelperText)`
  color: #f87171;
`;function resolveUrl(e,s){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const a=document.implementation.createHTMLDocument(),tt=a.createElement("base"),nt=a.createElement("a");return a.head.appendChild(tt),a.body.appendChild(nt),s&&(tt.href=s),nt.href=e,nt.href}const uuid=(()=>{let e=0;const s=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${s()}${e}`)})();function toArray(e){const s=[];for(let a=0,tt=e.length;a<tt;a++)s.push(e[a]);return s}function px(e,s){const tt=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(s);return tt?parseFloat(tt.replace("px","")):0}function getNodeWidth(e){const s=px(e,"border-left-width"),a=px(e,"border-right-width");return e.clientWidth+s+a}function getNodeHeight(e){const s=px(e,"border-top-width"),a=px(e,"border-bottom-width");return e.clientHeight+s+a}function getImageSize(e,s={}){const a=s.width||getNodeWidth(e),tt=s.height||getNodeHeight(e);return{width:a,height:tt}}function getPixelRatio(){let e,s;try{s=process}catch{}const a=s&&s.env?s.env.devicePixelRatio:null;return a&&(e=parseInt(a,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const canvasDimensionLimit=16384;function checkCanvasDimensions(e){(e.width>canvasDimensionLimit||e.height>canvasDimensionLimit)&&(e.width>canvasDimensionLimit&&e.height>canvasDimensionLimit?e.width>e.height?(e.height*=canvasDimensionLimit/e.width,e.width=canvasDimensionLimit):(e.width*=canvasDimensionLimit/e.height,e.height=canvasDimensionLimit):e.width>canvasDimensionLimit?(e.height*=canvasDimensionLimit/e.width,e.width=canvasDimensionLimit):(e.width*=canvasDimensionLimit/e.height,e.height=canvasDimensionLimit))}function createImage(e){return new Promise((s,a)=>{const tt=new Image;tt.decode=()=>s(tt),tt.onload=()=>s(tt),tt.onerror=a,tt.crossOrigin="anonymous",tt.decoding="async",tt.src=e})}async function svgToDataURL(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(s=>`data:image/svg+xml;charset=utf-8,${s}`)}async function nodeToDataURL(e,s,a){const tt="http://www.w3.org/2000/svg",nt=document.createElementNS(tt,"svg"),ot=document.createElementNS(tt,"foreignObject");return nt.setAttribute("width",`${s}`),nt.setAttribute("height",`${a}`),nt.setAttribute("viewBox",`0 0 ${s} ${a}`),ot.setAttribute("width","100%"),ot.setAttribute("height","100%"),ot.setAttribute("x","0"),ot.setAttribute("y","0"),ot.setAttribute("externalResourcesRequired","true"),nt.appendChild(ot),ot.appendChild(e),svgToDataURL(nt)}const isInstanceOfElement=(e,s)=>{if(e instanceof s)return!0;const a=Object.getPrototypeOf(e);return a===null?!1:a.constructor.name===s.name||isInstanceOfElement(a,s)};function formatCSSText(e){const s=e.getPropertyValue("content");return`${e.cssText} content: '${s.replace(/'|"/g,"")}';`}function formatCSSProperties(e){return toArray(e).map(s=>{const a=e.getPropertyValue(s),tt=e.getPropertyPriority(s);return`${s}: ${a}${tt?" !important":""};`}).join(" ")}function getPseudoElementStyle(e,s,a){const tt=`.${e}:${s}`,nt=a.cssText?formatCSSText(a):formatCSSProperties(a);return document.createTextNode(`${tt}{${nt}}`)}function clonePseudoElement(e,s,a){const tt=window.getComputedStyle(e,a),nt=tt.getPropertyValue("content");if(nt===""||nt==="none")return;const ot=uuid();try{s.className=`${s.className} ${ot}`}catch{return}const st=document.createElement("style");st.appendChild(getPseudoElementStyle(ot,a,tt)),s.appendChild(st)}function clonePseudoElements(e,s){clonePseudoElement(e,s,":before"),clonePseudoElement(e,s,":after")}const WOFF="application/font-woff",JPEG="image/jpeg",mimes={woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JPEG,jpeg:JPEG,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function getExtension(e){const s=/\.([^./]*?)$/g.exec(e);return s?s[1]:""}function getMimeType(e){const s=getExtension(e).toLowerCase();return mimes[s]||""}function getContentFromDataUrl(e){return e.split(/,/)[1]}function isDataUrl(e){return e.search(/^(data:)/)!==-1}function makeDataUrl(e,s){return`data:${s};base64,${e}`}async function fetchAsDataURL(e,s,a){const tt=await fetch(e,s);if(tt.status===404)throw new Error(`Resource "${tt.url}" not found`);const nt=await tt.blob();return new Promise((ot,st)=>{const ft=new FileReader;ft.onerror=st,ft.onloadend=()=>{try{ot(a({res:tt,result:ft.result}))}catch(ht){st(ht)}},ft.readAsDataURL(nt)})}const cache={};function getCacheKey(e,s,a){let tt=e.replace(/\?.*/,"");return a&&(tt=e),/ttf|otf|eot|woff2?/i.test(tt)&&(tt=tt.replace(/.*\//,"")),s?`[${s}]${tt}`:tt}async function resourceToDataURL(e,s,a){const tt=getCacheKey(e,s,a.includeQueryParams);if(cache[tt]!=null)return cache[tt];a.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let nt;try{const ot=await fetchAsDataURL(e,a.fetchRequestInit,({res:st,result:ft})=>(s||(s=st.headers.get("Content-Type")||""),getContentFromDataUrl(ft)));nt=makeDataUrl(ot,s)}catch(ot){nt=a.imagePlaceholder||"";let st=`Failed to fetch resource: ${e}`;ot&&(st=typeof ot=="string"?ot:ot.message),st&&console.warn(st)}return cache[tt]=nt,nt}async function cloneCanvasElement(e){const s=e.toDataURL();return s==="data:,"?e.cloneNode(!1):createImage(s)}async function cloneVideoElement(e,s){if(e.currentSrc){const ot=document.createElement("canvas"),st=ot.getContext("2d");ot.width=e.clientWidth,ot.height=e.clientHeight,st==null||st.drawImage(e,0,0,ot.width,ot.height);const ft=ot.toDataURL();return createImage(ft)}const a=e.poster,tt=getMimeType(a),nt=await resourceToDataURL(a,tt,s);return createImage(nt)}async function cloneIFrameElement(e){var s;try{if(!((s=e==null?void 0:e.contentDocument)===null||s===void 0)&&s.body)return await cloneNode(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function cloneSingleNode(e,s){return isInstanceOfElement(e,HTMLCanvasElement)?cloneCanvasElement(e):isInstanceOfElement(e,HTMLVideoElement)?cloneVideoElement(e,s):isInstanceOfElement(e,HTMLIFrameElement)?cloneIFrameElement(e):e.cloneNode(!1)}const isSlotElement=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function cloneChildren(e,s,a){var tt,nt;let ot=[];return isSlotElement(e)&&e.assignedNodes?ot=toArray(e.assignedNodes()):isInstanceOfElement(e,HTMLIFrameElement)&&(!((tt=e.contentDocument)===null||tt===void 0)&&tt.body)?ot=toArray(e.contentDocument.body.childNodes):ot=toArray(((nt=e.shadowRoot)!==null&&nt!==void 0?nt:e).childNodes),ot.length===0||isInstanceOfElement(e,HTMLVideoElement)||await ot.reduce((st,ft)=>st.then(()=>cloneNode(ft,a)).then(ht=>{ht&&s.appendChild(ht)}),Promise.resolve()),s}function cloneCSSStyle(e,s){const a=s.style;if(!a)return;const tt=window.getComputedStyle(e);tt.cssText?(a.cssText=tt.cssText,a.transformOrigin=tt.transformOrigin):toArray(tt).forEach(nt=>{let ot=tt.getPropertyValue(nt);nt==="font-size"&&ot.endsWith("px")&&(ot=`${Math.floor(parseFloat(ot.substring(0,ot.length-2)))-.1}px`),isInstanceOfElement(e,HTMLIFrameElement)&&nt==="display"&&ot==="inline"&&(ot="block"),nt==="d"&&s.getAttribute("d")&&(ot=`path(${s.getAttribute("d")})`),a.setProperty(nt,ot,tt.getPropertyPriority(nt))})}function cloneInputValue(e,s){isInstanceOfElement(e,HTMLTextAreaElement)&&(s.innerHTML=e.value),isInstanceOfElement(e,HTMLInputElement)&&s.setAttribute("value",e.value)}function cloneSelectValue(e,s){if(isInstanceOfElement(e,HTMLSelectElement)){const a=s,tt=Array.from(a.children).find(nt=>e.value===nt.getAttribute("value"));tt&&tt.setAttribute("selected","")}}function decorate(e,s){return isInstanceOfElement(s,Element)&&(cloneCSSStyle(e,s),clonePseudoElements(e,s),cloneInputValue(e,s),cloneSelectValue(e,s)),s}async function ensureSVGSymbols(e,s){const a=e.querySelectorAll?e.querySelectorAll("use"):[];if(a.length===0)return e;const tt={};for(let ot=0;ot<a.length;ot++){const ft=a[ot].getAttribute("xlink:href");if(ft){const ht=e.querySelector(ft),gt=document.querySelector(ft);!ht&&gt&&!tt[ft]&&(tt[ft]=await cloneNode(gt,s,!0))}}const nt=Object.values(tt);if(nt.length){const ot="http://www.w3.org/1999/xhtml",st=document.createElementNS(ot,"svg");st.setAttribute("xmlns",ot),st.style.position="absolute",st.style.width="0",st.style.height="0",st.style.overflow="hidden",st.style.display="none";const ft=document.createElementNS(ot,"defs");st.appendChild(ft);for(let ht=0;ht<nt.length;ht++)ft.appendChild(nt[ht]);e.appendChild(st)}return e}async function cloneNode(e,s,a){return!a&&s.filter&&!s.filter(e)?null:Promise.resolve(e).then(tt=>cloneSingleNode(tt,s)).then(tt=>cloneChildren(e,tt,s)).then(tt=>decorate(e,tt)).then(tt=>ensureSVGSymbols(tt,s))}const URL_REGEX=/url\((['"]?)([^'"]+?)\1\)/g,URL_WITH_FORMAT_REGEX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FONT_SRC_REGEX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function toRegex(e){const s=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${s})(['"]?\\))`,"g")}function parseURLs(e){const s=[];return e.replace(URL_REGEX,(a,tt,nt)=>(s.push(nt),a)),s.filter(a=>!isDataUrl(a))}async function embed(e,s,a,tt,nt){try{const ot=a?resolveUrl(s,a):s,st=getMimeType(s);let ft;return nt||(ft=await resourceToDataURL(ot,st,tt)),e.replace(toRegex(s),`$1${ft}$3`)}catch{}return e}function filterPreferredFontFormat(e,{preferredFontFormat:s}){return s?e.replace(FONT_SRC_REGEX,a=>{for(;;){const[tt,,nt]=URL_WITH_FORMAT_REGEX.exec(a)||[];if(!nt)return"";if(nt===s)return`src: ${tt};`}}):e}function shouldEmbed(e){return e.search(URL_REGEX)!==-1}async function embedResources(e,s,a){if(!shouldEmbed(e))return e;const tt=filterPreferredFontFormat(e,a);return parseURLs(tt).reduce((ot,st)=>ot.then(ft=>embed(ft,st,s,a)),Promise.resolve(tt))}async function embedProp(e,s,a){var tt;const nt=(tt=s.style)===null||tt===void 0?void 0:tt.getPropertyValue(e);if(nt){const ot=await embedResources(nt,null,a);return s.style.setProperty(e,ot,s.style.getPropertyPriority(e)),!0}return!1}async function embedBackground(e,s){await embedProp("background",e,s)||await embedProp("background-image",e,s),await embedProp("mask",e,s)||await embedProp("mask-image",e,s)}async function embedImageNode(e,s){const a=isInstanceOfElement(e,HTMLImageElement);if(!(a&&!isDataUrl(e.src))&&!(isInstanceOfElement(e,SVGImageElement)&&!isDataUrl(e.href.baseVal)))return;const tt=a?e.src:e.href.baseVal,nt=await resourceToDataURL(tt,getMimeType(tt),s);await new Promise((ot,st)=>{e.onload=ot,e.onerror=st;const ft=e;ft.decode&&(ft.decode=ot),ft.loading==="lazy"&&(ft.loading="eager"),a?(e.srcset="",e.src=nt):e.href.baseVal=nt})}async function embedChildren(e,s){const tt=toArray(e.childNodes).map(nt=>embedImages(nt,s));await Promise.all(tt).then(()=>e)}async function embedImages(e,s){isInstanceOfElement(e,Element)&&(await embedBackground(e,s),await embedImageNode(e,s),await embedChildren(e,s))}function applyStyle(e,s){const{style:a}=e;s.backgroundColor&&(a.backgroundColor=s.backgroundColor),s.width&&(a.width=`${s.width}px`),s.height&&(a.height=`${s.height}px`);const tt=s.style;return tt!=null&&Object.keys(tt).forEach(nt=>{a[nt]=tt[nt]}),e}const cssFetchCache={};async function fetchCSS(e){let s=cssFetchCache[e];if(s!=null)return s;const tt=await(await fetch(e)).text();return s={url:e,cssText:tt},cssFetchCache[e]=s,s}async function embedFonts(e,s){let a=e.cssText;const tt=/url\(["']?([^"')]+)["']?\)/g,ot=(a.match(/url\([^)]+\)/g)||[]).map(async st=>{let ft=st.replace(tt,"$1");return ft.startsWith("https://")||(ft=new URL(ft,e.url).href),fetchAsDataURL(ft,s.fetchRequestInit,({result:ht})=>(a=a.replace(st,`url(${ht})`),[st,ht]))});return Promise.all(ot).then(()=>a)}function parseCSS(e){if(e==null)return[];const s=[],a=/(\/\*[\s\S]*?\*\/)/gi;let tt=e.replace(a,"");const nt=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const ht=nt.exec(tt);if(ht===null)break;s.push(ht[0])}tt=tt.replace(nt,"");const ot=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,st="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",ft=new RegExp(st,"gi");for(;;){let ht=ot.exec(tt);if(ht===null){if(ht=ft.exec(tt),ht===null)break;ot.lastIndex=ft.lastIndex}else ft.lastIndex=ot.lastIndex;s.push(ht[0])}return s}async function getCSSRules(e,s){const a=[],tt=[];return e.forEach(nt=>{if("cssRules"in nt)try{toArray(nt.cssRules||[]).forEach((ot,st)=>{if(ot.type===CSSRule.IMPORT_RULE){let ft=st+1;const ht=ot.href,gt=fetchCSS(ht).then(mt=>embedFonts(mt,s)).then(mt=>parseCSS(mt).forEach(yt=>{try{nt.insertRule(yt,yt.startsWith("@import")?ft+=1:nt.cssRules.length)}catch(wt){console.error("Error inserting rule from remote css",{rule:yt,error:wt})}})).catch(mt=>{console.error("Error loading remote css",mt.toString())});tt.push(gt)}})}catch(ot){const st=e.find(ft=>ft.href==null)||document.styleSheets[0];nt.href!=null&&tt.push(fetchCSS(nt.href).then(ft=>embedFonts(ft,s)).then(ft=>parseCSS(ft).forEach(ht=>{st.insertRule(ht,nt.cssRules.length)})).catch(ft=>{console.error("Error loading remote stylesheet",ft)})),console.error("Error inlining remote css file",ot)}}),Promise.all(tt).then(()=>(e.forEach(nt=>{if("cssRules"in nt)try{toArray(nt.cssRules||[]).forEach(ot=>{a.push(ot)})}catch(ot){console.error(`Error while reading CSS rules from ${nt.href}`,ot)}}),a))}function getWebFontRules(e){return e.filter(s=>s.type===CSSRule.FONT_FACE_RULE).filter(s=>shouldEmbed(s.style.getPropertyValue("src")))}async function parseWebFontRules(e,s){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const a=toArray(e.ownerDocument.styleSheets),tt=await getCSSRules(a,s);return getWebFontRules(tt)}async function getWebFontCSS(e,s){const a=await parseWebFontRules(e,s);return(await Promise.all(a.map(nt=>{const ot=nt.parentStyleSheet?nt.parentStyleSheet.href:null;return embedResources(nt.cssText,ot,s)}))).join(`
`)}async function embedWebFonts(e,s){const a=s.fontEmbedCSS!=null?s.fontEmbedCSS:s.skipFonts?null:await getWebFontCSS(e,s);if(a){const tt=document.createElement("style"),nt=document.createTextNode(a);tt.appendChild(nt),e.firstChild?e.insertBefore(tt,e.firstChild):e.appendChild(tt)}}async function toSvg(e,s={}){const{width:a,height:tt}=getImageSize(e,s),nt=await cloneNode(e,s,!0);return await embedWebFonts(nt,s),await embedImages(nt,s),applyStyle(nt,s),await nodeToDataURL(nt,a,tt)}async function toCanvas(e,s={}){const{width:a,height:tt}=getImageSize(e,s),nt=await toSvg(e,s),ot=await createImage(nt),st=document.createElement("canvas"),ft=st.getContext("2d"),ht=s.pixelRatio||getPixelRatio(),gt=s.canvasWidth||a,mt=s.canvasHeight||tt;return st.width=gt*ht,st.height=mt*ht,s.skipAutoScale||checkCanvasDimensions(st),st.style.width=`${gt}`,st.style.height=`${mt}`,s.backgroundColor&&(ft.fillStyle=s.backgroundColor,ft.fillRect(0,0,st.width,st.height)),ft.drawImage(ot,0,0,st.width,st.height),st}async function toPng(e,s={}){return(await toCanvas(e,s)).toDataURL()}var numeral$1={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(e){(function(s,a){e.exports?e.exports=a():s.numeral=a()})(commonjsGlobal,function(){var s,a,tt="2.0.6",nt={},ot={},st={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},ft={currentLocale:st.currentLocale,zeroFormat:st.zeroFormat,nullFormat:st.nullFormat,defaultFormat:st.defaultFormat,scalePercentBy100:st.scalePercentBy100};function ht(gt,mt){this._input=gt,this._value=mt}return s=function(gt){var mt,yt,wt,vt;if(s.isNumeral(gt))mt=gt.value();else if(gt===0||typeof gt>"u")mt=0;else if(gt===null||a.isNaN(gt))mt=null;else if(typeof gt=="string")if(ft.zeroFormat&&gt===ft.zeroFormat)mt=0;else if(ft.nullFormat&&gt===ft.nullFormat||!gt.replace(/[^0-9]+/g,"").length)mt=null;else{for(yt in nt)if(vt=typeof nt[yt].regexps.unformat=="function"?nt[yt].regexps.unformat():nt[yt].regexps.unformat,vt&&gt.match(vt)){wt=nt[yt].unformat;break}wt=wt||s._.stringToNumber,mt=wt(gt)}else mt=Number(gt)||null;return new ht(gt,mt)},s.version=tt,s.isNumeral=function(gt){return gt instanceof ht},s._=a={numberToFormat:function(gt,mt,yt){var wt=ot[s.options.currentLocale],vt=!1,xt=!1,Et=0,kt="",bt=1e12,$t=1e9,_t=1e6,St=1e3,Pt="",At=!1,Tt,Bt,zt,Dt,Lt,Ft,Ut;if(gt=gt||0,Bt=Math.abs(gt),s._.includes(mt,"(")?(vt=!0,mt=mt.replace(/[\(|\)]/g,"")):(s._.includes(mt,"+")||s._.includes(mt,"-"))&&(Lt=s._.includes(mt,"+")?mt.indexOf("+"):gt<0?mt.indexOf("-"):-1,mt=mt.replace(/[\+|\-]/g,"")),s._.includes(mt,"a")&&(Tt=mt.match(/a(k|m|b|t)?/),Tt=Tt?Tt[1]:!1,s._.includes(mt," a")&&(kt=" "),mt=mt.replace(new RegExp(kt+"a[kmbt]?"),""),Bt>=bt&&!Tt||Tt==="t"?(kt+=wt.abbreviations.trillion,gt=gt/bt):Bt<bt&&Bt>=$t&&!Tt||Tt==="b"?(kt+=wt.abbreviations.billion,gt=gt/$t):Bt<$t&&Bt>=_t&&!Tt||Tt==="m"?(kt+=wt.abbreviations.million,gt=gt/_t):(Bt<_t&&Bt>=St&&!Tt||Tt==="k")&&(kt+=wt.abbreviations.thousand,gt=gt/St)),s._.includes(mt,"[.]")&&(xt=!0,mt=mt.replace("[.]",".")),zt=gt.toString().split(".")[0],Dt=mt.split(".")[1],Ft=mt.indexOf(","),Et=(mt.split(".")[0].split(",")[0].match(/0/g)||[]).length,Dt?(s._.includes(Dt,"[")?(Dt=Dt.replace("]",""),Dt=Dt.split("["),Pt=s._.toFixed(gt,Dt[0].length+Dt[1].length,yt,Dt[1].length)):Pt=s._.toFixed(gt,Dt.length,yt),zt=Pt.split(".")[0],s._.includes(Pt,".")?Pt=wt.delimiters.decimal+Pt.split(".")[1]:Pt="",xt&&Number(Pt.slice(1))===0&&(Pt="")):zt=s._.toFixed(gt,0,yt),kt&&!Tt&&Number(zt)>=1e3&&kt!==wt.abbreviations.trillion)switch(zt=String(Number(zt)/1e3),kt){case wt.abbreviations.thousand:kt=wt.abbreviations.million;break;case wt.abbreviations.million:kt=wt.abbreviations.billion;break;case wt.abbreviations.billion:kt=wt.abbreviations.trillion;break}if(s._.includes(zt,"-")&&(zt=zt.slice(1),At=!0),zt.length<Et)for(var Mt=Et-zt.length;Mt>0;Mt--)zt="0"+zt;return Ft>-1&&(zt=zt.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+wt.delimiters.thousands)),mt.indexOf(".")===0&&(zt=""),Ut=zt+Pt+(kt||""),vt?Ut=(vt&&At?"(":"")+Ut+(vt&&At?")":""):Lt>=0?Ut=Lt===0?(At?"-":"+")+Ut:Ut+(At?"-":"+"):At&&(Ut="-"+Ut),Ut},stringToNumber:function(gt){var mt=ot[ft.currentLocale],yt=gt,wt={thousand:3,million:6,billion:9,trillion:12},vt,xt,Et;if(ft.zeroFormat&&gt===ft.zeroFormat)xt=0;else if(ft.nullFormat&&gt===ft.nullFormat||!gt.replace(/[^0-9]+/g,"").length)xt=null;else{xt=1,mt.delimiters.decimal!=="."&&(gt=gt.replace(/\./g,"").replace(mt.delimiters.decimal,"."));for(vt in wt)if(Et=new RegExp("[^a-zA-Z]"+mt.abbreviations[vt]+"(?:\\)|(\\"+mt.currency.symbol+")?(?:\\))?)?$"),yt.match(Et)){xt*=Math.pow(10,wt[vt]);break}xt*=(gt.split("-").length+Math.min(gt.split("(").length-1,gt.split(")").length-1))%2?1:-1,gt=gt.replace(/[^0-9\.]+/g,""),xt*=Number(gt)}return xt},isNaN:function(gt){return typeof gt=="number"&&isNaN(gt)},includes:function(gt,mt){return gt.indexOf(mt)!==-1},insert:function(gt,mt,yt){return gt.slice(0,yt)+mt+gt.slice(yt)},reduce:function(gt,mt){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof mt!="function")throw new TypeError(mt+" is not a function");var yt=Object(gt),wt=yt.length>>>0,vt=0,xt;if(arguments.length===3)xt=arguments[2];else{for(;vt<wt&&!(vt in yt);)vt++;if(vt>=wt)throw new TypeError("Reduce of empty array with no initial value");xt=yt[vt++]}for(;vt<wt;vt++)vt in yt&&(xt=mt(xt,yt[vt],vt,yt));return xt},multiplier:function(gt){var mt=gt.toString().split(".");return mt.length<2?1:Math.pow(10,mt[1].length)},correctionFactor:function(){var gt=Array.prototype.slice.call(arguments);return gt.reduce(function(mt,yt){var wt=a.multiplier(yt);return mt>wt?mt:wt},1)},toFixed:function(gt,mt,yt,wt){var vt=gt.toString().split("."),xt=mt-(wt||0),Et,kt,bt,$t;return vt.length===2?Et=Math.min(Math.max(vt[1].length,xt),mt):Et=xt,bt=Math.pow(10,Et),$t=(yt(gt+"e+"+Et)/bt).toFixed(Et),wt>mt-Et&&(kt=new RegExp("\\.?0{1,"+(wt-(mt-Et))+"}$"),$t=$t.replace(kt,"")),$t}},s.options=ft,s.formats=nt,s.locales=ot,s.locale=function(gt){return gt&&(ft.currentLocale=gt.toLowerCase()),ft.currentLocale},s.localeData=function(gt){if(!gt)return ot[ft.currentLocale];if(gt=gt.toLowerCase(),!ot[gt])throw new Error("Unknown locale : "+gt);return ot[gt]},s.reset=function(){for(var gt in st)ft[gt]=st[gt]},s.zeroFormat=function(gt){ft.zeroFormat=typeof gt=="string"?gt:null},s.nullFormat=function(gt){ft.nullFormat=typeof gt=="string"?gt:null},s.defaultFormat=function(gt){ft.defaultFormat=typeof gt=="string"?gt:"0.0"},s.register=function(gt,mt,yt){if(mt=mt.toLowerCase(),this[gt+"s"][mt])throw new TypeError(mt+" "+gt+" already registered.");return this[gt+"s"][mt]=yt,yt},s.validate=function(gt,mt){var yt,wt,vt,xt,Et,kt,bt,$t;if(typeof gt!="string"&&(gt+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",gt)),gt=gt.trim(),gt.match(/^\d+$/))return!0;if(gt==="")return!1;try{bt=s.localeData(mt)}catch{bt=s.localeData(s.locale())}return vt=bt.currency.symbol,Et=bt.abbreviations,yt=bt.delimiters.decimal,bt.delimiters.thousands==="."?wt="\\.":wt=bt.delimiters.thousands,$t=gt.match(/^[^\d]+/),$t!==null&&(gt=gt.substr(1),$t[0]!==vt)||($t=gt.match(/[^\d]+$/),$t!==null&&(gt=gt.slice(0,-1),$t[0]!==Et.thousand&&$t[0]!==Et.million&&$t[0]!==Et.billion&&$t[0]!==Et.trillion))?!1:(kt=new RegExp(wt+"{2}"),gt.match(/[^\d.,]/g)?!1:(xt=gt.split(yt),xt.length>2?!1:xt.length<2?!!xt[0].match(/^\d+.*\d$/)&&!xt[0].match(kt):xt[0].length===1?!!xt[0].match(/^\d+$/)&&!xt[0].match(kt)&&!!xt[1].match(/^\d+$/):!!xt[0].match(/^\d+.*\d$/)&&!xt[0].match(kt)&&!!xt[1].match(/^\d+$/)))},s.fn=ht.prototype={clone:function(){return s(this)},format:function(gt,mt){var yt=this._value,wt=gt||ft.defaultFormat,vt,xt,Et;if(mt=mt||Math.round,yt===0&&ft.zeroFormat!==null)xt=ft.zeroFormat;else if(yt===null&&ft.nullFormat!==null)xt=ft.nullFormat;else{for(vt in nt)if(wt.match(nt[vt].regexps.format)){Et=nt[vt].format;break}Et=Et||s._.numberToFormat,xt=Et(yt,wt,mt)}return xt},value:function(){return this._value},input:function(){return this._input},set:function(gt){return this._value=Number(gt),this},add:function(gt){var mt=a.correctionFactor.call(null,this._value,gt);function yt(wt,vt,xt,Et){return wt+Math.round(mt*vt)}return this._value=a.reduce([this._value,gt],yt,0)/mt,this},subtract:function(gt){var mt=a.correctionFactor.call(null,this._value,gt);function yt(wt,vt,xt,Et){return wt-Math.round(mt*vt)}return this._value=a.reduce([gt],yt,Math.round(this._value*mt))/mt,this},multiply:function(gt){function mt(yt,wt,vt,xt){var Et=a.correctionFactor(yt,wt);return Math.round(yt*Et)*Math.round(wt*Et)/Math.round(Et*Et)}return this._value=a.reduce([this._value,gt],mt,1),this},divide:function(gt){function mt(yt,wt,vt,xt){var Et=a.correctionFactor(yt,wt);return Math.round(yt*Et)/Math.round(wt*Et)}return this._value=a.reduce([this._value,gt],mt),this},difference:function(gt){return Math.abs(s(this._value).subtract(gt).value())}},s.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(gt){var mt=gt%10;return~~(gt%100/10)===1?"th":mt===1?"st":mt===2?"nd":mt===3?"rd":"th"},currency:{symbol:"$"}}),function(){s.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(gt,mt,yt){var wt=s._.includes(mt," BPS")?" ":"",vt;return gt=gt*1e4,mt=mt.replace(/\s?BPS/,""),vt=s._.numberToFormat(gt,mt,yt),s._.includes(vt,")")?(vt=vt.split(""),vt.splice(-1,0,wt+"BPS"),vt=vt.join("")):vt=vt+wt+"BPS",vt},unformat:function(gt){return+(s._.stringToNumber(gt)*1e-4).toFixed(15)}})}(),function(){var gt={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},mt={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},yt=gt.suffixes.concat(mt.suffixes.filter(function(vt){return gt.suffixes.indexOf(vt)<0})),wt=yt.join("|");wt="("+wt.replace("B","B(?!PS)")+")",s.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(wt)},format:function(vt,xt,Et){var kt,bt=s._.includes(xt,"ib")?mt:gt,$t=s._.includes(xt," b")||s._.includes(xt," ib")?" ":"",_t,St,Pt;for(xt=xt.replace(/\s?i?b/,""),_t=0;_t<=bt.suffixes.length;_t++)if(St=Math.pow(bt.base,_t),Pt=Math.pow(bt.base,_t+1),vt===null||vt===0||vt>=St&&vt<Pt){$t+=bt.suffixes[_t],St>0&&(vt=vt/St);break}return kt=s._.numberToFormat(vt,xt,Et),kt+$t},unformat:function(vt){var xt=s._.stringToNumber(vt),Et,kt;if(xt){for(Et=gt.suffixes.length-1;Et>=0;Et--){if(s._.includes(vt,gt.suffixes[Et])){kt=Math.pow(gt.base,Et);break}if(s._.includes(vt,mt.suffixes[Et])){kt=Math.pow(mt.base,Et);break}}xt*=kt||1}return xt}})}(),function(){s.register("format","currency",{regexps:{format:/(\$)/},format:function(gt,mt,yt){var wt=s.locales[s.options.currentLocale],vt={before:mt.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:mt.match(/([\+|\-|\)|\s|\$]*)$/)[0]},xt,Et,kt;for(mt=mt.replace(/\s?\$\s?/,""),xt=s._.numberToFormat(gt,mt,yt),gt>=0?(vt.before=vt.before.replace(/[\-\(]/,""),vt.after=vt.after.replace(/[\-\)]/,"")):gt<0&&!s._.includes(vt.before,"-")&&!s._.includes(vt.before,"(")&&(vt.before="-"+vt.before),kt=0;kt<vt.before.length;kt++)switch(Et=vt.before[kt],Et){case"$":xt=s._.insert(xt,wt.currency.symbol,kt);break;case" ":xt=s._.insert(xt," ",kt+wt.currency.symbol.length-1);break}for(kt=vt.after.length-1;kt>=0;kt--)switch(Et=vt.after[kt],Et){case"$":xt=kt===vt.after.length-1?xt+wt.currency.symbol:s._.insert(xt,wt.currency.symbol,-(vt.after.length-(1+kt)));break;case" ":xt=kt===vt.after.length-1?xt+" ":s._.insert(xt," ",-(vt.after.length-(1+kt)+wt.currency.symbol.length-1));break}return xt}})}(),function(){s.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(gt,mt,yt){var wt,vt=typeof gt=="number"&&!s._.isNaN(gt)?gt.toExponential():"0e+0",xt=vt.split("e");return mt=mt.replace(/e[\+|\-]{1}0/,""),wt=s._.numberToFormat(Number(xt[0]),mt,yt),wt+"e"+xt[1]},unformat:function(gt){var mt=s._.includes(gt,"e+")?gt.split("e+"):gt.split("e-"),yt=Number(mt[0]),wt=Number(mt[1]);wt=s._.includes(gt,"e-")?wt*=-1:wt;function vt(xt,Et,kt,bt){var $t=s._.correctionFactor(xt,Et),_t=xt*$t*(Et*$t)/($t*$t);return _t}return s._.reduce([yt,Math.pow(10,wt)],vt,1)}})}(),function(){s.register("format","ordinal",{regexps:{format:/(o)/},format:function(gt,mt,yt){var wt=s.locales[s.options.currentLocale],vt,xt=s._.includes(mt," o")?" ":"";return mt=mt.replace(/\s?o/,""),xt+=wt.ordinal(gt),vt=s._.numberToFormat(gt,mt,yt),vt+xt}})}(),function(){s.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(gt,mt,yt){var wt=s._.includes(mt," %")?" ":"",vt;return s.options.scalePercentBy100&&(gt=gt*100),mt=mt.replace(/\s?\%/,""),vt=s._.numberToFormat(gt,mt,yt),s._.includes(vt,")")?(vt=vt.split(""),vt.splice(-1,0,wt+"%"),vt=vt.join("")):vt=vt+wt+"%",vt},unformat:function(gt){var mt=s._.stringToNumber(gt);return s.options.scalePercentBy100?mt*.01:mt}})}(),function(){s.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(gt,mt,yt){var wt=Math.floor(gt/60/60),vt=Math.floor((gt-wt*60*60)/60),xt=Math.round(gt-wt*60*60-vt*60);return wt+":"+(vt<10?"0"+vt:vt)+":"+(xt<10?"0"+xt:xt)},unformat:function(gt){var mt=gt.split(":"),yt=0;return mt.length===3?(yt=yt+Number(mt[0])*60*60,yt=yt+Number(mt[1])*60,yt=yt+Number(mt[2])):mt.length===2&&(yt=yt+Number(mt[0])*60,yt=yt+Number(mt[1])),Number(yt)}})}(),s})})(numeral$1);var numeralExports=numeral$1.exports;const numeral=getDefaultExportFromCjs(numeralExports);function number$3(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function isBytes$3(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes$3(e,...s){if(!isBytes$3(e))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(e.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${e.length}`)}function hash$2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$3(e.outputLen),number$3(e.blockLen)}function exists$2(e,s=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(s&&e.finished)throw new Error("Hash#digest() has already been called")}function output$2(e,s){bytes$3(e);const a=s.outputLen;if(e.length<a)throw new Error(`digestInto() expects output buffer of length at least ${a}`)}const crypto$3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView$2=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr$2=(e,s)=>e<<32-s|e>>>s;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const hexes$3=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$3(e){bytes$3(e);let s="";for(let a=0;a<e.length;a++)s+=hexes$3[e[a]];return s}const asciis$1={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16$1(e){if(e>=asciis$1._0&&e<=asciis$1._9)return e-asciis$1._0;if(e>=asciis$1._A&&e<=asciis$1._F)return e-(asciis$1._A-10);if(e>=asciis$1._a&&e<=asciis$1._f)return e-(asciis$1._a-10)}function hexToBytes$4(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length,a=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const tt=new Uint8Array(a);for(let nt=0,ot=0;nt<a;nt++,ot+=2){const st=asciiToBase16$1(e.charCodeAt(ot)),ft=asciiToBase16$1(e.charCodeAt(ot+1));if(st===void 0||ft===void 0){const ht=e[ot]+e[ot+1];throw new Error('hex string expected, got non-hex character "'+ht+'" at index '+ot)}tt[nt]=st*16+ft}return tt}function utf8ToBytes$4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes$2(e){return typeof e=="string"&&(e=utf8ToBytes$4(e)),bytes$3(e),e}function concatBytes$4(...e){let s=0;for(let tt=0;tt<e.length;tt++){const nt=e[tt];bytes$3(nt),s+=nt.length}const a=new Uint8Array(s);for(let tt=0,nt=0;tt<e.length;tt++){const ot=e[tt];a.set(ot,nt),nt+=ot.length}return a}let Hash$2=class{clone(){return this._cloneInto()}};function wrapConstructor$2(e){const s=tt=>e().update(toBytes$2(tt)).digest(),a=e();return s.outputLen=a.outputLen,s.blockLen=a.blockLen,s.create=()=>e(),s}function randomBytes$2(e=32){if(crypto$3&&typeof crypto$3.getRandomValues=="function")return crypto$3.getRandomValues(new Uint8Array(e));if(crypto$3&&typeof crypto$3.randomBytes=="function")return crypto$3.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$2(e,s,a,tt){if(typeof e.setBigUint64=="function")return e.setBigUint64(s,a,tt);const nt=BigInt(32),ot=BigInt(4294967295),st=Number(a>>nt&ot),ft=Number(a&ot),ht=tt?4:0,gt=tt?0:4;e.setUint32(s+ht,st,tt),e.setUint32(s+gt,ft,tt)}const Chi$2=(e,s,a)=>e&s^~e&a,Maj$2=(e,s,a)=>e&s^e&a^s&a;class HashMD extends Hash$2{constructor(s,a,tt,nt){super(),this.blockLen=s,this.outputLen=a,this.padOffset=tt,this.isLE=nt,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView$2(this.buffer)}update(s){exists$2(this);const{view:a,buffer:tt,blockLen:nt}=this;s=toBytes$2(s);const ot=s.length;for(let st=0;st<ot;){const ft=Math.min(nt-this.pos,ot-st);if(ft===nt){const ht=createView$2(s);for(;nt<=ot-st;st+=nt)this.process(ht,st);continue}tt.set(s.subarray(st,st+ft),this.pos),this.pos+=ft,st+=ft,this.pos===nt&&(this.process(a,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){exists$2(this),output$2(s,this),this.finished=!0;const{buffer:a,view:tt,blockLen:nt,isLE:ot}=this;let{pos:st}=this;a[st++]=128,this.buffer.subarray(st).fill(0),this.padOffset>nt-st&&(this.process(tt,0),st=0);for(let yt=st;yt<nt;yt++)a[yt]=0;setBigUint64$2(tt,nt-8,BigInt(this.length*8),ot),this.process(tt,0);const ft=createView$2(s),ht=this.outputLen;if(ht%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const gt=ht/4,mt=this.get();if(gt>mt.length)throw new Error("_sha2: outputLen bigger than state");for(let yt=0;yt<gt;yt++)ft.setUint32(4*yt,mt[yt],ot)}digest(){const{buffer:s,outputLen:a}=this;this.digestInto(s);const tt=s.slice(0,a);return this.destroy(),tt}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:a,buffer:tt,length:nt,finished:ot,destroyed:st,pos:ft}=this;return s.length=nt,s.pos=ft,s.finished=ot,s.destroyed=st,nt%a&&s.buffer.set(tt),s}}const SHA256_K$2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$2=new Uint32Array(64);let SHA256$2=class extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:s,B:a,C:tt,D:nt,E:ot,F:st,G:ft,H:ht}=this;return[s,a,tt,nt,ot,st,ft,ht]}set(s,a,tt,nt,ot,st,ft,ht){this.A=s|0,this.B=a|0,this.C=tt|0,this.D=nt|0,this.E=ot|0,this.F=st|0,this.G=ft|0,this.H=ht|0}process(s,a){for(let yt=0;yt<16;yt++,a+=4)SHA256_W$2[yt]=s.getUint32(a,!1);for(let yt=16;yt<64;yt++){const wt=SHA256_W$2[yt-15],vt=SHA256_W$2[yt-2],xt=rotr$2(wt,7)^rotr$2(wt,18)^wt>>>3,Et=rotr$2(vt,17)^rotr$2(vt,19)^vt>>>10;SHA256_W$2[yt]=Et+SHA256_W$2[yt-7]+xt+SHA256_W$2[yt-16]|0}let{A:tt,B:nt,C:ot,D:st,E:ft,F:ht,G:gt,H:mt}=this;for(let yt=0;yt<64;yt++){const wt=rotr$2(ft,6)^rotr$2(ft,11)^rotr$2(ft,25),vt=mt+wt+Chi$2(ft,ht,gt)+SHA256_K$2[yt]+SHA256_W$2[yt]|0,Et=(rotr$2(tt,2)^rotr$2(tt,13)^rotr$2(tt,22))+Maj$2(tt,nt,ot)|0;mt=gt,gt=ht,ht=ft,ft=st+vt|0,st=ot,ot=nt,nt=tt,tt=vt+Et|0}tt=tt+this.A|0,nt=nt+this.B|0,ot=ot+this.C|0,st=st+this.D|0,ft=ft+this.E|0,ht=ht+this.F|0,gt=gt+this.G|0,mt=mt+this.H|0,this.set(tt,nt,ot,st,ft,ht,gt,mt)}roundClean(){SHA256_W$2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$2=wrapConstructor$2(()=>new SHA256$2);let HMAC$2=class extends Hash$2{constructor(s,a){super(),this.finished=!1,this.destroyed=!1,hash$2(s);const tt=toBytes$2(a);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const nt=this.blockLen,ot=new Uint8Array(nt);ot.set(tt.length>nt?s.create().update(tt).digest():tt);for(let st=0;st<ot.length;st++)ot[st]^=54;this.iHash.update(ot),this.oHash=s.create();for(let st=0;st<ot.length;st++)ot[st]^=106;this.oHash.update(ot),ot.fill(0)}update(s){return exists$2(this),this.iHash.update(s),this}digestInto(s){exists$2(this),bytes$3(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:tt,finished:nt,destroyed:ot,blockLen:st,outputLen:ft}=this;return s=s,s.finished=nt,s.destroyed=ot,s.blockLen=st,s.outputLen=ft,s.oHash=a._cloneInto(s.oHash),s.iHash=tt._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$2=(e,s,a)=>new HMAC$2(e,s).update(a).digest();hmac$2.create=(e,s)=>new HMAC$2(e,s);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$9=BigInt(0),_1n$9=BigInt(1),_2n$5=BigInt(2);function isBytes$2(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function abytes(e){if(!isBytes$2(e))throw new Error("Uint8Array expected")}function abool(e,s){if(typeof s!="boolean")throw new Error(`${e} must be valid boolean, got "${s}".`)}const hexes$2=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$2(e){abytes(e);let s="";for(let a=0;a<e.length;a++)s+=hexes$2[e[a]];return s}function numberToHexUnpadded$1(e){const s=e.toString(16);return s.length&1?`0${s}`:s}function hexToNumber$1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(e){if(e>=asciis._0&&e<=asciis._9)return e-asciis._0;if(e>=asciis._A&&e<=asciis._F)return e-(asciis._A-10);if(e>=asciis._a&&e<=asciis._f)return e-(asciis._a-10)}function hexToBytes$3(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length,a=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const tt=new Uint8Array(a);for(let nt=0,ot=0;nt<a;nt++,ot+=2){const st=asciiToBase16(e.charCodeAt(ot)),ft=asciiToBase16(e.charCodeAt(ot+1));if(st===void 0||ft===void 0){const ht=e[ot]+e[ot+1];throw new Error('hex string expected, got non-hex character "'+ht+'" at index '+ot)}tt[nt]=st*16+ft}return tt}function bytesToNumberBE$1(e){return hexToNumber$1(bytesToHex$2(e))}function bytesToNumberLE$1(e){return abytes(e),hexToNumber$1(bytesToHex$2(Uint8Array.from(e).reverse()))}function numberToBytesBE$1(e,s){return hexToBytes$3(e.toString(16).padStart(s*2,"0"))}function numberToBytesLE$1(e,s){return numberToBytesBE$1(e,s).reverse()}function numberToVarBytesBE$1(e){return hexToBytes$3(numberToHexUnpadded$1(e))}function ensureBytes$1(e,s,a){let tt;if(typeof s=="string")try{tt=hexToBytes$3(s)}catch(ot){throw new Error(`${e} must be valid hex string, got "${s}". Cause: ${ot}`)}else if(isBytes$2(s))tt=Uint8Array.from(s);else throw new Error(`${e} must be hex string or Uint8Array`);const nt=tt.length;if(typeof a=="number"&&nt!==a)throw new Error(`${e} expected ${a} bytes, got ${nt}`);return tt}function concatBytes$3(...e){let s=0;for(let tt=0;tt<e.length;tt++){const nt=e[tt];abytes(nt),s+=nt.length}const a=new Uint8Array(s);for(let tt=0,nt=0;tt<e.length;tt++){const ot=e[tt];a.set(ot,nt),nt+=ot.length}return a}function equalBytes$2(e,s){if(e.length!==s.length)return!1;let a=0;for(let tt=0;tt<e.length;tt++)a|=e[tt]^s[tt];return a===0}function utf8ToBytes$3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const isPosBig=e=>typeof e=="bigint"&&_0n$9<=e;function inRange(e,s,a){return isPosBig(e)&&isPosBig(s)&&isPosBig(a)&&s<=e&&e<a}function aInRange(e,s,a,tt){if(!inRange(s,a,tt))throw new Error(`expected valid ${e}: ${a} <= n < ${tt}, got ${typeof s} ${s}`)}function bitLen$1(e){let s;for(s=0;e>_0n$9;e>>=_1n$9,s+=1);return s}function bitGet$1(e,s){return e>>BigInt(s)&_1n$9}function bitSet$1(e,s,a){return e|(a?_1n$9:_0n$9)<<BigInt(s)}const bitMask$1=e=>(_2n$5<<BigInt(e-1))-_1n$9,u8n$1=e=>new Uint8Array(e),u8fr$1=e=>Uint8Array.from(e);function createHmacDrbg$1(e,s,a){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof a!="function")throw new Error("hmacFn must be a function");let tt=u8n$1(e),nt=u8n$1(e),ot=0;const st=()=>{tt.fill(1),nt.fill(0),ot=0},ft=(...yt)=>a(nt,tt,...yt),ht=(yt=u8n$1())=>{nt=ft(u8fr$1([0]),yt),tt=ft(),yt.length!==0&&(nt=ft(u8fr$1([1]),yt),tt=ft())},gt=()=>{if(ot++>=1e3)throw new Error("drbg: tried 1000 values");let yt=0;const wt=[];for(;yt<s;){tt=ft();const vt=tt.slice();wt.push(vt),yt+=tt.length}return concatBytes$3(...wt)};return(yt,wt)=>{st(),ht(yt);let vt;for(;!(vt=wt(gt()));)ht();return st(),vt}}const validatorFns$1={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||isBytes$2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,s)=>s.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function validateObject$1(e,s,a={}){const tt=(nt,ot,st)=>{const ft=validatorFns$1[ot];if(typeof ft!="function")throw new Error(`Invalid validator "${ot}", expected function`);const ht=e[nt];if(!(st&&ht===void 0)&&!ft(ht,e))throw new Error(`Invalid param ${String(nt)}=${ht} (${typeof ht}), expected ${ot}`)};for(const[nt,ot]of Object.entries(s))tt(nt,ot,!1);for(const[nt,ot]of Object.entries(a))tt(nt,ot,!0);return e}const notImplemented=()=>{throw new Error("not implemented")};function memoized(e){const s=new WeakMap;return(a,...tt)=>{const nt=s.get(a);if(nt!==void 0)return nt;const ot=e(a,...tt);return s.set(a,ot),ot}}const ut$1=Object.freeze(Object.defineProperty({__proto__:null,aInRange,abool,abytes,bitGet:bitGet$1,bitLen:bitLen$1,bitMask:bitMask$1,bitSet:bitSet$1,bytesToHex:bytesToHex$2,bytesToNumberBE:bytesToNumberBE$1,bytesToNumberLE:bytesToNumberLE$1,concatBytes:concatBytes$3,createHmacDrbg:createHmacDrbg$1,ensureBytes:ensureBytes$1,equalBytes:equalBytes$2,hexToBytes:hexToBytes$3,hexToNumber:hexToNumber$1,inRange,isBytes:isBytes$2,memoized,notImplemented,numberToBytesBE:numberToBytesBE$1,numberToBytesLE:numberToBytesLE$1,numberToHexUnpadded:numberToHexUnpadded$1,numberToVarBytesBE:numberToVarBytesBE$1,utf8ToBytes:utf8ToBytes$3,validateObject:validateObject$1},Symbol.toStringTag,{value:"Module"}));/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function chain$1(...e){const s=ot=>ot,a=(ot,st)=>ft=>ot(st(ft)),tt=e.map(ot=>ot.encode).reduceRight(a,s),nt=e.map(ot=>ot.decode).reduce(a,s);return{encode:tt,decode:nt}}function alphabet$1(e){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(a=>{if(a<0||a>=e.length)throw new Error(`Digit index outside alphabet: ${a} (alphabet: ${e.length})`);return e[a]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(a=>{if(typeof a!="string")throw new Error(`alphabet.decode: not string element=${a}`);const tt=e.indexOf(a);if(tt===-1)throw new Error(`Unknown letter: "${a}". Allowed: ${e}`);return tt})}}}function join$1(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let a of s)if(typeof a!="string")throw new Error(`join.encode: non-string input=${a}`);return s.join(e)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(e)}}}function padding$1(e,s="="){if(typeof s!="string")throw new Error("padding chr should be string");return{encode(a){if(!Array.isArray(a)||a.length&&typeof a[0]!="string")throw new Error("padding.encode input should be array of strings");for(let tt of a)if(typeof tt!="string")throw new Error(`padding.encode: non-string input=${tt}`);for(;a.length*e%8;)a.push(s);return a},decode(a){if(!Array.isArray(a)||a.length&&typeof a[0]!="string")throw new Error("padding.encode input should be array of strings");for(let nt of a)if(typeof nt!="string")throw new Error(`padding.decode: non-string input=${nt}`);let tt=a.length;if(tt*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;tt>0&&a[tt-1]===s;tt--)if(!((tt-1)*e%8))throw new Error("Invalid padding: string has too much padding");return a.slice(0,tt)}}}const gcd$1=(e,s)=>s?gcd$1(s,e%s):e,radix2carry$1=(e,s)=>e+(s-gcd$1(e,s));function convertRadix2$1(e,s,a,tt){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(a<=0||a>32)throw new Error(`convertRadix2: wrong to=${a}`);if(radix2carry$1(s,a)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${a} carryBits=${radix2carry$1(s,a)}`);let nt=0,ot=0;const st=2**a-1,ft=[];for(const ht of e){if(ht>=2**s)throw new Error(`convertRadix2: invalid data word=${ht} from=${s}`);if(nt=nt<<s|ht,ot+s>32)throw new Error(`convertRadix2: carry overflow pos=${ot} from=${s}`);for(ot+=s;ot>=a;ot-=a)ft.push((nt>>ot-a&st)>>>0);nt&=2**ot-1}if(nt=nt<<a-ot&st,!tt&&ot>=s)throw new Error("Excess padding");if(!tt&&nt)throw new Error(`Non-zero padding: ${nt}`);return tt&&ot>0&&ft.push(nt>>>0),ft}function radix2$1(e,s=!1){if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry$1(8,e)>32||radix2carry$1(e,8)>32)throw new Error("radix2: carry overflow");return{encode:a=>{if(!isBytes$1(a))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2$1(Array.from(a),8,e,!s)},decode:a=>{if(!Array.isArray(a)||a.length&&typeof a[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(convertRadix2$1(a,e,8,s))}}}function unsafeWrapper$1(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return e.apply(null,s)}catch{}}}const base64$1=chain$1(radix2$1(6),alphabet$1("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding$1(6),join$1("")),BECH_ALPHABET$1=chain$1(alphabet$1("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join$1("")),POLYMOD_GENERATORS$1=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod$1(e){const s=e>>25;let a=(e&33554431)<<5;for(let tt=0;tt<POLYMOD_GENERATORS$1.length;tt++)(s>>tt&1)===1&&(a^=POLYMOD_GENERATORS$1[tt]);return a}function bechChecksum$1(e,s,a=1){const tt=e.length;let nt=1;for(let ot=0;ot<tt;ot++){const st=e.charCodeAt(ot);if(st<33||st>126)throw new Error(`Invalid prefix (${e})`);nt=bech32Polymod$1(nt)^st>>5}nt=bech32Polymod$1(nt);for(let ot=0;ot<tt;ot++)nt=bech32Polymod$1(nt)^e.charCodeAt(ot)&31;for(let ot of s)nt=bech32Polymod$1(nt)^ot;for(let ot=0;ot<6;ot++)nt=bech32Polymod$1(nt);return nt^=a,BECH_ALPHABET$1.encode(convertRadix2$1([nt%2**30],30,5,!1))}function genBech32$1(e){const s=e==="bech32"?1:734539939,a=radix2$1(5),tt=a.decode,nt=a.encode,ot=unsafeWrapper$1(tt);function st(yt,wt,vt=90){if(typeof yt!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof yt}`);if(wt instanceof Uint8Array&&(wt=Array.from(wt)),!Array.isArray(wt)||wt.length&&typeof wt[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof wt}`);if(yt.length===0)throw new TypeError(`Invalid prefix length ${yt.length}`);const xt=yt.length+7+wt.length;if(vt!==!1&&xt>vt)throw new TypeError(`Length ${xt} exceeds limit ${vt}`);const Et=yt.toLowerCase(),kt=bechChecksum$1(Et,wt,s);return`${Et}1${BECH_ALPHABET$1.encode(wt)}${kt}`}function ft(yt,wt=90){if(typeof yt!="string")throw new Error(`bech32.decode input should be string, not ${typeof yt}`);if(yt.length<8||wt!==!1&&yt.length>wt)throw new TypeError(`Wrong string length: ${yt.length} (${yt}). Expected (8..${wt})`);const vt=yt.toLowerCase();if(yt!==vt&&yt!==yt.toUpperCase())throw new Error("String must be lowercase or uppercase");const xt=vt.lastIndexOf("1");if(xt===0||xt===-1)throw new Error('Letter "1" must be present between prefix and data only');const Et=vt.slice(0,xt),kt=vt.slice(xt+1);if(kt.length<6)throw new Error("Data must be at least 6 characters long");const bt=BECH_ALPHABET$1.decode(kt).slice(0,-6),$t=bechChecksum$1(Et,bt,s);if(!kt.endsWith($t))throw new Error(`Invalid checksum in ${yt}: expected "${$t}"`);return{prefix:Et,words:bt}}const ht=unsafeWrapper$1(ft);function gt(yt){const{prefix:wt,words:vt}=ft(yt,!1);return{prefix:wt,words:vt,bytes:tt(vt)}}function mt(yt,wt){return st(yt,nt(wt))}return{encode:st,decode:ft,encodeFromBytes:mt,decodeToBytes:gt,decodeUnsafe:ht,fromWords:tt,fromWordsUnsafe:ot,toWords:nt}}const bech32$2=genBech32$1("bech32");function hmacSha256(e,...s){return hmac$2(sha256$2,e,concatBytes$3(...s))}function base64Encode(e){return base64$1.encode(e)}function hexToBytes$2(e){return hexToBytes$3(e)}const defaultImgProxy={url:"https://imgproxy.snort.social",key:"a82fcf26aa0ccb55dfc6b4bd6a1c90744d3be0f38429f21a8828b43449ce7cebe6bdc2b09a827311bef37b18ce35cb1e6b1c60387a254541afa9e5b4264ae942",salt:"a897770d9abf163de055e9617891214e75a9016d748f8ef865e6ffbcb9ed932295659549773a22a019a5f06d0b440c320be411e3fddfe784e199e4f03d74bd9b"},initialNotes=[{html:'<span class="text-content">The free Web is going to be the paid Web.</span>',author:{name:"Gigi",nip05:"dergigi.com",image:"https://primal.b-cdn.net/media-cache?s=o&a=1&u=https%3A%2F%2Fdergigi.com%2Fassets%2Fimages%2Favatars%2F09.png"},createdAt:1722516e3,replies:16,zaps:513,likes:32,reposts:7},{html:`<span class="text-content">First they fight you. Then they zap you. Then you're frens.</span>`,author:{name:"noody",nip05:"noBody@nostrplebs.com",image:"https://i.imgur.com/Df0FkP1.gif"},createdAt:1722487500,replies:4,zaps:396,likes:29,reposts:6},{html:'<span class="text-content">The only threat to Bitcoin is responsible government<br/><br/>So we  safe </span>',author:{name:"utxo the webmaster ",nip05:"utxo.one",image:"https://i.nostr.build/6G6wW.gif"},createdAt:1724160120,replies:6,zaps:2414,likes:39,reposts:3},{html:'<span class="text-content">What is the US dollar backed by?<br /><br />tHe fUlL fAiTh aNd cReDiT oF tHe UnItEd sTaTeS<br /><br />What the fuck does this even mean</span>',author:{name:"utxo the webmaster ",nip05:"utxo.one",image:"https://i.nostr.build/6G6wW.gif"},createdAt:1723557720,replies:23,zaps:103,likes:30,reposts:1},{html:'<span class="text-content">Every human social order is built on a foundation of violence.<br /><br />Except bitcoin.</span>',author:{name:"HODL",nip05:"hodl@nostrverified.com",image:"https://i.postimg.cc/yd4j6Znb/0-AE2325-A-C9-A0-475-C-8-ED3-F012-E5-E3-C426.gif"},createdAt:1728655680,replies:13,zaps:1084,likes:52,reposts:8},{html:'<span class="text-content">Deleting your Twitter account can actually make a difference.<br /><br />Every time someone opens a link or searches for an old thread in which you participated they will not see your tweets, the entire experience will be broken and they will hate Twitter for that.</span>',author:{name:"fiatjaf",nip05:"fiatjaf.com",image:"https://fiatjaf.com/static/favicon.jpg"},createdAt:1714736220,replies:44,zaps:13322,likes:266,reposts:58},{html:`<span class="text-content">ELON CAN SEND A TWEET FROM THE PRESIDENT'S ACCOUNT IF HE WANTS.<br /><br />CENTRALIZED SOCIAL MEDIA SHOULD NOT BE USED FOR OFFICIAL COMMS.<br /><br />POSTS SHOULD BE CRYPTOGRAPHICALLY SIGNED.<br /><br />THE NOSTR POST YOU ARE READING NOW WAS SIGNED BY MY PRIVATE KEY AND VERIFIED BY YOUR CLIENT.</span>`,author:{name:"ODELL",nip05:"odell@werunbtc.com",image:"https://primal.b-cdn.net/media-cache?s=o&a=1&u=https%3A%2F%2Fm.primal.net%2FHrsv.webp"},createdAt:1704858e3,replies:81,zaps:4834,likes:636,reposts:161},{html:`<span class="text-content">rights aren't given, they're taken.<br/><br/>bitcoin and nostr help you take and defend them, peacefully.</span>`,author:{name:"jack",nip05:"",image:"https://primal.b-cdn.net/media-cache?s=o&a=1&u=https%3A%2F%2Fimage.nostr.build%2F26867ce34e4b11f0a1d083114919a9f4eca699f3b007454c396ef48c43628315.jpg"},createdAt:1713387960,replies:109,zaps:19556,likes:963,reposts:319},{html:'<span class="text-content">I like paranoid crypto anarchists. Good folks doing good work. Big fan.</span>',author:{name:"Lyn Alden",nip05:"lyn@primal.net",image:"https://primal.b-cdn.net/media-cache?s=o&a=1&u=https%3A%2F%2Fvoid.cat%2Fd%2FE4vpXkn515rhcDsFa7umMr.webp"},createdAt:1729521900,replies:34,zaps:12687,likes:486,reposts:81}],initialNote=initialNotes[Math.floor(Math.random()*initialNotes.length)],MILLISATS_PER_SAT=1e3;var GRADIENT=(e=>(e.default="Default",e.primal1="Primal 1",e.primal2="Primal 2",e.iris="Iris",e))(GRADIENT||{});const GRADIENTS={Default:"linear-gradient(310deg, #d6e9ff, #d6e5ff, #d1d6ff, #ddd1ff, #f3d1ff, #ffccf5, #ffccdf, #ffc8c7, #ffd8c7, #ffddc7)","Primal 1":"linear-gradient(120deg, #ffb880, #ff827d, #ff7f7f, #de78af, #c76cd5, #a366c5)","Primal 2":"linear-gradient(159deg, #02e0ff 0%, #2798ee 17%, #2c7eec 33%, #3e63e2 50%, #483fc8 67%, #5129b6 100%, #643cbc 100%)",Iris:"linear-gradient(159deg, #c40ef7 0%, #cc0bf8 17%, #b918f9 33%, #9127ed 50%, #7a43ff 67%, #813eff 84%, #7c21e2 100%)"},gradientValues=Object.values(GRADIENT),initialGradient=gradientValues[Math.floor(Math.random()*gradientValues.length)],DEFAULT_RELAYS=["wss://relay.damus.io","wss://nostr.wine","wss://nos.lol","wss://relay.primal.net"],RELAYS_LOCALSTORAGE_KEY="relays";async function getDataURLFromHTMLDOM(e){return await toPng(e),await toPng(e),await toPng(e),await toPng(e),await toPng(e),toPng(e)}function downloadImage(e,s){const a=document.createElement("a");a.href=s,a.download=e,a.click()}function copyDataURL(e){const s=dataURLToBlob(e),a=new ClipboardItem({"image/png":s});return navigator.clipboard.write([a])}function dataURLToBlob(e){const s=e.split(","),a="image/png",tt=atob(s[1]);let nt=tt.length;const ot=new Uint8Array(nt);for(;nt--;)ot[nt]=tt.charCodeAt(nt);return new Blob([ot],{type:a})}function proxyImg(e,s,a,tt){const nt=new TextEncoder;function ot(wt){return wt.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function st(wt){const vt=hmacSha256(hexToBytes$2(s==null?void 0:s.key),hexToBytes$2(s==null?void 0:s.salt),nt.encode(wt));return ot(base64Encode(vt))}if(!s||e.startsWith("data:")||e.startsWith("blob:")||e.length==0)return e;const ft=[],ht=nt.encode(e),gt=ot(base64Encode(ht)),mt=`/${ft.join("/")}/${gt}`,yt=st(mt);return`${new URL(s.url).toString()}${yt}${mt}`}function toReadableStatsFormat(e){return numeral(e).format("0.0a").replace(".0","")}function getRelaysFromLocalStorage(){const e=localStorage.getItem(RELAYS_LOCALSTORAGE_KEY);return e!==null?JSON.parse(e):null}function setRelaysInLocalStorage(e){localStorage.setItem(RELAYS_LOCALSTORAGE_KEY,JSON.stringify(e))}function getBreakpoint(){const e=window.innerWidth;return e<=425?"small":e>425&&e<=900?"medium":"large"}function isSafari(){return window.safari!==void 0}const CanvasContainer=dt.div`
  flex: 1;
  height: 100%;

  display: flex;
  justify-content: center;
  align-items: center;
  user-select: none;
  -webkit-user-select: none;

  ${tablet(`
    transform: scale(0.5);
    -webkit-transform: scale(0.5);
  `)}
`,CardWrapper=dt.div`
  position: relative;
  // width: 800px;
  // height: 460px;
`,ResizeKnobs=dt.div`
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 10;
  top: 0;
  left: 0;
`;var ResizeKnobPosition=(e=>(e[e.left=0]="left",e[e.bottom=1]="bottom",e[e.right=2]="right",e))(ResizeKnobPosition||{});const ResizeKnobContainer=dt.div`
    touch-action: none;
    -webkit-touch-callout: none;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 2em;
    height: 2em;

    ${e=>e.$position===0?`
            top: 50%;
            left: 0;
            transform: translateX(-50%) translateY(-50%);
            -webkit-transform: translateX(-50%) translateY(-50%);
            cursor: ew-resize;
        `:""}

    ${e=>e.$position===2?`
            top: 50%;
            right: 0;
            transform: translateX(50%) translateY(-50%);
            -webkit-transform: translateX(50%) translateY(-50%);
            cursor: ew-resize;
        `:""}

    ${e=>e.$position===1?`
            bottom: 0;
            left: 50%;
            transform: translateX(-50%) translateY(50%);
            -webkit-transform: translateX(-50%) translateY(50%);
            cursor: ns-resize;
        `:""}

    position: absolute;
    pointer-events: auto;

    &:hover div {
      transform: scale(2.5);
      -webkit-transform: scale(2.5);
    }
`,ResizeKnob=dt.div`
    transition-property: -webkit-transform, transform;
    transition-timing-function: cubic-bezier(.4,0,.2,1);
    transition-duration: .15s;
    -webkit-transition-property: -webkit-transform, transform;
    -webkit-transition-timing-function: cubic-bezier(.4,0,.2,1);
    -webkit-transition-duration: .15s;
    box-shadow: 0 0 #0000,0 0 #0000,0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);
    background-color: #FFF;
    border-radius: 50%;
    width: .375rem;
    height: .375rem;
`,CardContainer=dt.div`
  box-shadow: 0 90px 150px -80px #0e0f1180, 0 40px 120px #000000b3;
  border-radius: 0.5rem;
  overflow: hidden;
  width: 100%;
  height: 100%;
  position: relative;
  pointer-events: none;
`,CardContent=dt.div`
  padding: 50px;
  font-size: 16px;
  perspective: 1000px;
  transition: background-color 0.15s cubic-bezier(.4,0,.2,1), 
              border-color 0.15s cubic-bezier(.4,0,.2,1), 
              color 0.15s cubic-bezier(.4,0,.2,1), 
              fill 0.15s cubic-bezier(.4,0,.2,1), 
              stroke 0.15s cubic-bezier(.4,0,.2,1);
  -webkit-transition: background-color 0.15s cubic-bezier(.4,0,.2,1), 
              border-color 0.15s cubic-bezier(.4,0,.2,1), 
              color 0.15s cubic-bezier(.4,0,.2,1), 
              fill 0.15s cubic-bezier(.4,0,.2,1), 
              stroke 0.15s cubic-bezier(.4,0,.2,1);
  display: grid;
  place-items: center;
  width: 100%;
  height: 100%;
`,BackgroundGradient=dt.div`
  ${AbsoluteFull}
  background-image: ${e=>e.$gradient};
  background-repeat: no-repeat;
`,CardBlurShadow=dt.div`
  ${AbsoluteFull}
  background-image: ${e=>e.$gradient};
  background-size: ${e=>`${e.width}px ${e.height}px`};
  border-radius: 1em;
  z-index: 0;

  ${isSafari()?"":`
      &:before {
        position: absolute;
        content: "";
        left: 0;
        top: 3em;
        width: 100%;
        height: 100%;
        border-radius: 1em;
        background-color: #0000002e;
        transform: translateZ(-1px);
        -webkit-transform: translateZ(-1px);
        filter: blur(60px);
        -webkit-filter: blur(10px);
        z-index: -1;
      }

      &:after {
        position: absolute;
        content: "";
        left: 0;
        top: 3em;
        width: 100%;
        height: 100%;
        border-radius: 1em;
        background-color: #0000002e;
        transform: translateZ(-1px);
        -webkit-transform: translateZ(-1px);
        filter: blur(60px);
        -webkit-filter: blur(10px);: blur(60px);
        z-index: -1;
        filter: blur(20px);
        -webkit-filter: blur(10px);: blur(20px);
        left: 3%;
        right: 3%;
        width: initial;
        top: 1em;
      }
    `}
`,CardContentContainer=dt.div`
  position: relative;
  padding: 2em 2em 1.5em;
  width: 100%;
  height: 100%;
  border-radius: 1em;
  border: 1px solid;
  backdrop-filter: blur(18px) saturate(177%);
  -webkit-backdrop-filter: blur(18px) saturate(177%);
  transition: all 0.15s cubic-bezier(.4,0,.2,1);
  -webkit-transition: all 0.15s cubic-bezier(.4,0,.2,1);
`,InnerGradient=dt.div`
  ${AbsoluteFull}
  background-image: linear-gradient(-50deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.95) 80%);
  box-shadow: inset 0 0 0 2px #ffffff26;
  border-radius: 1em;
  z-index: -1;
`,AuthorInfo=dt.div`
  display: flex;
  align-items: center;
  padding-bottom: 0.75rem;
`,AuthorImage=dt.img`
  width: 3em;
  height: 3em;
  margin-right: 0.75em;
  object-fit: cover;
  border-radius: 50%;
`,AuthorNameAndNip05Container=dt.div`
    display: flex;
    flex-direction: column;
    gap: 5px;
`,AuthorNameContainer=dt.div`
    display: flex;
    gap: 2px;
`,AuthorName=dt.div`
  font-weight: 600;
  color: #111;
  line-height: 1.2;
  display: flex;
  font-size: 18px;
  white-space: nowrap;
`,VerificationCheckContainer=dt.div`
    width: 20px;
    height: 20px;
`,VerificationIconContainer=dt.div`
    width: 20px;
    height: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-inline: 4px;
`,AuthorNip05=dt.div`
  font-weight: 400;
  color: rgba(0, 0, 0, 0.5);
  line-height: 1.2;
  display: flex;
  font-size: 14px;
  white-space: nowrap;
`,TweetContent=dt.div`
  font-size: 1.4em;
  color: #111;
  line-height: 1.5;
  margin-bottom: 1em;
  pointer-events: none;
  font-weight: 500;
  word-break: break-word;
`,TweetTimestamp=dt.div`
  color: rgba(0, 0, 0, 0.5);
  padding-bottom: 0.7em;
  font-weight: 500;
`,TweetStats=dt.div`
  display: flex;
`,StatItem=dt.div`
  color: rgba(0, 0, 0, 0.7);
  margin-right: 1em;

  span {
    color: #111;
    font-weight: 600;
  }
`,useResizable=({cardWrapperRef:e,leftResizeKnob:s,rightResizeKnob:a,bottomResizeKnob:tt,initialWidth:nt=300,initialHeight:ot=200})=>{const[st,ft]=reactExports.useState(nt),[ht,gt]=reactExports.useState(ot),mt=reactExports.useRef(!1),yt=reactExports.useRef("left"),wt=reactExports.useRef(0),vt=reactExports.useRef(0),xt=reactExports.useRef(st),Et=reactExports.useRef(ht),kt=reactExports.useRef(st),bt=reactExports.useRef(ht),$t=(Pt,At)=>{var zt,Dt;mt.current=!0,yt.current=At;const Tt="touches"in Pt?Pt.touches[0].clientX:Pt.clientX,Bt="touches"in Pt?Pt.touches[0].clientY:Pt.clientY;(At==="left"||At==="right")&&(wt.current=Tt,xt.current=((zt=e.current)==null?void 0:zt.offsetWidth)||0),At==="bottom"&&(vt.current=Bt,Et.current=((Dt=e.current)==null?void 0:Dt.offsetHeight)||0),document.body.style.userSelect="none"},_t=Pt=>{if(!mt.current)return;const At="touches"in Pt?Pt.touches[0].clientX:Pt.clientX,Tt="touches"in Pt?Pt.touches[0].clientY:Pt.clientY;if(yt.current==="left"){const Bt=xt.current-(At-wt.current);kt.current=Math.max(Bt,400)}else if(yt.current==="right"){const Bt=xt.current+(At-wt.current);kt.current=Math.max(Bt,400)}else if(yt.current==="bottom"){const Bt=Et.current+(Tt-vt.current);bt.current=Math.max(Bt,380)}e.current&&(yt.current==="left"||yt.current==="right"?e.current.style.width=Math.max(kt.current,50)+"px":yt.current==="bottom"&&(e.current.style.height=Math.max(bt.current,50)+"px"))},St=()=>{mt.current=!1,document.body.style.userSelect="",ft(kt.current),gt(bt.current)};return reactExports.useEffect(()=>{const Pt=(zt,Dt)=>{if(zt&&zt.current){const Lt=Ft=>$t(Ft,Dt);return zt.current.addEventListener("mousedown",Lt),zt.current.addEventListener("touchstart",Lt,{passive:!1}),()=>{zt.current&&(zt.current.removeEventListener("mousedown",Lt),zt.current.removeEventListener("touchstart",Lt))}}},At=Pt(s,"left"),Tt=Pt(a,"right"),Bt=Pt(tt,"bottom");return document.addEventListener("mousemove",_t),document.addEventListener("mouseup",St),document.addEventListener("touchmove",_t,{passive:!1}),document.addEventListener("touchend",St),()=>{At&&At(),Tt&&Tt(),Bt&&Bt(),document.removeEventListener("mousemove",_t),document.removeEventListener("mouseup",St),document.removeEventListener("touchmove",_t),document.removeEventListener("touchend",St)}},[s,a,tt,e]),{width:st,height:ht,setWidth:ft,setHeight:gt}},Canvas=reactExports.forwardRef(({noteHTML:e,note:s,showResponse:a,gradient:tt},nt)=>{var yt,wt,vt;const ot=reactExports.useRef(null),st=reactExports.useRef(null),ft=reactExports.useRef(null),ht=reactExports.useRef(null),{width:gt,height:mt}=useResizable({cardWrapperRef:ot,leftResizeKnob:st,rightResizeKnob:ft,bottomResizeKnob:ht,initialWidth:780,initialHeight:325});return jsxRuntimeExports.jsx(CanvasContainer,{children:jsxRuntimeExports.jsxs(CardWrapper,{ref:ot,style:{width:gt},children:[jsxRuntimeExports.jsxs(ResizeKnobs,{children:[jsxRuntimeExports.jsx(ResizeKnobContainer,{ref:st,$position:ResizeKnobPosition.left,children:jsxRuntimeExports.jsx(ResizeKnob,{})}),jsxRuntimeExports.jsx(ResizeKnobContainer,{ref:ft,$position:ResizeKnobPosition.right,children:jsxRuntimeExports.jsx(ResizeKnob,{})}),jsxRuntimeExports.jsx(ResizeKnobContainer,{ref:ht,$position:ResizeKnobPosition.bottom,children:jsxRuntimeExports.jsx(ResizeKnob,{})})]}),jsxRuntimeExports.jsx(CardContainer,{ref:nt,children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(BackgroundGradient,{$gradient:tt}),jsxRuntimeExports.jsxs("div",{style:{width:"100%",position:"relative"},children:[jsxRuntimeExports.jsx(CardBlurShadow,{width:gt,height:mt,$gradient:tt}),jsxRuntimeExports.jsxs(CardContentContainer,{children:[jsxRuntimeExports.jsx(InnerGradient,{}),jsxRuntimeExports.jsxs(AuthorInfo,{children:[jsxRuntimeExports.jsx(AuthorImage,{src:proxyImg(((yt=s.author)==null?void 0:yt.image)||"",defaultImgProxy)}),jsxRuntimeExports.jsxs(AuthorNameAndNip05Container,{children:[jsxRuntimeExports.jsxs(AuthorNameContainer,{children:[jsxRuntimeExports.jsx(AuthorName,{children:(wt=s.author)==null?void 0:wt.name}),jsxRuntimeExports.jsx(VerificationCheckContainer,{children:jsxRuntimeExports.jsx(VerificationIconContainer,{children:jsxRuntimeExports.jsx(VerificationCheck,{})})})]}),jsxRuntimeExports.jsx(AuthorNip05,{children:(vt=s.author)==null?void 0:vt.nip05})]})]}),jsxRuntimeExports.jsx(TweetContent,{dangerouslySetInnerHTML:{__html:e}}),jsxRuntimeExports.jsxs(TweetTimestamp,{children:[dayjs(s.createdAt*1e3).format("hh:mm A"),"  ",dayjs(s.createdAt*1e3).format("DD MMM, YYYY")]}),a?jsxRuntimeExports.jsxs(TweetStats,{children:[jsxRuntimeExports.jsxs(StatItem,{children:[jsxRuntimeExports.jsx("span",{children:toReadableStatsFormat(s.replies)})," replies"]}),jsxRuntimeExports.jsxs(StatItem,{children:[jsxRuntimeExports.jsx("span",{children:toReadableStatsFormat(s.zaps)})," zaps"]}),jsxRuntimeExports.jsxs(StatItem,{children:[jsxRuntimeExports.jsx("span",{children:toReadableStatsFormat(s.likes)})," likes"]}),jsxRuntimeExports.jsxs(StatItem,{children:[jsxRuntimeExports.jsx("span",{children:toReadableStatsFormat(s.reposts)})," reposts"]})]}):null]})]})]})})]})})}),HelpButtonContainer=dt.div`
    position: relative;
`,StyledHelpButton=dt.button`
    border: none;
    background-color: transparent;
    cursor: pointer;
    font-size: 36px;
    color: #FFF;
    width: 65px;
    height: 65px;
    border-radius: 5px;

    display: flex;
    justify-content: center;
    align-items: center;

    &:hover {
        background-color: rgba(39,39,40,1);
    }

    &:focus {
        outline: #CE66FF solid 2px;
    }

    ${tablet(`
        width: 36px;
        height: 36px;
        font-size: 24px;
    `)}
`,HelpContainer=dt.ul`
    list-style-type: none;
    background-color: #272727;
    border: 1px solid #71717187;
    border-radius: 8px;
    box-shadow: 0 25px 40px 11px #00000040;
    padding: 10px;

    width: max-content;
    display: flex;
    flex-direction: column;
    gap: 8px;

    position: absolute;
    right: 0px;
    top: 60px;

    transform: translateY(-5%);
    opacity: 0;
    z-index: -1;

    transition: transform 0.2s, opacity 0.4s, z-index 0.2s;
`,HelpItem=dt.li`
    padding: 10px;
    color: #FFF;
    transition: background-color 0.2s;
    border-radius: 8px;
    cursor: pointer;

    font-size: 14px;

    min-height: 45px;
    min-width: 200px;

    svg {
        width: 20px;
        height: 20px;
    }

    &:hover {
        background-color: #222222;
    }

    &:hover svg {
        width: 25px;
        height: 25px;
    }
`,HelpAnchor=dt.a`
    display: flex;
    gap: 12px;
    align-items: center;
    text-decoration: none;
    color: inherit;
`,HELP_ITEMS=[{text:"What's this?",icon:jsxRuntimeExports.jsx(QuestionMark,{}),link:"/about"},{text:"What's Nostr?",icon:jsxRuntimeExports.jsx(QuestionMark,{}),link:"https://nostr.com"},{text:"Not working?",icon:jsxRuntimeExports.jsx(QuestionMark,{}),link:"/not-working"},{text:"Credits",icon:jsxRuntimeExports.jsx(HeartIcon2,{}),link:"/credits"},{text:"Feedback",icon:jsxRuntimeExports.jsx(Mail,{}),link:"/feedback"},{text:"Donate",icon:jsxRuntimeExports.jsx(Bitcoin,{}),link:"/donate"},{text:"Github",icon:jsxRuntimeExports.jsx(Github,{}),link:"https://github.com/djhemath/snap-nostr"}];function HelpButton(){const[e,s]=reactExports.useState(!1),a=reactExports.useRef(null),tt=reactExports.useRef(null);reactExports.useEffect(()=>{function ot(st){a.current&&!a.current.contains(st.target)&&tt.current&&!tt.current.contains(st.target)&&s(!1)}return document.addEventListener("click",st=>ot(st)),()=>{document.removeEventListener("click",ot)}},[]);const nt=()=>{s(!1)};return jsxRuntimeExports.jsxs(HelpButtonContainer,{children:[jsxRuntimeExports.jsx(StyledHelpButton,{ref:tt,onClick:()=>s(ot=>!ot),className:"rammetto-one-regular",children:"?"}),jsxRuntimeExports.jsx(HelpContainer,{ref:a,style:{transform:e?"translateY(0)":"",opacity:e?1:0,zIndex:e?1:-1},children:HELP_ITEMS.map(ot=>jsxRuntimeExports.jsx(HelpItem,{onClick:()=>nt(),children:jsxRuntimeExports.jsxs(HelpAnchor,{href:ot.link,target:"_blank",children:[ot.icon,jsxRuntimeExports.jsx("span",{children:ot.text})]})}))})]})}const LogoContainer=dt.div`
    position: relative;
`,StyledLogo=dt.h1`
    color: #FFF;
    font-size: 40px;
    margin: 0px;
    background: linear-gradient(90deg, #CE66FF, #FE983B);
    background-clip: text;
    -webkit-text-fill-color: transparent;
    user-select: none;
    -webkit-user-select: none;
`,Beta=dt.small`
    color: #FFF;
    font-size: 12px;
    font-weight: bold;
    background: linear-gradient(90deg, #CE66FF, #FE983B);
    background-clip: text;
    -webkit-text-fill-color: transparent;
    user-select: none;
    -webkit-user-select: none;

    position: absolute;
    right: 0;
    bottom: 0;
`;function Logo(){return jsxRuntimeExports.jsxs(LogoContainer,{children:[jsxRuntimeExports.jsx(StyledLogo,{className:"rammetto-one-regular",children:"SnapNostr"}),jsxRuntimeExports.jsx(Beta,{children:"BETA"})]})}const SearchBarWrapper=dt.div`
    display: flex;
    flex-direction: column;
    position: relative;
    top: 17px;

    ${tablet(`
        width: 100%;
    `)}
`,SearchBarContainer=dt.label`
    background-color: #272727;
    border: 1px solid #71717187;
    border-radius: 8px;
    padding: 10px 40px;
    width: 550px;
    height: 50px;
    box-shadow: 0 25px 40px 11px #00000040;
    transform: translateX(-10%);
    -webkit-transform: translateX(-10%);

    display: flex;
    align-items: center;
    gap: 10px;

    transition: all 0.2s;
    -webkit-transition: all 0.2s;

    cursor: text;

    &:hover {
        border: 1px solid #717171;
    }

    &:has(input:focus) {
        outline: #CE66FF solid 2px;
    }

    &:focus-within, &:has(input:not(:placeholder-shown)) {
        padding-left: 10px;
    }

    position: relative;

    ${tablet(`
        width: 100%;
        transform: unset;
        -webkit-transform: unset;
        padding: 10px 10px;
    `)}
`,SearchBarForm=dt.form`
    height: 100%;
    width: 100%;
`,SearchInput=dt.input`
    border: none;
    background-color: transparent !important;
    height: 100%;
    width: 100%;
    font-size: 16px;
    outline: none;
    color: #FFF;
`,SearchBarProgressContainer=dt.div`
    position: absolute;
    inset: 3px 3px 1px;
    border-radius: .5rem;
    overflow: hidden;
    pointer-events: none;
    width: 100.5%;
    left: -2px;
    bottom: 0px;
`,SearchBarProgress=dt.div`
    background: #27c4f5 linear-gradient(to right,#CE66FF,#FE983B);
    -webkit-animation: 3s linear infinite rainbow,.5s ease-out enter;
    animation: 3s linear infinite rainbow,.5s ease-out enter;
    transition: opacity .3s ease-in-out;
    -webkit-transition: opacity .3s ease-in-out;
    transform-origin: left;
    -webkit-transform-origin: left;
    background-size: 500%;
    z-index: 999999;
    position: absolute;
    display: block;
    width: 100%;
    opacity: 1;
    left: 0;
    bottom: 0;
    height: 2px;
`;function number$2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bytes$2(e,...s){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(e.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${e.length}`)}function hash$1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$2(e.outputLen),number$2(e.blockLen)}function exists$1(e,s=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(s&&e.finished)throw new Error("Hash#digest() has already been called")}function output$1(e,s){bytes$2(e);const a=s.outputLen;if(e.length<a)throw new Error(`digestInto() expects output buffer of length at least ${a}`)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$2=e=>e instanceof Uint8Array,createView$1=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr$1=(e,s)=>e<<32-s|e>>>s,isLE$2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$2)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$2(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes$1(e){if(typeof e=="string"&&(e=utf8ToBytes$2(e)),!u8a$2(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function concatBytes$2(...e){const s=new Uint8Array(e.reduce((tt,nt)=>tt+nt.length,0));let a=0;return e.forEach(tt=>{if(!u8a$2(tt))throw new Error("Uint8Array expected");s.set(tt,a),a+=tt.length}),s}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor$1(e){const s=tt=>e().update(toBytes$1(tt)).digest(),a=e();return s.outputLen=a.outputLen,s.blockLen=a.blockLen,s.create=()=>e(),s}function randomBytes$1(e=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(e,s,a,tt){if(typeof e.setBigUint64=="function")return e.setBigUint64(s,a,tt);const nt=BigInt(32),ot=BigInt(4294967295),st=Number(a>>nt&ot),ft=Number(a&ot),ht=tt?4:0,gt=tt?0:4;e.setUint32(s+ht,st,tt),e.setUint32(s+gt,ft,tt)}let SHA2$1=class extends Hash$1{constructor(s,a,tt,nt){super(),this.blockLen=s,this.outputLen=a,this.padOffset=tt,this.isLE=nt,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView$1(this.buffer)}update(s){exists$1(this);const{view:a,buffer:tt,blockLen:nt}=this;s=toBytes$1(s);const ot=s.length;for(let st=0;st<ot;){const ft=Math.min(nt-this.pos,ot-st);if(ft===nt){const ht=createView$1(s);for(;nt<=ot-st;st+=nt)this.process(ht,st);continue}tt.set(s.subarray(st,st+ft),this.pos),this.pos+=ft,st+=ft,this.pos===nt&&(this.process(a,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){exists$1(this),output$1(s,this),this.finished=!0;const{buffer:a,view:tt,blockLen:nt,isLE:ot}=this;let{pos:st}=this;a[st++]=128,this.buffer.subarray(st).fill(0),this.padOffset>nt-st&&(this.process(tt,0),st=0);for(let yt=st;yt<nt;yt++)a[yt]=0;setBigUint64$1(tt,nt-8,BigInt(this.length*8),ot),this.process(tt,0);const ft=createView$1(s),ht=this.outputLen;if(ht%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const gt=ht/4,mt=this.get();if(gt>mt.length)throw new Error("_sha2: outputLen bigger than state");for(let yt=0;yt<gt;yt++)ft.setUint32(4*yt,mt[yt],ot)}digest(){const{buffer:s,outputLen:a}=this;this.digestInto(s);const tt=s.slice(0,a);return this.destroy(),tt}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:a,buffer:tt,length:nt,finished:ot,destroyed:st,pos:ft}=this;return s.length=nt,s.pos=ft,s.finished=ot,s.destroyed=st,nt%a&&s.buffer.set(tt),s}};const Chi$1=(e,s,a)=>e&s^~e&a,Maj$1=(e,s,a)=>e&s^e&a^s&a,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$1=class extends SHA2$1{constructor(){super(64,32,8,!1),this.A=IV$1[0]|0,this.B=IV$1[1]|0,this.C=IV$1[2]|0,this.D=IV$1[3]|0,this.E=IV$1[4]|0,this.F=IV$1[5]|0,this.G=IV$1[6]|0,this.H=IV$1[7]|0}get(){const{A:s,B:a,C:tt,D:nt,E:ot,F:st,G:ft,H:ht}=this;return[s,a,tt,nt,ot,st,ft,ht]}set(s,a,tt,nt,ot,st,ft,ht){this.A=s|0,this.B=a|0,this.C=tt|0,this.D=nt|0,this.E=ot|0,this.F=st|0,this.G=ft|0,this.H=ht|0}process(s,a){for(let yt=0;yt<16;yt++,a+=4)SHA256_W$1[yt]=s.getUint32(a,!1);for(let yt=16;yt<64;yt++){const wt=SHA256_W$1[yt-15],vt=SHA256_W$1[yt-2],xt=rotr$1(wt,7)^rotr$1(wt,18)^wt>>>3,Et=rotr$1(vt,17)^rotr$1(vt,19)^vt>>>10;SHA256_W$1[yt]=Et+SHA256_W$1[yt-7]+xt+SHA256_W$1[yt-16]|0}let{A:tt,B:nt,C:ot,D:st,E:ft,F:ht,G:gt,H:mt}=this;for(let yt=0;yt<64;yt++){const wt=rotr$1(ft,6)^rotr$1(ft,11)^rotr$1(ft,25),vt=mt+wt+Chi$1(ft,ht,gt)+SHA256_K$1[yt]+SHA256_W$1[yt]|0,Et=(rotr$1(tt,2)^rotr$1(tt,13)^rotr$1(tt,22))+Maj$1(tt,nt,ot)|0;mt=gt,gt=ht,ht=ft,ft=st+vt|0,st=ot,ot=nt,nt=tt,tt=vt+Et|0}tt=tt+this.A|0,nt=nt+this.B|0,ot=ot+this.C|0,st=st+this.D|0,ft=ft+this.E|0,ht=ht+this.F|0,gt=gt+this.G|0,mt=mt+this.H|0,this.set(tt,nt,ot,st,ft,ht,gt,mt)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$1=wrapConstructor$1(()=>new SHA256$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$8=BigInt(0),_1n$8=BigInt(1),_2n$4=BigInt(2),u8a$1=e=>e instanceof Uint8Array,hexes$1=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$1(e){if(!u8a$1(e))throw new Error("Uint8Array expected");let s="";for(let a=0;a<e.length;a++)s+=hexes$1[e[a]];return s}function numberToHexUnpadded(e){const s=e.toString(16);return s.length&1?`0${s}`:s}function hexToNumber(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function hexToBytes$1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const a=new Uint8Array(s/2);for(let tt=0;tt<a.length;tt++){const nt=tt*2,ot=e.slice(nt,nt+2),st=Number.parseInt(ot,16);if(Number.isNaN(st)||st<0)throw new Error("Invalid byte sequence");a[tt]=st}return a}function bytesToNumberBE(e){return hexToNumber(bytesToHex$1(e))}function bytesToNumberLE(e){if(!u8a$1(e))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex$1(Uint8Array.from(e).reverse()))}function numberToBytesBE(e,s){return hexToBytes$1(e.toString(16).padStart(s*2,"0"))}function numberToBytesLE(e,s){return numberToBytesBE(e,s).reverse()}function numberToVarBytesBE(e){return hexToBytes$1(numberToHexUnpadded(e))}function ensureBytes(e,s,a){let tt;if(typeof s=="string")try{tt=hexToBytes$1(s)}catch(ot){throw new Error(`${e} must be valid hex string, got "${s}". Cause: ${ot}`)}else if(u8a$1(s))tt=Uint8Array.from(s);else throw new Error(`${e} must be hex string or Uint8Array`);const nt=tt.length;if(typeof a=="number"&&nt!==a)throw new Error(`${e} expected ${a} bytes, got ${nt}`);return tt}function concatBytes$1(...e){const s=new Uint8Array(e.reduce((tt,nt)=>tt+nt.length,0));let a=0;return e.forEach(tt=>{if(!u8a$1(tt))throw new Error("Uint8Array expected");s.set(tt,a),a+=tt.length}),s}function equalBytes$1(e,s){if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==s[a])return!1;return!0}function utf8ToBytes$1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function bitLen(e){let s;for(s=0;e>_0n$8;e>>=_1n$8,s+=1);return s}function bitGet(e,s){return e>>BigInt(s)&_1n$8}const bitSet=(e,s,a)=>e|(a?_1n$8:_0n$8)<<BigInt(s),bitMask=e=>(_2n$4<<BigInt(e-1))-_1n$8,u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,s,a){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof a!="function")throw new Error("hmacFn must be a function");let tt=u8n(e),nt=u8n(e),ot=0;const st=()=>{tt.fill(1),nt.fill(0),ot=0},ft=(...yt)=>a(nt,tt,...yt),ht=(yt=u8n())=>{nt=ft(u8fr([0]),yt),tt=ft(),yt.length!==0&&(nt=ft(u8fr([1]),yt),tt=ft())},gt=()=>{if(ot++>=1e3)throw new Error("drbg: tried 1000 values");let yt=0;const wt=[];for(;yt<s;){tt=ft();const vt=tt.slice();wt.push(vt),yt+=tt.length}return concatBytes$1(...wt)};return(yt,wt)=>{st(),ht(yt);let vt;for(;!(vt=wt(gt()));)ht();return st(),vt}}const validatorFns={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,s)=>s.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function validateObject(e,s,a={}){const tt=(nt,ot,st)=>{const ft=validatorFns[ot];if(typeof ft!="function")throw new Error(`Invalid validator "${ot}", expected function`);const ht=e[nt];if(!(st&&ht===void 0)&&!ft(ht,e))throw new Error(`Invalid param ${String(nt)}=${ht} (${typeof ht}), expected ${ot}`)};for(const[nt,ot]of Object.entries(s))tt(nt,ot,!1);for(const[nt,ot]of Object.entries(a))tt(nt,ot,!0);return e}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex:bytesToHex$1,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes,equalBytes:equalBytes$1,hexToBytes:hexToBytes$1,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$7=BigInt(0),_1n$7=BigInt(1),_2n$3=BigInt(2),_3n$3=BigInt(3),_4n$1=BigInt(4),_5n$1=BigInt(5),_8n$1=BigInt(8);BigInt(9);BigInt(16);function mod$1(e,s){const a=e%s;return a>=_0n$7?a:s+a}function pow$1(e,s,a){if(a<=_0n$7||s<_0n$7)throw new Error("Expected power/modulo > 0");if(a===_1n$7)return _0n$7;let tt=_1n$7;for(;s>_0n$7;)s&_1n$7&&(tt=tt*e%a),e=e*e%a,s>>=_1n$7;return tt}function pow2$1(e,s,a){let tt=e;for(;s-- >_0n$7;)tt*=tt,tt%=a;return tt}function invert$1(e,s){if(e===_0n$7||s<=_0n$7)throw new Error(`invert: expected positive integers, got n=${e} mod=${s}`);let a=mod$1(e,s),tt=s,nt=_0n$7,ot=_1n$7;for(;a!==_0n$7;){const ft=tt/a,ht=tt%a,gt=nt-ot*ft;tt=a,a=ht,nt=ot,ot=gt}if(tt!==_1n$7)throw new Error("invert: does not exist");return mod$1(nt,s)}function tonelliShanks$1(e){const s=(e-_1n$7)/_2n$3;let a,tt,nt;for(a=e-_1n$7,tt=0;a%_2n$3===_0n$7;a/=_2n$3,tt++);for(nt=_2n$3;nt<e&&pow$1(nt,s,e)!==e-_1n$7;nt++);if(tt===1){const st=(e+_1n$7)/_4n$1;return function(ht,gt){const mt=ht.pow(gt,st);if(!ht.eql(ht.sqr(mt),gt))throw new Error("Cannot find square root");return mt}}const ot=(a+_1n$7)/_2n$3;return function(ft,ht){if(ft.pow(ht,s)===ft.neg(ft.ONE))throw new Error("Cannot find square root");let gt=tt,mt=ft.pow(ft.mul(ft.ONE,nt),a),yt=ft.pow(ht,ot),wt=ft.pow(ht,a);for(;!ft.eql(wt,ft.ONE);){if(ft.eql(wt,ft.ZERO))return ft.ZERO;let vt=1;for(let Et=ft.sqr(wt);vt<gt&&!ft.eql(Et,ft.ONE);vt++)Et=ft.sqr(Et);const xt=ft.pow(mt,_1n$7<<BigInt(gt-vt-1));mt=ft.sqr(xt),yt=ft.mul(yt,xt),wt=ft.mul(wt,mt),gt=vt}return yt}}function FpSqrt$1(e){if(e%_4n$1===_3n$3){const s=(e+_1n$7)/_4n$1;return function(tt,nt){const ot=tt.pow(nt,s);if(!tt.eql(tt.sqr(ot),nt))throw new Error("Cannot find square root");return ot}}if(e%_8n$1===_5n$1){const s=(e-_5n$1)/_8n$1;return function(tt,nt){const ot=tt.mul(nt,_2n$3),st=tt.pow(ot,s),ft=tt.mul(nt,st),ht=tt.mul(tt.mul(ft,_2n$3),st),gt=tt.mul(ft,tt.sub(ht,tt.ONE));if(!tt.eql(tt.sqr(gt),nt))throw new Error("Cannot find square root");return gt}}return tonelliShanks$1(e)}const FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(e){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},a=FIELD_FIELDS$1.reduce((tt,nt)=>(tt[nt]="function",tt),s);return validateObject(e,a)}function FpPow$1(e,s,a){if(a<_0n$7)throw new Error("Expected power > 0");if(a===_0n$7)return e.ONE;if(a===_1n$7)return s;let tt=e.ONE,nt=s;for(;a>_0n$7;)a&_1n$7&&(tt=e.mul(tt,nt)),nt=e.sqr(nt),a>>=_1n$7;return tt}function FpInvertBatch$1(e,s){const a=new Array(s.length),tt=s.reduce((ot,st,ft)=>e.is0(st)?ot:(a[ft]=ot,e.mul(ot,st)),e.ONE),nt=e.inv(tt);return s.reduceRight((ot,st,ft)=>e.is0(st)?ot:(a[ft]=e.mul(ot,a[ft]),e.mul(ot,st)),nt),a}function nLength$1(e,s){const a=s!==void 0?s:e.toString(2).length,tt=Math.ceil(a/8);return{nBitLength:a,nByteLength:tt}}function Field$1(e,s,a=!1,tt={}){if(e<=_0n$7)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:nt,nByteLength:ot}=nLength$1(e,s);if(ot>2048)throw new Error("Field lengths over 2048 bytes are not supported");const st=FpSqrt$1(e),ft=Object.freeze({ORDER:e,BITS:nt,BYTES:ot,MASK:bitMask(nt),ZERO:_0n$7,ONE:_1n$7,create:ht=>mod$1(ht,e),isValid:ht=>{if(typeof ht!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ht}`);return _0n$7<=ht&&ht<e},is0:ht=>ht===_0n$7,isOdd:ht=>(ht&_1n$7)===_1n$7,neg:ht=>mod$1(-ht,e),eql:(ht,gt)=>ht===gt,sqr:ht=>mod$1(ht*ht,e),add:(ht,gt)=>mod$1(ht+gt,e),sub:(ht,gt)=>mod$1(ht-gt,e),mul:(ht,gt)=>mod$1(ht*gt,e),pow:(ht,gt)=>FpPow$1(ft,ht,gt),div:(ht,gt)=>mod$1(ht*invert$1(gt,e),e),sqrN:ht=>ht*ht,addN:(ht,gt)=>ht+gt,subN:(ht,gt)=>ht-gt,mulN:(ht,gt)=>ht*gt,inv:ht=>invert$1(ht,e),sqrt:tt.sqrt||(ht=>st(ft,ht)),invertBatch:ht=>FpInvertBatch$1(ft,ht),cmov:(ht,gt,mt)=>mt?gt:ht,toBytes:ht=>a?numberToBytesLE(ht,ot):numberToBytesBE(ht,ot),fromBytes:ht=>{if(ht.length!==ot)throw new Error(`Fp.fromBytes: expected ${ot}, got ${ht.length}`);return a?bytesToNumberLE(ht):bytesToNumberBE(ht)}});return Object.freeze(ft)}function getFieldBytesLength$1(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const s=e.toString(2).length;return Math.ceil(s/8)}function getMinHashLength$1(e){const s=getFieldBytesLength$1(e);return s+Math.ceil(s/2)}function mapHashToField$1(e,s,a=!1){const tt=e.length,nt=getFieldBytesLength$1(s),ot=getMinHashLength$1(s);if(tt<16||tt<ot||tt>1024)throw new Error(`expected ${ot}-1024 bytes of input, got ${tt}`);const st=a?bytesToNumberBE(e):bytesToNumberLE(e),ft=mod$1(st,s-_1n$7)+_1n$7;return a?numberToBytesLE(ft,nt):numberToBytesBE(ft,nt)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$6=BigInt(0),_1n$6=BigInt(1);function wNAF$1(e,s){const a=(nt,ot)=>{const st=ot.negate();return nt?st:ot},tt=nt=>{const ot=Math.ceil(s/nt)+1,st=2**(nt-1);return{windows:ot,windowSize:st}};return{constTimeNegate:a,unsafeLadder(nt,ot){let st=e.ZERO,ft=nt;for(;ot>_0n$6;)ot&_1n$6&&(st=st.add(ft)),ft=ft.double(),ot>>=_1n$6;return st},precomputeWindow(nt,ot){const{windows:st,windowSize:ft}=tt(ot),ht=[];let gt=nt,mt=gt;for(let yt=0;yt<st;yt++){mt=gt,ht.push(mt);for(let wt=1;wt<ft;wt++)mt=mt.add(gt),ht.push(mt);gt=mt.double()}return ht},wNAF(nt,ot,st){const{windows:ft,windowSize:ht}=tt(nt);let gt=e.ZERO,mt=e.BASE;const yt=BigInt(2**nt-1),wt=2**nt,vt=BigInt(nt);for(let xt=0;xt<ft;xt++){const Et=xt*ht;let kt=Number(st&yt);st>>=vt,kt>ht&&(kt-=wt,st+=_1n$6);const bt=Et,$t=Et+Math.abs(kt)-1,_t=xt%2!==0,St=kt<0;kt===0?mt=mt.add(a(_t,ot[bt])):gt=gt.add(a(St,ot[$t]))}return{p:gt,f:mt}},wNAFCached(nt,ot,st,ft){const ht=nt._WINDOW_SIZE||1;let gt=ot.get(nt);return gt||(gt=this.precomputeWindow(nt,ht),ht!==1&&ot.set(nt,ft(gt))),this.wNAF(ht,gt,st)}}}function validateBasic$1(e){return validateField$1(e.Fp),validateObject(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$1(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts$1(e){const s=validateBasic$1(e);validateObject(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:a,Fp:tt,a:nt}=s;if(a){if(!tt.eql(nt,tt.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof a!="object"||typeof a.beta!="bigint"||typeof a.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:b2n$1,hexToBytes:h2b$1}=ut,DER$1={Err:class extends Error{constructor(s=""){super(s)}},_parseInt(e){const{Err:s}=DER$1;if(e.length<2||e[0]!==2)throw new s("Invalid signature integer tag");const a=e[1],tt=e.subarray(2,a+2);if(!a||tt.length!==a)throw new s("Invalid signature integer: wrong length");if(tt[0]&128)throw new s("Invalid signature integer: negative");if(tt[0]===0&&!(tt[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return{d:b2n$1(tt),l:e.subarray(a+2)}},toSig(e){const{Err:s}=DER$1,a=typeof e=="string"?h2b$1(e):e;if(!(a instanceof Uint8Array))throw new Error("ui8a expected");let tt=a.length;if(tt<2||a[0]!=48)throw new s("Invalid signature tag");if(a[1]!==tt-2)throw new s("Invalid signature: incorrect length");const{d:nt,l:ot}=DER$1._parseInt(a.subarray(2)),{d:st,l:ft}=DER$1._parseInt(ot);if(ft.length)throw new s("Invalid signature: left bytes after parsing");return{r:nt,s:st}},hexFromSig(e){const s=gt=>Number.parseInt(gt[0],16)&8?"00"+gt:gt,a=gt=>{const mt=gt.toString(16);return mt.length&1?`0${mt}`:mt},tt=s(a(e.s)),nt=s(a(e.r)),ot=tt.length/2,st=nt.length/2,ft=a(ot),ht=a(st);return`30${a(st+ot+4)}02${ht}${nt}02${ft}${tt}`}},_0n$5=BigInt(0),_1n$5=BigInt(1);BigInt(2);const _3n$2=BigInt(3);BigInt(4);function weierstrassPoints$1(e){const s=validatePointOpts$1(e),{Fp:a}=s,tt=s.toBytes||((xt,Et,kt)=>{const bt=Et.toAffine();return concatBytes$1(Uint8Array.from([4]),a.toBytes(bt.x),a.toBytes(bt.y))}),nt=s.fromBytes||(xt=>{const Et=xt.subarray(1),kt=a.fromBytes(Et.subarray(0,a.BYTES)),bt=a.fromBytes(Et.subarray(a.BYTES,2*a.BYTES));return{x:kt,y:bt}});function ot(xt){const{a:Et,b:kt}=s,bt=a.sqr(xt),$t=a.mul(bt,xt);return a.add(a.add($t,a.mul(xt,Et)),kt)}if(!a.eql(a.sqr(s.Gy),ot(s.Gx)))throw new Error("bad generator point: equation left != right");function st(xt){return typeof xt=="bigint"&&_0n$5<xt&&xt<s.n}function ft(xt){if(!st(xt))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ht(xt){const{allowedPrivateKeyLengths:Et,nByteLength:kt,wrapPrivateKey:bt,n:$t}=s;if(Et&&typeof xt!="bigint"){if(xt instanceof Uint8Array&&(xt=bytesToHex$1(xt)),typeof xt!="string"||!Et.includes(xt.length))throw new Error("Invalid key");xt=xt.padStart(kt*2,"0")}let _t;try{_t=typeof xt=="bigint"?xt:bytesToNumberBE(ensureBytes("private key",xt,kt))}catch{throw new Error(`private key must be ${kt} bytes, hex or bigint, not ${typeof xt}`)}return bt&&(_t=mod$1(_t,$t)),ft(_t),_t}const gt=new Map;function mt(xt){if(!(xt instanceof yt))throw new Error("ProjectivePoint expected")}class yt{constructor(Et,kt,bt){if(this.px=Et,this.py=kt,this.pz=bt,Et==null||!a.isValid(Et))throw new Error("x required");if(kt==null||!a.isValid(kt))throw new Error("y required");if(bt==null||!a.isValid(bt))throw new Error("z required")}static fromAffine(Et){const{x:kt,y:bt}=Et||{};if(!Et||!a.isValid(kt)||!a.isValid(bt))throw new Error("invalid affine point");if(Et instanceof yt)throw new Error("projective point not allowed");const $t=_t=>a.eql(_t,a.ZERO);return $t(kt)&&$t(bt)?yt.ZERO:new yt(kt,bt,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Et){const kt=a.invertBatch(Et.map(bt=>bt.pz));return Et.map((bt,$t)=>bt.toAffine(kt[$t])).map(yt.fromAffine)}static fromHex(Et){const kt=yt.fromAffine(nt(ensureBytes("pointHex",Et)));return kt.assertValidity(),kt}static fromPrivateKey(Et){return yt.BASE.multiply(ht(Et))}_setWindowSize(Et){this._WINDOW_SIZE=Et,gt.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!a.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Et,y:kt}=this.toAffine();if(!a.isValid(Et)||!a.isValid(kt))throw new Error("bad point: x or y not FE");const bt=a.sqr(kt),$t=ot(Et);if(!a.eql(bt,$t))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Et}=this.toAffine();if(a.isOdd)return!a.isOdd(Et);throw new Error("Field doesn't support isOdd")}equals(Et){mt(Et);const{px:kt,py:bt,pz:$t}=this,{px:_t,py:St,pz:Pt}=Et,At=a.eql(a.mul(kt,Pt),a.mul(_t,$t)),Tt=a.eql(a.mul(bt,Pt),a.mul(St,$t));return At&&Tt}negate(){return new yt(this.px,a.neg(this.py),this.pz)}double(){const{a:Et,b:kt}=s,bt=a.mul(kt,_3n$2),{px:$t,py:_t,pz:St}=this;let Pt=a.ZERO,At=a.ZERO,Tt=a.ZERO,Bt=a.mul($t,$t),zt=a.mul(_t,_t),Dt=a.mul(St,St),Lt=a.mul($t,_t);return Lt=a.add(Lt,Lt),Tt=a.mul($t,St),Tt=a.add(Tt,Tt),Pt=a.mul(Et,Tt),At=a.mul(bt,Dt),At=a.add(Pt,At),Pt=a.sub(zt,At),At=a.add(zt,At),At=a.mul(Pt,At),Pt=a.mul(Lt,Pt),Tt=a.mul(bt,Tt),Dt=a.mul(Et,Dt),Lt=a.sub(Bt,Dt),Lt=a.mul(Et,Lt),Lt=a.add(Lt,Tt),Tt=a.add(Bt,Bt),Bt=a.add(Tt,Bt),Bt=a.add(Bt,Dt),Bt=a.mul(Bt,Lt),At=a.add(At,Bt),Dt=a.mul(_t,St),Dt=a.add(Dt,Dt),Bt=a.mul(Dt,Lt),Pt=a.sub(Pt,Bt),Tt=a.mul(Dt,zt),Tt=a.add(Tt,Tt),Tt=a.add(Tt,Tt),new yt(Pt,At,Tt)}add(Et){mt(Et);const{px:kt,py:bt,pz:$t}=this,{px:_t,py:St,pz:Pt}=Et;let At=a.ZERO,Tt=a.ZERO,Bt=a.ZERO;const zt=s.a,Dt=a.mul(s.b,_3n$2);let Lt=a.mul(kt,_t),Ft=a.mul(bt,St),Ut=a.mul($t,Pt),Mt=a.add(kt,bt),Ct=a.add(_t,St);Mt=a.mul(Mt,Ct),Ct=a.add(Lt,Ft),Mt=a.sub(Mt,Ct),Ct=a.add(kt,$t);let Rt=a.add(_t,Pt);return Ct=a.mul(Ct,Rt),Rt=a.add(Lt,Ut),Ct=a.sub(Ct,Rt),Rt=a.add(bt,$t),At=a.add(St,Pt),Rt=a.mul(Rt,At),At=a.add(Ft,Ut),Rt=a.sub(Rt,At),Bt=a.mul(zt,Ct),At=a.mul(Dt,Ut),Bt=a.add(At,Bt),At=a.sub(Ft,Bt),Bt=a.add(Ft,Bt),Tt=a.mul(At,Bt),Ft=a.add(Lt,Lt),Ft=a.add(Ft,Lt),Ut=a.mul(zt,Ut),Ct=a.mul(Dt,Ct),Ft=a.add(Ft,Ut),Ut=a.sub(Lt,Ut),Ut=a.mul(zt,Ut),Ct=a.add(Ct,Ut),Lt=a.mul(Ft,Ct),Tt=a.add(Tt,Lt),Lt=a.mul(Rt,Ct),At=a.mul(Mt,At),At=a.sub(At,Lt),Lt=a.mul(Mt,Ft),Bt=a.mul(Rt,Bt),Bt=a.add(Bt,Lt),new yt(At,Tt,Bt)}subtract(Et){return this.add(Et.negate())}is0(){return this.equals(yt.ZERO)}wNAF(Et){return vt.wNAFCached(this,gt,Et,kt=>{const bt=a.invertBatch(kt.map($t=>$t.pz));return kt.map(($t,_t)=>$t.toAffine(bt[_t])).map(yt.fromAffine)})}multiplyUnsafe(Et){const kt=yt.ZERO;if(Et===_0n$5)return kt;if(ft(Et),Et===_1n$5)return this;const{endo:bt}=s;if(!bt)return vt.unsafeLadder(this,Et);let{k1neg:$t,k1:_t,k2neg:St,k2:Pt}=bt.splitScalar(Et),At=kt,Tt=kt,Bt=this;for(;_t>_0n$5||Pt>_0n$5;)_t&_1n$5&&(At=At.add(Bt)),Pt&_1n$5&&(Tt=Tt.add(Bt)),Bt=Bt.double(),_t>>=_1n$5,Pt>>=_1n$5;return $t&&(At=At.negate()),St&&(Tt=Tt.negate()),Tt=new yt(a.mul(Tt.px,bt.beta),Tt.py,Tt.pz),At.add(Tt)}multiply(Et){ft(Et);let kt=Et,bt,$t;const{endo:_t}=s;if(_t){const{k1neg:St,k1:Pt,k2neg:At,k2:Tt}=_t.splitScalar(kt);let{p:Bt,f:zt}=this.wNAF(Pt),{p:Dt,f:Lt}=this.wNAF(Tt);Bt=vt.constTimeNegate(St,Bt),Dt=vt.constTimeNegate(At,Dt),Dt=new yt(a.mul(Dt.px,_t.beta),Dt.py,Dt.pz),bt=Bt.add(Dt),$t=zt.add(Lt)}else{const{p:St,f:Pt}=this.wNAF(kt);bt=St,$t=Pt}return yt.normalizeZ([bt,$t])[0]}multiplyAndAddUnsafe(Et,kt,bt){const $t=yt.BASE,_t=(Pt,At)=>At===_0n$5||At===_1n$5||!Pt.equals($t)?Pt.multiplyUnsafe(At):Pt.multiply(At),St=_t(this,kt).add(_t(Et,bt));return St.is0()?void 0:St}toAffine(Et){const{px:kt,py:bt,pz:$t}=this,_t=this.is0();Et==null&&(Et=_t?a.ONE:a.inv($t));const St=a.mul(kt,Et),Pt=a.mul(bt,Et),At=a.mul($t,Et);if(_t)return{x:a.ZERO,y:a.ZERO};if(!a.eql(At,a.ONE))throw new Error("invZ was invalid");return{x:St,y:Pt}}isTorsionFree(){const{h:Et,isTorsionFree:kt}=s;if(Et===_1n$5)return!0;if(kt)return kt(yt,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Et,clearCofactor:kt}=s;return Et===_1n$5?this:kt?kt(yt,this):this.multiplyUnsafe(s.h)}toRawBytes(Et=!0){return this.assertValidity(),tt(yt,this,Et)}toHex(Et=!0){return bytesToHex$1(this.toRawBytes(Et))}}yt.BASE=new yt(s.Gx,s.Gy,a.ONE),yt.ZERO=new yt(a.ZERO,a.ONE,a.ZERO);const wt=s.nBitLength,vt=wNAF$1(yt,s.endo?Math.ceil(wt/2):wt);return{CURVE:s,ProjectivePoint:yt,normPrivateKeyToScalar:ht,weierstrassEquation:ot,isWithinCurveOrder:st}}function validateOpts$1(e){const s=validateBasic$1(e);return validateObject(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function weierstrass$1(e){const s=validateOpts$1(e),{Fp:a,n:tt}=s,nt=a.BYTES+1,ot=2*a.BYTES+1;function st(Ct){return _0n$5<Ct&&Ct<a.ORDER}function ft(Ct){return mod$1(Ct,tt)}function ht(Ct){return invert$1(Ct,tt)}const{ProjectivePoint:gt,normPrivateKeyToScalar:mt,weierstrassEquation:yt,isWithinCurveOrder:wt}=weierstrassPoints$1({...s,toBytes(Ct,Rt,jt){const It=Rt.toAffine(),Ot=a.toBytes(It.x),Ht=concatBytes$1;return jt?Ht(Uint8Array.from([Rt.hasEvenY()?2:3]),Ot):Ht(Uint8Array.from([4]),Ot,a.toBytes(It.y))},fromBytes(Ct){const Rt=Ct.length,jt=Ct[0],It=Ct.subarray(1);if(Rt===nt&&(jt===2||jt===3)){const Ot=bytesToNumberBE(It);if(!st(Ot))throw new Error("Point is not on curve");const Ht=yt(Ot);let Vt=a.sqrt(Ht);const Wt=(Vt&_1n$5)===_1n$5;return(jt&1)===1!==Wt&&(Vt=a.neg(Vt)),{x:Ot,y:Vt}}else if(Rt===ot&&jt===4){const Ot=a.fromBytes(It.subarray(0,a.BYTES)),Ht=a.fromBytes(It.subarray(a.BYTES,2*a.BYTES));return{x:Ot,y:Ht}}else throw new Error(`Point of length ${Rt} was invalid. Expected ${nt} compressed bytes or ${ot} uncompressed bytes`)}}),vt=Ct=>bytesToHex$1(numberToBytesBE(Ct,s.nByteLength));function xt(Ct){const Rt=tt>>_1n$5;return Ct>Rt}function Et(Ct){return xt(Ct)?ft(-Ct):Ct}const kt=(Ct,Rt,jt)=>bytesToNumberBE(Ct.slice(Rt,jt));class bt{constructor(Rt,jt,It){this.r=Rt,this.s=jt,this.recovery=It,this.assertValidity()}static fromCompact(Rt){const jt=s.nByteLength;return Rt=ensureBytes("compactSignature",Rt,jt*2),new bt(kt(Rt,0,jt),kt(Rt,jt,2*jt))}static fromDER(Rt){const{r:jt,s:It}=DER$1.toSig(ensureBytes("DER",Rt));return new bt(jt,It)}assertValidity(){if(!wt(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!wt(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Rt){return new bt(this.r,this.s,Rt)}recoverPublicKey(Rt){const{r:jt,s:It,recovery:Ot}=this,Ht=Tt(ensureBytes("msgHash",Rt));if(Ot==null||![0,1,2,3].includes(Ot))throw new Error("recovery id invalid");const Vt=Ot===2||Ot===3?jt+s.n:jt;if(Vt>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const Wt=Ot&1?"03":"02",Gt=gt.fromHex(Wt+vt(Vt)),qt=ht(Vt),Zt=ft(-Ht*qt),Yt=ft(It*qt),Xt=gt.BASE.multiplyAndAddUnsafe(Gt,Zt,Yt);if(!Xt)throw new Error("point at infinify");return Xt.assertValidity(),Xt}hasHighS(){return xt(this.s)}normalizeS(){return this.hasHighS()?new bt(this.r,ft(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$1(this.toDERHex())}toDERHex(){return DER$1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$1(this.toCompactHex())}toCompactHex(){return vt(this.r)+vt(this.s)}}const $t={isValidPrivateKey(Ct){try{return mt(Ct),!0}catch{return!1}},normPrivateKeyToScalar:mt,randomPrivateKey:()=>{const Ct=getMinHashLength$1(s.n);return mapHashToField$1(s.randomBytes(Ct),s.n)},precompute(Ct=8,Rt=gt.BASE){return Rt._setWindowSize(Ct),Rt.multiply(BigInt(3)),Rt}};function _t(Ct,Rt=!0){return gt.fromPrivateKey(Ct).toRawBytes(Rt)}function St(Ct){const Rt=Ct instanceof Uint8Array,jt=typeof Ct=="string",It=(Rt||jt)&&Ct.length;return Rt?It===nt||It===ot:jt?It===2*nt||It===2*ot:Ct instanceof gt}function Pt(Ct,Rt,jt=!0){if(St(Ct))throw new Error("first arg must be private key");if(!St(Rt))throw new Error("second arg must be public key");return gt.fromHex(Rt).multiply(mt(Ct)).toRawBytes(jt)}const At=s.bits2int||function(Ct){const Rt=bytesToNumberBE(Ct),jt=Ct.length*8-s.nBitLength;return jt>0?Rt>>BigInt(jt):Rt},Tt=s.bits2int_modN||function(Ct){return ft(At(Ct))},Bt=bitMask(s.nBitLength);function zt(Ct){if(typeof Ct!="bigint")throw new Error("bigint expected");if(!(_0n$5<=Ct&&Ct<Bt))throw new Error(`bigint expected < 2^${s.nBitLength}`);return numberToBytesBE(Ct,s.nByteLength)}function Dt(Ct,Rt,jt=Lt){if(["recovered","canonical"].some(Kt=>Kt in jt))throw new Error("sign() legacy options not supported");const{hash:It,randomBytes:Ot}=s;let{lowS:Ht,prehash:Vt,extraEntropy:Wt}=jt;Ht==null&&(Ht=!0),Ct=ensureBytes("msgHash",Ct),Vt&&(Ct=ensureBytes("prehashed msgHash",It(Ct)));const Gt=Tt(Ct),qt=mt(Rt),Zt=[zt(qt),zt(Gt)];if(Wt!=null){const Kt=Wt===!0?Ot(a.BYTES):Wt;Zt.push(ensureBytes("extraEntropy",Kt))}const Yt=concatBytes$1(...Zt),Xt=Gt;function Jt(Kt){const en=At(Kt);if(!wt(en))return;const tn=ht(en),Qt=gt.BASE.multiply(en).toAffine(),nn=ft(Qt.x);if(nn===_0n$5)return;const rn=ft(tn*ft(Xt+nn*qt));if(rn===_0n$5)return;let cn=(Qt.x===nn?0:2)|Number(Qt.y&_1n$5),un=rn;return Ht&&xt(rn)&&(un=Et(rn),cn^=1),new bt(nn,un,cn)}return{seed:Yt,k2sig:Jt}}const Lt={lowS:s.lowS,prehash:!1},Ft={lowS:s.lowS,prehash:!1};function Ut(Ct,Rt,jt=Lt){const{seed:It,k2sig:Ot}=Dt(Ct,Rt,jt),Ht=s;return createHmacDrbg(Ht.hash.outputLen,Ht.nByteLength,Ht.hmac)(It,Ot)}gt.BASE._setWindowSize(8);function Mt(Ct,Rt,jt,It=Ft){var Qt;const Ot=Ct;if(Rt=ensureBytes("msgHash",Rt),jt=ensureBytes("publicKey",jt),"strict"in It)throw new Error("options.strict was renamed to lowS");const{lowS:Ht,prehash:Vt}=It;let Wt,Gt;try{if(typeof Ot=="string"||Ot instanceof Uint8Array)try{Wt=bt.fromDER(Ot)}catch(nn){if(!(nn instanceof DER$1.Err))throw nn;Wt=bt.fromCompact(Ot)}else if(typeof Ot=="object"&&typeof Ot.r=="bigint"&&typeof Ot.s=="bigint"){const{r:nn,s:rn}=Ot;Wt=new bt(nn,rn)}else throw new Error("PARSE");Gt=gt.fromHex(jt)}catch(nn){if(nn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ht&&Wt.hasHighS())return!1;Vt&&(Rt=s.hash(Rt));const{r:qt,s:Zt}=Wt,Yt=Tt(Rt),Xt=ht(Zt),Jt=ft(Yt*Xt),Kt=ft(qt*Xt),en=(Qt=gt.BASE.multiplyAndAddUnsafe(Gt,Jt,Kt))==null?void 0:Qt.toAffine();return en?ft(en.x)===qt:!1}return{CURVE:s,getPublicKey:_t,getSharedSecret:Pt,sign:Ut,verify:Mt,ProjectivePoint:gt,Signature:bt,utils:$t}}let HMAC$1=class extends Hash$1{constructor(s,a){super(),this.finished=!1,this.destroyed=!1,hash$1(s);const tt=toBytes$1(a);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const nt=this.blockLen,ot=new Uint8Array(nt);ot.set(tt.length>nt?s.create().update(tt).digest():tt);for(let st=0;st<ot.length;st++)ot[st]^=54;this.iHash.update(ot),this.oHash=s.create();for(let st=0;st<ot.length;st++)ot[st]^=106;this.oHash.update(ot),ot.fill(0)}update(s){return exists$1(this),this.iHash.update(s),this}digestInto(s){exists$1(this),bytes$2(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:tt,finished:nt,destroyed:ot,blockLen:st,outputLen:ft}=this;return s=s,s.finished=nt,s.destroyed=ot,s.blockLen=st,s.outputLen=ft,s.oHash=a._cloneInto(s.oHash),s.iHash=tt._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$1=(e,s,a)=>new HMAC$1(e,s).update(a).digest();hmac$1.create=(e,s)=>new HMAC$1(e,s);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(e){return{hash:e,hmac:(s,...a)=>hmac$1(e,s,concatBytes$2(...a)),randomBytes:randomBytes$1}}function createCurve$1(e,s){const a=tt=>weierstrass$1({...e,...getHash$1(tt)});return Object.freeze({...a(s),create:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$4=BigInt(1),_2n$2=BigInt(2),divNearest$1=(e,s)=>(e+s/_2n$2)/s;function sqrtMod$1(e){const s=secp256k1P$1,a=BigInt(3),tt=BigInt(6),nt=BigInt(11),ot=BigInt(22),st=BigInt(23),ft=BigInt(44),ht=BigInt(88),gt=e*e*e%s,mt=gt*gt*e%s,yt=pow2$1(mt,a,s)*mt%s,wt=pow2$1(yt,a,s)*mt%s,vt=pow2$1(wt,_2n$2,s)*gt%s,xt=pow2$1(vt,nt,s)*vt%s,Et=pow2$1(xt,ot,s)*xt%s,kt=pow2$1(Et,ft,s)*Et%s,bt=pow2$1(kt,ht,s)*kt%s,$t=pow2$1(bt,ft,s)*Et%s,_t=pow2$1($t,a,s)*mt%s,St=pow2$1(_t,st,s)*xt%s,Pt=pow2$1(St,tt,s)*gt%s,At=pow2$1(Pt,_2n$2,s);if(!Fp$1.eql(Fp$1.sqr(At),e))throw new Error("Cannot find square root");return At}const Fp$1=Field$1(secp256k1P$1,void 0,void 0,{sqrt:sqrtMod$1}),secp256k1$1=createCurve$1({a:BigInt(0),b:BigInt(7),Fp:Fp$1,n:secp256k1N$1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const s=secp256k1N$1,a=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),tt=-_1n$4*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),nt=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ot=a,st=BigInt("0x100000000000000000000000000000000"),ft=divNearest$1(ot*e,s),ht=divNearest$1(-tt*e,s);let gt=mod$1(e-ft*a-ht*nt,s),mt=mod$1(-ft*tt-ht*ot,s);const yt=gt>st,wt=mt>st;if(yt&&(gt=s-gt),wt&&(mt=s-mt),gt>st||mt>st)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:yt,k1:gt,k2neg:wt,k2:mt}}}},sha256$1),_0n$4=BigInt(0),fe=e=>typeof e=="bigint"&&_0n$4<e&&e<secp256k1P$1,ge=e=>typeof e=="bigint"&&_0n$4<e&&e<secp256k1N$1,TAGGED_HASH_PREFIXES$1={};function taggedHash$1(e,...s){let a=TAGGED_HASH_PREFIXES$1[e];if(a===void 0){const tt=sha256$1(Uint8Array.from(e,nt=>nt.charCodeAt(0)));a=concatBytes$1(tt,tt),TAGGED_HASH_PREFIXES$1[e]=a}return sha256$1(concatBytes$1(a,...s))}const pointToBytes$1=e=>e.toRawBytes(!0).slice(1),numTo32b$1=e=>numberToBytesBE(e,32),modP$1=e=>mod$1(e,secp256k1P$1),modN$1=e=>mod$1(e,secp256k1N$1),Point$1=secp256k1$1.ProjectivePoint,GmulAdd$1=(e,s,a)=>Point$1.BASE.multiplyAndAddUnsafe(e,s,a);function schnorrGetExtPubKey$1(e){let s=secp256k1$1.utils.normPrivateKeyToScalar(e),a=Point$1.fromPrivateKey(s);return{scalar:a.hasEvenY()?s:modN$1(-s),bytes:pointToBytes$1(a)}}function lift_x$1(e){if(!fe(e))throw new Error("bad x: need 0 < x < p");const s=modP$1(e*e),a=modP$1(s*e+BigInt(7));let tt=sqrtMod$1(a);tt%_2n$2!==_0n$4&&(tt=modP$1(-tt));const nt=new Point$1(e,tt,_1n$4);return nt.assertValidity(),nt}function challenge$1(...e){return modN$1(bytesToNumberBE(taggedHash$1("BIP0340/challenge",...e)))}function schnorrGetPublicKey$1(e){return schnorrGetExtPubKey$1(e).bytes}function schnorrSign$1(e,s,a=randomBytes$1(32)){const tt=ensureBytes("message",e),{bytes:nt,scalar:ot}=schnorrGetExtPubKey$1(s),st=ensureBytes("auxRand",a,32),ft=numTo32b$1(ot^bytesToNumberBE(taggedHash$1("BIP0340/aux",st))),ht=taggedHash$1("BIP0340/nonce",ft,nt,tt),gt=modN$1(bytesToNumberBE(ht));if(gt===_0n$4)throw new Error("sign failed: k is zero");const{bytes:mt,scalar:yt}=schnorrGetExtPubKey$1(gt),wt=challenge$1(mt,nt,tt),vt=new Uint8Array(64);if(vt.set(mt,0),vt.set(numTo32b$1(modN$1(yt+wt*ot)),32),!schnorrVerify$1(vt,tt,nt))throw new Error("sign: Invalid signature produced");return vt}function schnorrVerify$1(e,s,a){const tt=ensureBytes("signature",e,64),nt=ensureBytes("message",s),ot=ensureBytes("publicKey",a,32);try{const st=lift_x$1(bytesToNumberBE(ot)),ft=bytesToNumberBE(tt.subarray(0,32));if(!fe(ft))return!1;const ht=bytesToNumberBE(tt.subarray(32,64));if(!ge(ht))return!1;const gt=challenge$1(numTo32b$1(ft),pointToBytes$1(st),nt),mt=GmulAdd$1(st,ht,modN$1(-gt));return!(!mt||!mt.hasEvenY()||mt.toAffine().x!==ft)}catch{return!1}}const schnorr$1={getPublicKey:schnorrGetPublicKey$1,sign:schnorrSign$1,verify:schnorrVerify$1,utils:{randomPrivateKey:secp256k1$1.utils.randomPrivateKey,lift_x:lift_x$1,pointToBytes:pointToBytes$1,numberToBytesBE,bytesToNumberBE,taggedHash:taggedHash$1,mod:mod$1}},crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a=e=>e instanceof Uint8Array,createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,s)=>e<<32-s|e>>>s,isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");const hexes=Array.from({length:256},(e,s)=>s.toString(16).padStart(2,"0"));function bytesToHex(e){if(!u8a(e))throw new Error("Uint8Array expected");let s="";for(let a=0;a<e.length;a++)s+=hexes[e[a]];return s}function hexToBytes(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const s=e.length;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const a=new Uint8Array(s/2);for(let tt=0;tt<a.length;tt++){const nt=tt*2,ot=e.slice(nt,nt+2),st=Number.parseInt(ot,16);if(Number.isNaN(st)||st<0)throw new Error("Invalid byte sequence");a[tt]=st}return a}function utf8ToBytes(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes(e){if(typeof e=="string"&&(e=utf8ToBytes(e)),!u8a(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function concatBytes(...e){const s=new Uint8Array(e.reduce((tt,nt)=>tt+nt.length,0));let a=0;return e.forEach(tt=>{if(!u8a(tt))throw new Error("Uint8Array expected");s.set(tt,a),a+=tt.length}),s}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(e){const s=tt=>e().update(toBytes(tt)).digest(),a=e();return s.outputLen=a.outputLen,s.blockLen=a.blockLen,s.create=()=>e(),s}function randomBytes(e=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function number$1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bool$1(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function bytes$1(e,...s){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(s.length>0&&!s.includes(e.length))throw new Error(`Expected Uint8Array of length ${s}, not of length=${e.length}`)}function hash(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(e.outputLen),number$1(e.blockLen)}function exists(e,s=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(s&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,s){bytes$1(e);const a=s.outputLen;if(e.length<a)throw new Error(`digestInto() expects output buffer of length at least ${a}`)}const assert={number:number$1,bool:bool$1,bytes:bytes$1,hash,exists,output};function setBigUint64(e,s,a,tt){if(typeof e.setBigUint64=="function")return e.setBigUint64(s,a,tt);const nt=BigInt(32),ot=BigInt(4294967295),st=Number(a>>nt&ot),ft=Number(a&ot),ht=tt?4:0,gt=tt?0:4;e.setUint32(s+ht,st,tt),e.setUint32(s+gt,ft,tt)}class SHA2 extends Hash{constructor(s,a,tt,nt){super(),this.blockLen=s,this.outputLen=a,this.padOffset=tt,this.isLE=nt,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){assert.exists(this);const{view:a,buffer:tt,blockLen:nt}=this;s=toBytes(s);const ot=s.length;for(let st=0;st<ot;){const ft=Math.min(nt-this.pos,ot-st);if(ft===nt){const ht=createView(s);for(;nt<=ot-st;st+=nt)this.process(ht,st);continue}tt.set(s.subarray(st,st+ft),this.pos),this.pos+=ft,st+=ft,this.pos===nt&&(this.process(a,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){assert.exists(this),assert.output(s,this),this.finished=!0;const{buffer:a,view:tt,blockLen:nt,isLE:ot}=this;let{pos:st}=this;a[st++]=128,this.buffer.subarray(st).fill(0),this.padOffset>nt-st&&(this.process(tt,0),st=0);for(let yt=st;yt<nt;yt++)a[yt]=0;setBigUint64(tt,nt-8,BigInt(this.length*8),ot),this.process(tt,0);const ft=createView(s),ht=this.outputLen;if(ht%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const gt=ht/4,mt=this.get();if(gt>mt.length)throw new Error("_sha2: outputLen bigger than state");for(let yt=0;yt<gt;yt++)ft.setUint32(4*yt,mt[yt],ot)}digest(){const{buffer:s,outputLen:a}=this;this.digestInto(s);const tt=s.slice(0,a);return this.destroy(),tt}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:a,buffer:tt,length:nt,finished:ot,destroyed:st,pos:ft}=this;return s.length=nt,s.pos=ft,s.finished=ot,s.destroyed=st,nt%a&&s.buffer.set(tt),s}}const Chi=(e,s,a)=>e&s^~e&a,Maj=(e,s,a)=>e&s^e&a^s&a,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:s,B:a,C:tt,D:nt,E:ot,F:st,G:ft,H:ht}=this;return[s,a,tt,nt,ot,st,ft,ht]}set(s,a,tt,nt,ot,st,ft,ht){this.A=s|0,this.B=a|0,this.C=tt|0,this.D=nt|0,this.E=ot|0,this.F=st|0,this.G=ft|0,this.H=ht|0}process(s,a){for(let yt=0;yt<16;yt++,a+=4)SHA256_W[yt]=s.getUint32(a,!1);for(let yt=16;yt<64;yt++){const wt=SHA256_W[yt-15],vt=SHA256_W[yt-2],xt=rotr(wt,7)^rotr(wt,18)^wt>>>3,Et=rotr(vt,17)^rotr(vt,19)^vt>>>10;SHA256_W[yt]=Et+SHA256_W[yt-7]+xt+SHA256_W[yt-16]|0}let{A:tt,B:nt,C:ot,D:st,E:ft,F:ht,G:gt,H:mt}=this;for(let yt=0;yt<64;yt++){const wt=rotr(ft,6)^rotr(ft,11)^rotr(ft,25),vt=mt+wt+Chi(ft,ht,gt)+SHA256_K[yt]+SHA256_W[yt]|0,Et=(rotr(tt,2)^rotr(tt,13)^rotr(tt,22))+Maj(tt,nt,ot)|0;mt=gt,gt=ht,ht=ft,ft=st+vt|0,st=ot,ot=nt,nt=tt,tt=vt+Et|0}tt=tt+this.A|0,nt=nt+this.B|0,ot=ot+this.C|0,st=st+this.D|0,ft=ft+this.E|0,ht=ht+this.F|0,gt=gt+this.G|0,mt=mt+this.H|0,this.set(tt,nt,ot,st,ft,ht,gt,mt)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const sha256=wrapConstructor(()=>new SHA256);wrapConstructor(()=>new SHA224);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function assertNumber(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function chain(...e){const s=(nt,ot)=>st=>nt(ot(st)),a=Array.from(e).reverse().reduce((nt,ot)=>nt?s(nt,ot.encode):ot.encode,void 0),tt=e.reduce((nt,ot)=>nt?s(nt,ot.decode):ot.decode,void 0);return{encode:a,decode:tt}}function alphabet(e){return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(a=>{if(assertNumber(a),a<0||a>=e.length)throw new Error(`Digit index outside alphabet: ${a} (alphabet: ${e.length})`);return e[a]})},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(a=>{if(typeof a!="string")throw new Error(`alphabet.decode: not string element=${a}`);const tt=e.indexOf(a);if(tt===-1)throw new Error(`Unknown letter: "${a}". Allowed: ${e}`);return tt})}}}function join(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("join.encode input should be array of strings");for(let a of s)if(typeof a!="string")throw new Error(`join.encode: non-string input=${a}`);return s.join(e)},decode:s=>{if(typeof s!="string")throw new Error("join.decode input should be string");return s.split(e)}}}function padding(e,s="="){if(assertNumber(e),typeof s!="string")throw new Error("padding chr should be string");return{encode(a){if(!Array.isArray(a)||a.length&&typeof a[0]!="string")throw new Error("padding.encode input should be array of strings");for(let tt of a)if(typeof tt!="string")throw new Error(`padding.encode: non-string input=${tt}`);for(;a.length*e%8;)a.push(s);return a},decode(a){if(!Array.isArray(a)||a.length&&typeof a[0]!="string")throw new Error("padding.encode input should be array of strings");for(let nt of a)if(typeof nt!="string")throw new Error(`padding.decode: non-string input=${nt}`);let tt=a.length;if(tt*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;tt>0&&a[tt-1]===s;tt--)if(!((tt-1)*e%8))throw new Error("Invalid padding: string has too much padding");return a.slice(0,tt)}}}function normalize$1(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:s=>s,decode:s=>e(s)}}function convertRadix(e,s,a){if(s<2)throw new Error(`convertRadix: wrong from=${s}, base cannot be less than 2`);if(a<2)throw new Error(`convertRadix: wrong to=${a}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let tt=0;const nt=[],ot=Array.from(e);for(ot.forEach(st=>{if(assertNumber(st),st<0||st>=s)throw new Error(`Wrong integer: ${st}`)});;){let st=0,ft=!0;for(let ht=tt;ht<ot.length;ht++){const gt=ot[ht],mt=s*st+gt;if(!Number.isSafeInteger(mt)||s*st/s!==st||mt-gt!==s*st)throw new Error("convertRadix: carry overflow");if(st=mt%a,ot[ht]=Math.floor(mt/a),!Number.isSafeInteger(ot[ht])||ot[ht]*a+st!==mt)throw new Error("convertRadix: carry overflow");if(ft)ot[ht]?ft=!1:tt=ht;else continue}if(nt.push(st),ft)break}for(let st=0;st<e.length-1&&e[st]===0;st++)nt.push(0);return nt.reverse()}const gcd=(e,s)=>s?gcd(s,e%s):e,radix2carry=(e,s)=>e+(s-gcd(e,s));function convertRadix2(e,s,a,tt){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(a<=0||a>32)throw new Error(`convertRadix2: wrong to=${a}`);if(radix2carry(s,a)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${a} carryBits=${radix2carry(s,a)}`);let nt=0,ot=0;const st=2**a-1,ft=[];for(const ht of e){if(assertNumber(ht),ht>=2**s)throw new Error(`convertRadix2: invalid data word=${ht} from=${s}`);if(nt=nt<<s|ht,ot+s>32)throw new Error(`convertRadix2: carry overflow pos=${ot} from=${s}`);for(ot+=s;ot>=a;ot-=a)ft.push((nt>>ot-a&st)>>>0);nt&=2**ot-1}if(nt=nt<<a-ot&st,!tt&&ot>=s)throw new Error("Excess padding");if(!tt&&nt)throw new Error(`Non-zero padding: ${nt}`);return tt&&ot>0&&ft.push(nt>>>0),ft}function radix(e){return assertNumber(e),{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(s),2**8,e)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(convertRadix(s,e,2**8))}}}function radix2(e,s=!1){if(assertNumber(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,e)>32||radix2carry(e,8)>32)throw new Error("radix2: carry overflow");return{encode:a=>{if(!(a instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(a),8,e,!s)},decode:a=>{if(!Array.isArray(a)||a.length&&typeof a[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(convertRadix2(a,e,8,s))}}}function unsafeWrapper(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...s){try{return e.apply(null,s)}catch{}}}const base16=chain(radix2(4),alphabet("0123456789ABCDEF"),join("")),base32=chain(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join(""));chain(radix2(5),alphabet("0123456789ABCDEFGHIJKLMNOPQRSTUV"),padding(5),join(""));chain(radix2(5),alphabet("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),join(""),normalize$1(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const base64=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join("")),base64url=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),padding(6),join("")),genBase58=e=>chain(radix(58),alphabet(e),join("")),base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");genBase58("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");genBase58("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const XMR_BLOCK_LEN=[0,2,3,5,6,7,9,10,11],base58xmr={encode(e){let s="";for(let a=0;a<e.length;a+=8){const tt=e.subarray(a,a+8);s+=base58.encode(tt).padStart(XMR_BLOCK_LEN[tt.length],"1")}return s},decode(e){let s=[];for(let a=0;a<e.length;a+=11){const tt=e.slice(a,a+11),nt=XMR_BLOCK_LEN.indexOf(tt.length),ot=base58.decode(tt);for(let st=0;st<ot.length-nt;st++)if(ot[st]!==0)throw new Error("base58xmr: wrong padding");s=s.concat(Array.from(ot.slice(ot.length-nt)))}return Uint8Array.from(s)}},BECH_ALPHABET=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join("")),POLYMOD_GENERATORS=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(e){const s=e>>25;let a=(e&33554431)<<5;for(let tt=0;tt<POLYMOD_GENERATORS.length;tt++)(s>>tt&1)===1&&(a^=POLYMOD_GENERATORS[tt]);return a}function bechChecksum(e,s,a=1){const tt=e.length;let nt=1;for(let ot=0;ot<tt;ot++){const st=e.charCodeAt(ot);if(st<33||st>126)throw new Error(`Invalid prefix (${e})`);nt=bech32Polymod(nt)^st>>5}nt=bech32Polymod(nt);for(let ot=0;ot<tt;ot++)nt=bech32Polymod(nt)^e.charCodeAt(ot)&31;for(let ot of s)nt=bech32Polymod(nt)^ot;for(let ot=0;ot<6;ot++)nt=bech32Polymod(nt);return nt^=a,BECH_ALPHABET.encode(convertRadix2([nt%2**30],30,5,!1))}function genBech32(e){const s=e==="bech32"?1:734539939,a=radix2(5),tt=a.decode,nt=a.encode,ot=unsafeWrapper(tt);function st(mt,yt,wt=90){if(typeof mt!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof mt}`);if(!Array.isArray(yt)||yt.length&&typeof yt[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof yt}`);const vt=mt.length+7+yt.length;if(wt!==!1&&vt>wt)throw new TypeError(`Length ${vt} exceeds limit ${wt}`);return mt=mt.toLowerCase(),`${mt}1${BECH_ALPHABET.encode(yt)}${bechChecksum(mt,yt,s)}`}function ft(mt,yt=90){if(typeof mt!="string")throw new Error(`bech32.decode input should be string, not ${typeof mt}`);if(mt.length<8||yt!==!1&&mt.length>yt)throw new TypeError(`Wrong string length: ${mt.length} (${mt}). Expected (8..${yt})`);const wt=mt.toLowerCase();if(mt!==wt&&mt!==mt.toUpperCase())throw new Error("String must be lowercase or uppercase");mt=wt;const vt=mt.lastIndexOf("1");if(vt===0||vt===-1)throw new Error('Letter "1" must be present between prefix and data only');const xt=mt.slice(0,vt),Et=mt.slice(vt+1);if(Et.length<6)throw new Error("Data must be at least 6 characters long");const kt=BECH_ALPHABET.decode(Et).slice(0,-6),bt=bechChecksum(xt,kt,s);if(!Et.endsWith(bt))throw new Error(`Invalid checksum in ${mt}: expected "${bt}"`);return{prefix:xt,words:kt}}const ht=unsafeWrapper(ft);function gt(mt){const{prefix:yt,words:wt}=ft(mt,!1);return{prefix:yt,words:wt,bytes:tt(wt)}}return{encode:st,decode:ft,decodeToBytes:gt,decodeUnsafe:ht,fromWords:tt,fromWordsUnsafe:ot,toWords:nt}}const bech32$1=genBech32("bech32");genBech32("bech32m");const utf8$1={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},hex$1=chain(radix2(4),alphabet("0123456789abcdef"),join(""),normalize$1(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),CODERS={utf8:utf8$1,hex:hex$1,base16,base32,base64,base64url,base58,base58xmr};`${Object.keys(CODERS).join(", ")}`;function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function bool(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function isBytes(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes(e,...s){if(!isBytes(e))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(e.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function checkOpts(e,s){if(s==null||typeof s!="object")throw new Error("options must be defined");return Object.assign(e,s)}function equalBytes(e,s){if(e.length!==s.length)return!1;let a=0;for(let tt=0;tt<e.length;tt++)a|=e[tt]^s[tt];return a===0}const wrapCipher=(e,s)=>(Object.assign(s,e),s),BLOCK_SIZE=16,POLY=283;function mul2(e){return e<<1^POLY&-(e>>7)}function mul(e,s){let a=0;for(;s>0;s>>=1)a^=e&-(s&1),e=mul2(e);return a}const sbox=(()=>{let e=new Uint8Array(256);for(let a=0,tt=1;a<256;a++,tt^=mul2(tt))e[a]=tt;const s=new Uint8Array(256);s[0]=99;for(let a=0;a<255;a++){let tt=e[255-a];tt|=tt<<8,s[e[a]]=(tt^tt>>4^tt>>5^tt>>6^tt>>7^99)&255}return s})(),invSbox=sbox.map((e,s)=>sbox.indexOf(s)),rotr32_8=e=>e<<24|e>>>8,rotl32_8=e=>e<<8|e>>>24;function genTtable(e,s){if(e.length!==256)throw new Error("Wrong sbox length");const a=new Uint32Array(256).map((gt,mt)=>s(e[mt])),tt=a.map(rotl32_8),nt=tt.map(rotl32_8),ot=nt.map(rotl32_8),st=new Uint32Array(256*256),ft=new Uint32Array(256*256),ht=new Uint16Array(256*256);for(let gt=0;gt<256;gt++)for(let mt=0;mt<256;mt++){const yt=gt*256+mt;st[yt]=a[gt]^tt[mt],ft[yt]=nt[gt]^ot[mt],ht[yt]=e[gt]<<8|e[mt]}return{sbox:e,sbox2:ht,T0:a,T1:tt,T2:nt,T3:ot,T01:st,T23:ft}}const tableEncoding=genTtable(sbox,e=>mul(e,3)<<24|e<<16|e<<8|mul(e,2)),tableDecoding=genTtable(invSbox,e=>mul(e,11)<<24|mul(e,13)<<16|mul(e,9)<<8|mul(e,14)),xPowers=(()=>{const e=new Uint8Array(16);for(let s=0,a=1;s<16;s++,a=mul2(a))e[s]=a;return e})();function expandKeyLE(e){bytes(e);const s=e.length;if(![16,24,32].includes(s))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${s}`);const{sbox2:a}=tableEncoding,tt=u32(e),nt=tt.length,ot=ft=>applySbox(a,ft,ft,ft,ft),st=new Uint32Array(s+28);st.set(tt);for(let ft=nt;ft<st.length;ft++){let ht=st[ft-1];ft%nt===0?ht=ot(rotr32_8(ht))^xPowers[ft/nt-1]:nt>6&&ft%nt===4&&(ht=ot(ht)),st[ft]=st[ft-nt]^ht}return st}function expandKeyDecLE(e){const s=expandKeyLE(e),a=s.slice(),tt=s.length,{sbox2:nt}=tableEncoding,{T0:ot,T1:st,T2:ft,T3:ht}=tableDecoding;for(let gt=0;gt<tt;gt+=4)for(let mt=0;mt<4;mt++)a[gt+mt]=s[tt-gt-4+mt];s.fill(0);for(let gt=4;gt<tt-4;gt++){const mt=a[gt],yt=applySbox(nt,mt,mt,mt,mt);a[gt]=ot[yt&255]^st[yt>>>8&255]^ft[yt>>>16&255]^ht[yt>>>24]}return a}function apply0123(e,s,a,tt,nt,ot){return e[a<<8&65280|tt>>>8&255]^s[nt>>>8&65280|ot>>>24&255]}function applySbox(e,s,a,tt,nt){return e[s&255|a&65280]|e[tt>>>16&255|nt>>>16&65280]<<16}function encrypt$2(e,s,a,tt,nt){const{sbox2:ot,T01:st,T23:ft}=tableEncoding;let ht=0;s^=e[ht++],a^=e[ht++],tt^=e[ht++],nt^=e[ht++];const gt=e.length/4-2;for(let xt=0;xt<gt;xt++){const Et=e[ht++]^apply0123(st,ft,s,a,tt,nt),kt=e[ht++]^apply0123(st,ft,a,tt,nt,s),bt=e[ht++]^apply0123(st,ft,tt,nt,s,a),$t=e[ht++]^apply0123(st,ft,nt,s,a,tt);s=Et,a=kt,tt=bt,nt=$t}const mt=e[ht++]^applySbox(ot,s,a,tt,nt),yt=e[ht++]^applySbox(ot,a,tt,nt,s),wt=e[ht++]^applySbox(ot,tt,nt,s,a),vt=e[ht++]^applySbox(ot,nt,s,a,tt);return{s0:mt,s1:yt,s2:wt,s3:vt}}function decrypt$2(e,s,a,tt,nt){const{sbox2:ot,T01:st,T23:ft}=tableDecoding;let ht=0;s^=e[ht++],a^=e[ht++],tt^=e[ht++],nt^=e[ht++];const gt=e.length/4-2;for(let xt=0;xt<gt;xt++){const Et=e[ht++]^apply0123(st,ft,s,nt,tt,a),kt=e[ht++]^apply0123(st,ft,a,s,nt,tt),bt=e[ht++]^apply0123(st,ft,tt,a,s,nt),$t=e[ht++]^apply0123(st,ft,nt,tt,a,s);s=Et,a=kt,tt=bt,nt=$t}const mt=e[ht++]^applySbox(ot,s,nt,tt,a),yt=e[ht++]^applySbox(ot,a,s,nt,tt),wt=e[ht++]^applySbox(ot,tt,a,s,nt),vt=e[ht++]^applySbox(ot,nt,tt,a,s);return{s0:mt,s1:yt,s2:wt,s3:vt}}function getDst(e,s){if(!s)return new Uint8Array(e);if(bytes(s),s.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${s.length}`);return s}function validateBlockDecrypt(e){if(bytes(e),e.length%BLOCK_SIZE!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${BLOCK_SIZE}`)}function validateBlockEncrypt(e,s,a){let tt=e.length;const nt=tt%BLOCK_SIZE;if(!s&&nt!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const ot=u32(e);if(s){let ht=BLOCK_SIZE-nt;ht||(ht=BLOCK_SIZE),tt=tt+ht}const st=getDst(tt,a),ft=u32(st);return{b:ot,o:ft,out:st}}function validatePCKS(e,s){if(!s)return e;const a=e.length;if(!a)throw new Error("aes/pcks5: empty ciphertext not allowed");const tt=e[a-1];if(tt<=0||tt>16)throw new Error(`aes/pcks5: wrong padding byte: ${tt}`);const nt=e.subarray(0,-tt);for(let ot=0;ot<tt;ot++)if(e[a-ot-1]!==tt)throw new Error("aes/pcks5: wrong padding");return nt}function padPCKS(e){const s=new Uint8Array(16),a=u32(s);s.set(e);const tt=BLOCK_SIZE-e.length;for(let nt=BLOCK_SIZE-tt;nt<BLOCK_SIZE;nt++)s[nt]=tt;return a}const cbc=wrapCipher({blockSize:16,nonceLength:16},function(s,a,tt={}){bytes(s),bytes(a,16);const nt=!tt.disablePadding;return{encrypt:(ot,st)=>{const ft=expandKeyLE(s),{b:ht,o:gt,out:mt}=validateBlockEncrypt(ot,nt,st),yt=u32(a);let wt=yt[0],vt=yt[1],xt=yt[2],Et=yt[3],kt=0;for(;kt+4<=ht.length;)wt^=ht[kt+0],vt^=ht[kt+1],xt^=ht[kt+2],Et^=ht[kt+3],{s0:wt,s1:vt,s2:xt,s3:Et}=encrypt$2(ft,wt,vt,xt,Et),gt[kt++]=wt,gt[kt++]=vt,gt[kt++]=xt,gt[kt++]=Et;if(nt){const bt=padPCKS(ot.subarray(kt*4));wt^=bt[0],vt^=bt[1],xt^=bt[2],Et^=bt[3],{s0:wt,s1:vt,s2:xt,s3:Et}=encrypt$2(ft,wt,vt,xt,Et),gt[kt++]=wt,gt[kt++]=vt,gt[kt++]=xt,gt[kt++]=Et}return ft.fill(0),mt},decrypt:(ot,st)=>{validateBlockDecrypt(ot);const ft=expandKeyDecLE(s),ht=u32(a),gt=getDst(ot.length,st),mt=u32(ot),yt=u32(gt);let wt=ht[0],vt=ht[1],xt=ht[2],Et=ht[3];for(let kt=0;kt+4<=mt.length;){const bt=wt,$t=vt,_t=xt,St=Et;wt=mt[kt+0],vt=mt[kt+1],xt=mt[kt+2],Et=mt[kt+3];const{s0:Pt,s1:At,s2:Tt,s3:Bt}=decrypt$2(ft,wt,vt,xt,Et);yt[kt++]=Pt^bt,yt[kt++]=At^$t,yt[kt++]=Tt^_t,yt[kt++]=Bt^St}return ft.fill(0),validatePCKS(gt,nt)}}}),_utf8ToBytes=e=>Uint8Array.from(e.split("").map(s=>s.charCodeAt(0))),sigma16=_utf8ToBytes("expand 16-byte k"),sigma32=_utf8ToBytes("expand 32-byte k"),sigma16_32=u32(sigma16),sigma32_32=u32(sigma32);sigma32_32.slice();function rotl(e,s){return e<<s|e>>>32-s}function isAligned32(e){return e.byteOffset%4===0}const BLOCK_LEN=64,BLOCK_LEN32=16,MAX_COUNTER=2**32-1,U32_EMPTY=new Uint32Array;function runCipher(e,s,a,tt,nt,ot,st,ft){const ht=nt.length,gt=new Uint8Array(BLOCK_LEN),mt=u32(gt),yt=isAligned32(nt)&&isAligned32(ot),wt=yt?u32(nt):U32_EMPTY,vt=yt?u32(ot):U32_EMPTY;for(let xt=0;xt<ht;st++){if(e(s,a,tt,mt,st,ft),st>=MAX_COUNTER)throw new Error("arx: counter overflow");const Et=Math.min(BLOCK_LEN,ht-xt);if(yt&&Et===BLOCK_LEN){const kt=xt/4;if(xt%4!==0)throw new Error("arx: invalid block position");for(let bt=0,$t;bt<BLOCK_LEN32;bt++)$t=kt+bt,vt[$t]=wt[$t]^mt[bt];xt+=BLOCK_LEN;continue}for(let kt=0,bt;kt<Et;kt++)bt=xt+kt,ot[bt]=nt[bt]^gt[kt];xt+=Et}}function createCipher(e,s){const{allowShortKeys:a,extendNonceFn:tt,counterLength:nt,counterRight:ot,rounds:st}=checkOpts({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},s);if(typeof e!="function")throw new Error("core must be a function");return number(nt),number(st),bool(ot),bool(a),(ft,ht,gt,mt,yt=0)=>{bytes(ft),bytes(ht),bytes(gt);const wt=gt.length;if(mt||(mt=new Uint8Array(wt)),bytes(mt),number(yt),yt<0||yt>=MAX_COUNTER)throw new Error("arx: counter overflow");if(mt.length<wt)throw new Error(`arx: output (${mt.length}) is shorter than data (${wt})`);const vt=[];let xt=ft.length,Et,kt;if(xt===32)Et=ft.slice(),vt.push(Et),kt=sigma32_32;else if(xt===16&&a)Et=new Uint8Array(32),Et.set(ft),Et.set(ft,16),kt=sigma16_32,vt.push(Et);else throw new Error(`arx: invalid 32-byte key, got length=${xt}`);isAligned32(ht)||(ht=ht.slice(),vt.push(ht));const bt=u32(Et);if(tt){if(ht.length!==24)throw new Error("arx: extended nonce must be 24 bytes");tt(kt,bt,u32(ht.subarray(0,16)),bt),ht=ht.subarray(16)}const $t=16-nt;if($t!==ht.length)throw new Error(`arx: nonce must be ${$t} or 16 bytes`);if($t!==12){const St=new Uint8Array(12);St.set(ht,ot?0:12-ht.length),ht=St,vt.push(ht)}const _t=u32(ht);for(runCipher(e,kt,bt,_t,gt,mt,yt,st);vt.length>0;)vt.pop().fill(0);return mt}}function chachaCore(e,s,a,tt,nt,ot=20){let st=e[0],ft=e[1],ht=e[2],gt=e[3],mt=s[0],yt=s[1],wt=s[2],vt=s[3],xt=s[4],Et=s[5],kt=s[6],bt=s[7],$t=nt,_t=a[0],St=a[1],Pt=a[2],At=st,Tt=ft,Bt=ht,zt=gt,Dt=mt,Lt=yt,Ft=wt,Ut=vt,Mt=xt,Ct=Et,Rt=kt,jt=bt,It=$t,Ot=_t,Ht=St,Vt=Pt;for(let Gt=0;Gt<ot;Gt+=2)At=At+Dt|0,It=rotl(It^At,16),Mt=Mt+It|0,Dt=rotl(Dt^Mt,12),At=At+Dt|0,It=rotl(It^At,8),Mt=Mt+It|0,Dt=rotl(Dt^Mt,7),Tt=Tt+Lt|0,Ot=rotl(Ot^Tt,16),Ct=Ct+Ot|0,Lt=rotl(Lt^Ct,12),Tt=Tt+Lt|0,Ot=rotl(Ot^Tt,8),Ct=Ct+Ot|0,Lt=rotl(Lt^Ct,7),Bt=Bt+Ft|0,Ht=rotl(Ht^Bt,16),Rt=Rt+Ht|0,Ft=rotl(Ft^Rt,12),Bt=Bt+Ft|0,Ht=rotl(Ht^Bt,8),Rt=Rt+Ht|0,Ft=rotl(Ft^Rt,7),zt=zt+Ut|0,Vt=rotl(Vt^zt,16),jt=jt+Vt|0,Ut=rotl(Ut^jt,12),zt=zt+Ut|0,Vt=rotl(Vt^zt,8),jt=jt+Vt|0,Ut=rotl(Ut^jt,7),At=At+Lt|0,Vt=rotl(Vt^At,16),Rt=Rt+Vt|0,Lt=rotl(Lt^Rt,12),At=At+Lt|0,Vt=rotl(Vt^At,8),Rt=Rt+Vt|0,Lt=rotl(Lt^Rt,7),Tt=Tt+Ft|0,It=rotl(It^Tt,16),jt=jt+It|0,Ft=rotl(Ft^jt,12),Tt=Tt+Ft|0,It=rotl(It^Tt,8),jt=jt+It|0,Ft=rotl(Ft^jt,7),Bt=Bt+Ut|0,Ot=rotl(Ot^Bt,16),Mt=Mt+Ot|0,Ut=rotl(Ut^Mt,12),Bt=Bt+Ut|0,Ot=rotl(Ot^Bt,8),Mt=Mt+Ot|0,Ut=rotl(Ut^Mt,7),zt=zt+Dt|0,Ht=rotl(Ht^zt,16),Ct=Ct+Ht|0,Dt=rotl(Dt^Ct,12),zt=zt+Dt|0,Ht=rotl(Ht^zt,8),Ct=Ct+Ht|0,Dt=rotl(Dt^Ct,7);let Wt=0;tt[Wt++]=st+At|0,tt[Wt++]=ft+Tt|0,tt[Wt++]=ht+Bt|0,tt[Wt++]=gt+zt|0,tt[Wt++]=mt+Dt|0,tt[Wt++]=yt+Lt|0,tt[Wt++]=wt+Ft|0,tt[Wt++]=vt+Ut|0,tt[Wt++]=xt+Mt|0,tt[Wt++]=Et+Ct|0,tt[Wt++]=kt+Rt|0,tt[Wt++]=bt+jt|0,tt[Wt++]=$t+It|0,tt[Wt++]=_t+Ot|0,tt[Wt++]=St+Ht|0,tt[Wt++]=Pt+Vt|0}const chacha20=createCipher(chachaCore,{counterRight:!1,counterLength:4,allowShortKeys:!1});class HMAC extends Hash{constructor(s,a){super(),this.finished=!1,this.destroyed=!1,assert.hash(s);const tt=toBytes(a);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const nt=this.blockLen,ot=new Uint8Array(nt);ot.set(tt.length>nt?s.create().update(tt).digest():tt);for(let st=0;st<ot.length;st++)ot[st]^=54;this.iHash.update(ot),this.oHash=s.create();for(let st=0;st<ot.length;st++)ot[st]^=106;this.oHash.update(ot),ot.fill(0)}update(s){return assert.exists(this),this.iHash.update(s),this}digestInto(s){assert.exists(this),assert.bytes(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:tt,finished:nt,destroyed:ot,blockLen:st,outputLen:ft}=this;return s=s,s.finished=nt,s.destroyed=ot,s.blockLen=st,s.outputLen=ft,s.oHash=a._cloneInto(s.oHash),s.iHash=tt._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e,s,a)=>new HMAC(e,s).update(a).digest();hmac.create=(e,s)=>new HMAC(e,s);function extract(e,s,a){return assert.hash(e),hmac(e,toBytes(a),toBytes(s))}const HKDF_COUNTER=new Uint8Array([0]),EMPTY_BUFFER=new Uint8Array;function expand(e,s,a,tt=32){if(assert.hash(e),assert.number(tt),tt>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const nt=Math.ceil(tt/e.outputLen);a===void 0&&(a=EMPTY_BUFFER);const ot=new Uint8Array(nt*e.outputLen),st=hmac.create(e,s),ft=st._cloneInto(),ht=new Uint8Array(st.outputLen);for(let gt=0;gt<nt;gt++)HKDF_COUNTER[0]=gt+1,ft.update(gt===0?EMPTY_BUFFER:ht).update(a).update(HKDF_COUNTER).digestInto(ht),ot.set(ht,e.outputLen*gt),st._cloneInto(ft);return st.destroy(),ft.destroy(),ht.fill(0),HKDF_COUNTER.fill(0),ot.slice(0,tt)}var __defProp=Object.defineProperty,__export=(e,s)=>{for(var a in s)__defProp(e,a,{get:s[a],enumerable:!0})},verifiedSymbol=Symbol("verified"),isRecord=e=>e instanceof Object;function validateEvent(e){if(!isRecord(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let s=0;s<e.tags.length;s++){let a=e.tags[s];if(!Array.isArray(a))return!1;for(let tt=0;tt<a.length;tt++)if(typeof a[tt]=="object")return!1}return!0}var utils_exports={};__export(utils_exports,{Queue:()=>Queue$1,QueueNode:()=>QueueNode,binarySearch:()=>binarySearch,insertEventIntoAscendingList:()=>insertEventIntoAscendingList,insertEventIntoDescendingList:()=>insertEventIntoDescendingList,normalizeURL:()=>normalizeURL,utf8Decoder:()=>utf8Decoder,utf8Encoder:()=>utf8Encoder});var utf8Decoder=new TextDecoder("utf-8"),utf8Encoder=new TextEncoder;function normalizeURL(e){e.indexOf("://")===-1&&(e="wss://"+e);let s=new URL(e);return s.pathname=s.pathname.replace(/\/+/g,"/"),s.pathname.endsWith("/")&&(s.pathname=s.pathname.slice(0,-1)),(s.port==="80"&&s.protocol==="ws:"||s.port==="443"&&s.protocol==="wss:")&&(s.port=""),s.searchParams.sort(),s.hash="",s.toString()}function insertEventIntoDescendingList(e,s){const[a,tt]=binarySearch(e,nt=>s.id===nt.id?0:s.created_at===nt.created_at?-1:nt.created_at-s.created_at);return tt||e.splice(a,0,s),e}function insertEventIntoAscendingList(e,s){const[a,tt]=binarySearch(e,nt=>s.id===nt.id?0:s.created_at===nt.created_at?-1:s.created_at-nt.created_at);return tt||e.splice(a,0,s),e}function binarySearch(e,s){let a=0,tt=e.length-1;for(;a<=tt;){const nt=Math.floor((a+tt)/2),ot=s(e[nt]);if(ot===0)return[nt,!0];ot<0?tt=nt-1:a=nt+1}return[a,!1]}var QueueNode=class{constructor(e){Nt(this,"value");Nt(this,"next",null);Nt(this,"prev",null);this.value=e}},Queue$1=class{constructor(){Nt(this,"first");Nt(this,"last");this.first=null,this.last=null}enqueue(s){const a=new QueueNode(s);return this.last?this.last===this.first?(this.last=a,this.last.prev=this.first,this.first.next=a):(a.prev=this.last,this.last.next=a,this.last=a):(this.first=a,this.last=a),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const a=this.first;return this.first=null,this.last=null,a.value}const s=this.first;return this.first=s.next,s.value}},JS=class{generateSecretKey(){return schnorr$1.utils.randomPrivateKey()}getPublicKey(e){return bytesToHex(schnorr$1.getPublicKey(e))}finalizeEvent(e,s){const a=e;return a.pubkey=bytesToHex(schnorr$1.getPublicKey(s)),a.id=getEventHash$1(a),a.sig=bytesToHex(schnorr$1.sign(getEventHash$1(a),s)),a[verifiedSymbol]=!0,a}verifyEvent(e){if(typeof e[verifiedSymbol]=="boolean")return e[verifiedSymbol];const s=getEventHash$1(e);if(s!==e.id)return e[verifiedSymbol]=!1,!1;try{const a=schnorr$1.verify(e.sig,s,e.pubkey);return e[verifiedSymbol]=a,a}catch{return e[verifiedSymbol]=!1,!1}}};function serializeEvent(e){if(!validateEvent(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function getEventHash$1(e){let s=sha256(utf8Encoder.encode(serializeEvent(e)));return bytesToHex(s)}var i=new JS,generateSecretKey=i.generateSecretKey,getPublicKey=i.getPublicKey,finalizeEvent=i.finalizeEvent,verifyEvent=i.verifyEvent,kinds_exports={};__export(kinds_exports,{Application:()=>Application,BadgeAward:()=>BadgeAward,BadgeDefinition:()=>BadgeDefinition,BlockedRelaysList:()=>BlockedRelaysList,BookmarkList:()=>BookmarkList,Bookmarksets:()=>Bookmarksets,Calendar:()=>Calendar,CalendarEventRSVP:()=>CalendarEventRSVP,ChannelCreation:()=>ChannelCreation,ChannelHideMessage:()=>ChannelHideMessage,ChannelMessage:()=>ChannelMessage,ChannelMetadata:()=>ChannelMetadata,ChannelMuteUser:()=>ChannelMuteUser,ClassifiedListing:()=>ClassifiedListing,ClientAuth:()=>ClientAuth,CommunitiesList:()=>CommunitiesList,CommunityDefinition:()=>CommunityDefinition,CommunityPostApproval:()=>CommunityPostApproval,Contacts:()=>Contacts,CreateOrUpdateProduct:()=>CreateOrUpdateProduct,CreateOrUpdateStall:()=>CreateOrUpdateStall,Curationsets:()=>Curationsets,Date:()=>Date2,DraftClassifiedListing:()=>DraftClassifiedListing,DraftLong:()=>DraftLong,Emojisets:()=>Emojisets,EncryptedDirectMessage:()=>EncryptedDirectMessage,EncryptedDirectMessages:()=>EncryptedDirectMessages,EventDeletion:()=>EventDeletion,FileMetadata:()=>FileMetadata,FileServerPreference:()=>FileServerPreference,Followsets:()=>Followsets,GenericRepost:()=>GenericRepost,Genericlists:()=>Genericlists,HTTPAuth:()=>HTTPAuth,Handlerinformation:()=>Handlerinformation,Handlerrecommendation:()=>Handlerrecommendation,Highlights:()=>Highlights,InterestsList:()=>InterestsList,Interestsets:()=>Interestsets,JobFeedback:()=>JobFeedback,JobRequest:()=>JobRequest,JobResult:()=>JobResult,Label:()=>Label,LightningPubRPC:()=>LightningPubRPC,LiveChatMessage:()=>LiveChatMessage,LiveEvent:()=>LiveEvent,LongFormArticle:()=>LongFormArticle,Metadata:()=>Metadata,Mutelist:()=>Mutelist,NWCWalletInfo:()=>NWCWalletInfo,NWCWalletRequest:()=>NWCWalletRequest,NWCWalletResponse:()=>NWCWalletResponse,NostrConnect:()=>NostrConnect,OpenTimestamps:()=>OpenTimestamps,Pinlist:()=>Pinlist,ProblemTracker:()=>ProblemTracker,ProfileBadges:()=>ProfileBadges,PublicChatsList:()=>PublicChatsList,Reaction:()=>Reaction,RecommendRelay:()=>RecommendRelay,RelayList:()=>RelayList$1,Relaysets:()=>Relaysets,Report:()=>Report,Reporting:()=>Reporting,Repost:()=>Repost,SearchRelaysList:()=>SearchRelaysList,ShortTextNote:()=>ShortTextNote,Time:()=>Time,UserEmojiList:()=>UserEmojiList,UserStatuses:()=>UserStatuses,Zap:()=>Zap,ZapGoal:()=>ZapGoal,ZapRequest:()=>ZapRequest,classifyKind:()=>classifyKind,isEphemeralKind:()=>isEphemeralKind,isParameterizedReplaceableKind:()=>isParameterizedReplaceableKind,isRegularKind:()=>isRegularKind,isReplaceableKind:()=>isReplaceableKind});function isRegularKind(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function isReplaceableKind(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function isEphemeralKind(e){return 2e4<=e&&e<3e4}function isParameterizedReplaceableKind(e){return 3e4<=e&&e<4e4}function classifyKind(e){return isRegularKind(e)?"regular":isReplaceableKind(e)?"replaceable":isEphemeralKind(e)?"ephemeral":isParameterizedReplaceableKind(e)?"parameterized":"unknown"}var Metadata=0,ShortTextNote=1,RecommendRelay=2,Contacts=3,EncryptedDirectMessage=4,EncryptedDirectMessages=4,EventDeletion=5,Repost=6,Reaction=7,BadgeAward=8,GenericRepost=16,ChannelCreation=40,ChannelMetadata=41,ChannelMessage=42,ChannelHideMessage=43,ChannelMuteUser=44,OpenTimestamps=1040,FileMetadata=1063,LiveChatMessage=1311,ProblemTracker=1971,Report=1984,Reporting=1984,Label=1985,CommunityPostApproval=4550,JobRequest=5999,JobResult=6999,JobFeedback=7e3,ZapGoal=9041,ZapRequest=9734,Zap=9735,Highlights=9802,Mutelist=1e4,Pinlist=10001,RelayList$1=10002,BookmarkList=10003,CommunitiesList=10004,PublicChatsList=10005,BlockedRelaysList=10006,SearchRelaysList=10007,InterestsList=10015,UserEmojiList=10030,FileServerPreference=10096,NWCWalletInfo=13194,LightningPubRPC=21e3,ClientAuth=22242,NWCWalletRequest=23194,NWCWalletResponse=23195,NostrConnect=24133,HTTPAuth=27235,Followsets=3e4,Genericlists=30001,Relaysets=30002,Bookmarksets=30003,Curationsets=30004,ProfileBadges=30008,BadgeDefinition=30009,Interestsets=30015,CreateOrUpdateStall=30017,CreateOrUpdateProduct=30018,LongFormArticle=30023,DraftLong=30024,Emojisets=30030,Application=30078,LiveEvent=30311,UserStatuses=30315,ClassifiedListing=30402,DraftClassifiedListing=30403,Date2=31922,Time=31923,Calendar=31924,CalendarEventRSVP=31925,Handlerrecommendation=31989,Handlerinformation=31990,CommunityDefinition=34550;function matchFilter(e,s){if(e.ids&&e.ids.indexOf(s.id)===-1||e.kinds&&e.kinds.indexOf(s.kind)===-1||e.authors&&e.authors.indexOf(s.pubkey)===-1)return!1;for(let a in e)if(a[0]==="#"){let tt=a.slice(1),nt=e[`#${tt}`];if(nt&&!s.tags.find(([ot,st])=>ot===a.slice(1)&&nt.indexOf(st)!==-1))return!1}return!(e.since&&s.created_at<e.since||e.until&&s.created_at>e.until)}function matchFilters(e,s){for(let a=0;a<e.length;a++)if(matchFilter(e[a],s))return!0;return!1}var fakejson_exports={};__export(fakejson_exports,{getHex64:()=>getHex64,getInt:()=>getInt,getSubscriptionId:()=>getSubscriptionId,matchEventId:()=>matchEventId,matchEventKind:()=>matchEventKind,matchEventPubkey:()=>matchEventPubkey});function getHex64(e,s){let a=s.length+3,tt=e.indexOf(`"${s}":`)+a,nt=e.slice(tt).indexOf('"')+tt+1;return e.slice(nt,nt+64)}function getInt(e,s){let a=s.length,tt=e.indexOf(`"${s}":`)+a+3,nt=e.slice(tt),ot=Math.min(nt.indexOf(","),nt.indexOf("}"));return parseInt(nt.slice(0,ot),10)}function getSubscriptionId(e){let s=e.slice(0,22).indexOf('"EVENT"');if(s===-1)return null;let a=e.slice(s+7+1).indexOf('"');if(a===-1)return null;let tt=s+7+1+a,nt=e.slice(tt+1,80).indexOf('"');if(nt===-1)return null;let ot=tt+1+nt;return e.slice(tt+1,ot)}function matchEventId(e,s){return s===getHex64(e,"id")}function matchEventPubkey(e,s){return s===getHex64(e,"pubkey")}function matchEventKind(e,s){return s===getInt(e,"kind")}var nip42_exports={};__export(nip42_exports,{makeAuthEvent:()=>makeAuthEvent});function makeAuthEvent(e,s){return{kind:ClientAuth,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",s]],content:""}}var _WebSocket;try{_WebSocket=WebSocket}catch{}var _WebSocket2;try{_WebSocket2=WebSocket}catch{}var nip19_exports={};__export(nip19_exports,{BECH32_REGEX:()=>BECH32_REGEX$1,Bech32MaxSize:()=>Bech32MaxSize,decode:()=>decode$1,encodeBytes:()=>encodeBytes,naddrEncode:()=>naddrEncode,neventEncode:()=>neventEncode,noteEncode:()=>noteEncode,nprofileEncode:()=>nprofileEncode,npubEncode:()=>npubEncode,nrelayEncode:()=>nrelayEncode,nsecEncode:()=>nsecEncode});var Bech32MaxSize=5e3,BECH32_REGEX$1=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function integerToUint8Array(e){const s=new Uint8Array(4);return s[0]=e>>24&255,s[1]=e>>16&255,s[2]=e>>8&255,s[3]=e&255,s}function decode$1(e){var nt,ot,st,ft,ht,gt,mt,yt;let{prefix:s,words:a}=bech32$1.decode(e,Bech32MaxSize),tt=new Uint8Array(bech32$1.fromWords(a));switch(s){case"nprofile":{let wt=parseTLV(tt);if(!((nt=wt[0])!=null&&nt[0]))throw new Error("missing TLV 0 for nprofile");if(wt[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:bytesToHex(wt[0][0]),relays:wt[1]?wt[1].map(vt=>utf8Decoder.decode(vt)):[]}}}case"nevent":{let wt=parseTLV(tt);if(!((ot=wt[0])!=null&&ot[0]))throw new Error("missing TLV 0 for nevent");if(wt[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(wt[2]&&wt[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(wt[3]&&wt[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:bytesToHex(wt[0][0]),relays:wt[1]?wt[1].map(vt=>utf8Decoder.decode(vt)):[],author:(st=wt[2])!=null&&st[0]?bytesToHex(wt[2][0]):void 0,kind:(ft=wt[3])!=null&&ft[0]?parseInt(bytesToHex(wt[3][0]),16):void 0}}}case"naddr":{let wt=parseTLV(tt);if(!((ht=wt[0])!=null&&ht[0]))throw new Error("missing TLV 0 for naddr");if(!((gt=wt[2])!=null&&gt[0]))throw new Error("missing TLV 2 for naddr");if(wt[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((mt=wt[3])!=null&&mt[0]))throw new Error("missing TLV 3 for naddr");if(wt[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:utf8Decoder.decode(wt[0][0]),pubkey:bytesToHex(wt[2][0]),kind:parseInt(bytesToHex(wt[3][0]),16),relays:wt[1]?wt[1].map(vt=>utf8Decoder.decode(vt)):[]}}}case"nrelay":{let wt=parseTLV(tt);if(!((yt=wt[0])!=null&&yt[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:utf8Decoder.decode(wt[0][0])}}case"nsec":return{type:s,data:tt};case"npub":case"note":return{type:s,data:bytesToHex(tt)};default:throw new Error(`unknown prefix ${s}`)}}function parseTLV(e){let s={},a=e;for(;a.length>0;){let tt=a[0],nt=a[1],ot=a.slice(2,2+nt);if(a=a.slice(2+nt),ot.length<nt)throw new Error(`not enough data to read on TLV ${tt}`);s[tt]=s[tt]||[],s[tt].push(ot)}return s}function nsecEncode(e){return encodeBytes("nsec",e)}function npubEncode(e){return encodeBytes("npub",hexToBytes(e))}function noteEncode(e){return encodeBytes("note",hexToBytes(e))}function encodeBech32(e,s){let a=bech32$1.toWords(s);return bech32$1.encode(e,a,Bech32MaxSize)}function encodeBytes(e,s){return encodeBech32(e,s)}function nprofileEncode(e){let s=encodeTLV({0:[hexToBytes(e.pubkey)],1:(e.relays||[]).map(a=>utf8Encoder.encode(a))});return encodeBech32("nprofile",s)}function neventEncode(e){let s;e.kind!==void 0&&(s=integerToUint8Array(e.kind));let a=encodeTLV({0:[hexToBytes(e.id)],1:(e.relays||[]).map(tt=>utf8Encoder.encode(tt)),2:e.author?[hexToBytes(e.author)]:[],3:s?[new Uint8Array(s)]:[]});return encodeBech32("nevent",a)}function naddrEncode(e){let s=new ArrayBuffer(4);new DataView(s).setUint32(0,e.kind,!1);let a=encodeTLV({0:[utf8Encoder.encode(e.identifier)],1:(e.relays||[]).map(tt=>utf8Encoder.encode(tt)),2:[hexToBytes(e.pubkey)],3:[new Uint8Array(s)]});return encodeBech32("naddr",a)}function nrelayEncode(e){let s=encodeTLV({0:[utf8Encoder.encode(e)]});return encodeBech32("nrelay",s)}function encodeTLV(e){let s=[];return Object.entries(e).reverse().forEach(([a,tt])=>{tt.forEach(nt=>{let ot=new Uint8Array(nt.length+2);ot.set([parseInt(a)],0),ot.set([nt.length],1),ot.set(nt,2),s.push(ot)})}),concatBytes(...s)}var nip04_exports={};__export(nip04_exports,{decrypt:()=>decrypt$1,encrypt:()=>encrypt$1});async function encrypt$1(e,s,a){const tt=e instanceof Uint8Array?bytesToHex(e):e,nt=secp256k1$1.getSharedSecret(tt,"02"+s),ot=getNormalizedX(nt);let st=Uint8Array.from(randomBytes(16)),ft=utf8Encoder.encode(a),ht=cbc(ot,st).encrypt(ft),gt=base64.encode(new Uint8Array(ht)),mt=base64.encode(new Uint8Array(st.buffer));return`${gt}?iv=${mt}`}async function decrypt$1(e,s,a){const tt=e instanceof Uint8Array?bytesToHex(e):e;let[nt,ot]=a.split("?iv="),st=secp256k1$1.getSharedSecret(tt,"02"+s),ft=getNormalizedX(st),ht=base64.decode(ot),gt=base64.decode(nt),mt=cbc(ft,ht).decrypt(gt);return utf8Decoder.decode(mt)}function getNormalizedX(e){return e.slice(1,33)}var nip05_exports={};__export(nip05_exports,{NIP05_REGEX:()=>NIP05_REGEX$1,isValid:()=>isValid,queryProfile:()=>queryProfile,searchDomain:()=>searchDomain,useFetchImplementation:()=>useFetchImplementation});var NIP05_REGEX$1=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,_fetch;try{_fetch=fetch}catch{}function useFetchImplementation(e){_fetch=e}async function searchDomain(e,s=""){try{const a=`https://${e}/.well-known/nostr.json?name=${s}`;return(await(await _fetch(a,{redirect:"error"})).json()).names}catch{return{}}}async function queryProfile(e){var ot;const s=e.match(NIP05_REGEX$1);if(!s)return null;const[a,tt="_",nt]=s;try{const st=`https://${nt}/.well-known/nostr.json?name=${tt}`,ft=await(await _fetch(st,{redirect:"error"})).json();let ht=ft.names[tt];return ht?{pubkey:ht,relays:(ot=ft.relays)==null?void 0:ot[ht]}:null}catch{return null}}async function isValid(e,s){let a=await queryProfile(s);return a?a.pubkey===e:!1}var nip10_exports={};__export(nip10_exports,{parse:()=>parse});function parse(e){const s={reply:void 0,root:void 0,mentions:[],profiles:[]},a=[];for(const tt of e.tags)tt[0]==="e"&&tt[1]&&a.push(tt),tt[0]==="p"&&tt[1]&&s.profiles.push({pubkey:tt[1],relays:tt[2]?[tt[2]]:[]});for(let tt=0;tt<a.length;tt++){const nt=a[tt],[ot,st,ft,ht]=nt,gt={id:st,relays:ft?[ft]:[]},mt=tt===0,yt=tt===a.length-1;if(ht==="root"){s.root=gt;continue}if(ht==="reply"){s.reply=gt;continue}if(ht==="mention"){s.mentions.push(gt);continue}if(mt){s.root=gt;continue}if(yt){s.reply=gt;continue}s.mentions.push(gt)}return s}var nip11_exports={};__export(nip11_exports,{fetchRelayInformation:()=>fetchRelayInformation,useFetchImplementation:()=>useFetchImplementation2});var _fetch2;try{_fetch2=fetch}catch{}function useFetchImplementation2(e){_fetch2=e}async function fetchRelayInformation(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var nip13_exports={};__export(nip13_exports,{getPow:()=>getPow,minePow:()=>minePow});function getPow(e){let s=0;for(let a=0;a<e.length;a++){const tt=parseInt(e[a],16);if(tt===0)s+=4;else{s+=Math.clz32(tt)-28;break}}return s}function minePow(e,s){let a=0;const tt=e,nt=["nonce",a.toString(),s.toString()];for(tt.tags.push(nt);;){const ot=Math.floor(new Date().getTime()/1e3);if(ot!==tt.created_at&&(a=0,tt.created_at=ot),nt[1]=(++a).toString(),tt.id=getEventHash$1(tt),getPow(tt.id)>=s)break}return tt}var nip18_exports={};__export(nip18_exports,{finishRepostEvent:()=>finishRepostEvent,getRepostedEvent:()=>getRepostedEvent,getRepostedEventPointer:()=>getRepostedEventPointer});function finishRepostEvent(e,s,a,tt){return finalizeEvent({kind:Repost,tags:[...e.tags??[],["e",s.id,a],["p",s.pubkey]],content:e.content===""?"":JSON.stringify(s),created_at:e.created_at},tt)}function getRepostedEventPointer(e){if(e.kind!==Repost)return;let s,a;for(let tt=e.tags.length-1;tt>=0&&(s===void 0||a===void 0);tt--){const nt=e.tags[tt];nt.length>=2&&(nt[0]==="e"&&s===void 0?s=nt:nt[0]==="p"&&a===void 0&&(a=nt))}if(s!==void 0)return{id:s[1],relays:[s[2],a==null?void 0:a[2]].filter(tt=>typeof tt=="string"),author:a==null?void 0:a[1]}}function getRepostedEvent(e,{skipVerification:s}={}){const a=getRepostedEventPointer(e);if(a===void 0||e.content==="")return;let tt;try{tt=JSON.parse(e.content)}catch{return}if(tt.id===a.id&&!(!s&&!verifyEvent(tt)))return tt}var nip21_exports={};__export(nip21_exports,{NOSTR_URI_REGEX:()=>NOSTR_URI_REGEX,parse:()=>parse2,test:()=>test});var NOSTR_URI_REGEX=new RegExp(`nostr:(${BECH32_REGEX$1.source})`);function test(e){return typeof e=="string"&&new RegExp(`^${NOSTR_URI_REGEX.source}$`).test(e)}function parse2(e){const s=e.match(new RegExp(`^${NOSTR_URI_REGEX.source}$`));if(!s)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:s[0],value:s[1],decoded:decode$1(s[1])}}var nip25_exports={};__export(nip25_exports,{finishReactionEvent:()=>finishReactionEvent,getReactedEventPointer:()=>getReactedEventPointer});function finishReactionEvent(e,s,a){const tt=s.tags.filter(nt=>nt.length>=2&&(nt[0]==="e"||nt[0]==="p"));return finalizeEvent({...e,kind:Reaction,tags:[...e.tags??[],...tt,["e",s.id],["p",s.pubkey]],content:e.content??"+"},a)}function getReactedEventPointer(e){if(e.kind!==Reaction)return;let s,a;for(let tt=e.tags.length-1;tt>=0&&(s===void 0||a===void 0);tt--){const nt=e.tags[tt];nt.length>=2&&(nt[0]==="e"&&s===void 0?s=nt:nt[0]==="p"&&a===void 0&&(a=nt))}if(!(s===void 0||a===void 0))return{id:s[1],relays:[s[2],a[2]].filter(tt=>tt!==void 0),author:a[1]}}var nip27_exports={};__export(nip27_exports,{matchAll:()=>matchAll,regex:()=>regex,replaceAll:()=>replaceAll});var regex=()=>new RegExp(`\\b${NOSTR_URI_REGEX.source}\\b`,"g");function*matchAll(e){const s=e.matchAll(regex());for(const a of s)try{const[tt,nt]=a;yield{uri:tt,value:nt,decoded:decode$1(nt),start:a.index,end:a.index+tt.length}}catch{}}function replaceAll(e,s){return e.replaceAll(regex(),(a,tt)=>s({uri:a,value:tt,decoded:decode$1(tt)}))}var nip28_exports={};__export(nip28_exports,{channelCreateEvent:()=>channelCreateEvent,channelHideMessageEvent:()=>channelHideMessageEvent,channelMessageEvent:()=>channelMessageEvent,channelMetadataEvent:()=>channelMetadataEvent,channelMuteUserEvent:()=>channelMuteUserEvent});var channelCreateEvent=(e,s)=>{let a;if(typeof e.content=="object")a=JSON.stringify(e.content);else if(typeof e.content=="string")a=e.content;else return;return finalizeEvent({kind:ChannelCreation,tags:[...e.tags??[]],content:a,created_at:e.created_at},s)},channelMetadataEvent=(e,s)=>{let a;if(typeof e.content=="object")a=JSON.stringify(e.content);else if(typeof e.content=="string")a=e.content;else return;return finalizeEvent({kind:ChannelMetadata,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:a,created_at:e.created_at},s)},channelMessageEvent=(e,s)=>{const a=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&a.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),finalizeEvent({kind:ChannelMessage,tags:[...a,...e.tags??[]],content:e.content,created_at:e.created_at},s)},channelHideMessageEvent=(e,s)=>{let a;if(typeof e.content=="object")a=JSON.stringify(e.content);else if(typeof e.content=="string")a=e.content;else return;return finalizeEvent({kind:ChannelHideMessage,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:a,created_at:e.created_at},s)},channelMuteUserEvent=(e,s)=>{let a;if(typeof e.content=="object")a=JSON.stringify(e.content);else if(typeof e.content=="string")a=e.content;else return;return finalizeEvent({kind:ChannelMuteUser,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:a,created_at:e.created_at},s)},nip30_exports={};__export(nip30_exports,{EMOJI_SHORTCODE_REGEX:()=>EMOJI_SHORTCODE_REGEX,matchAll:()=>matchAll2,regex:()=>regex2,replaceAll:()=>replaceAll2});var EMOJI_SHORTCODE_REGEX=/:(\w+):/,regex2=()=>new RegExp(`\\B${EMOJI_SHORTCODE_REGEX.source}\\B`,"g");function*matchAll2(e){const s=e.matchAll(regex2());for(const a of s)try{const[tt,nt]=a;yield{shortcode:tt,name:nt,start:a.index,end:a.index+tt.length}}catch{}}function replaceAll2(e,s){return e.replaceAll(regex2(),(a,tt)=>s({shortcode:a,name:tt}))}var nip39_exports={};__export(nip39_exports,{useFetchImplementation:()=>useFetchImplementation3,validateGithub:()=>validateGithub});var _fetch3;try{_fetch3=fetch}catch{}function useFetchImplementation3(e){_fetch3=e}async function validateGithub(e,s,a){try{return await(await _fetch3(`https://gist.github.com/${s}/${a}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var nip44_exports={};__export(nip44_exports,{decrypt:()=>decrypt2,encrypt:()=>encrypt2,getConversationKey:()=>getConversationKey,v2:()=>v2});var minPlaintextSize=1,maxPlaintextSize=65535;function getConversationKey(e,s){const a=secp256k1$1.getSharedSecret(e,"02"+s).subarray(1,33);return extract(sha256,a,"nip44-v2")}function getMessageKeys(e,s){const a=expand(sha256,e,s,76);return{chacha_key:a.subarray(0,32),chacha_nonce:a.subarray(32,44),hmac_key:a.subarray(44,76)}}function calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const s=1<<Math.floor(Math.log2(e-1))+1,a=s<=256?32:s/8;return a*(Math.floor((e-1)/a)+1)}function writeU16BE(e){if(!Number.isSafeInteger(e)||e<minPlaintextSize||e>maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const s=new Uint8Array(2);return new DataView(s.buffer).setUint16(0,e,!1),s}function pad(e){const s=utf8Encoder.encode(e),a=s.length,tt=writeU16BE(a),nt=new Uint8Array(calcPaddedLen(a)-a);return concatBytes(tt,s,nt)}function unpad(e){const s=new DataView(e.buffer).getUint16(0),a=e.subarray(2,2+s);if(s<minPlaintextSize||s>maxPlaintextSize||a.length!==s||e.length!==2+calcPaddedLen(s))throw new Error("invalid padding");return utf8Decoder.decode(a)}function hmacAad(e,s,a){if(a.length!==32)throw new Error("AAD associated data must be 32 bytes");const tt=concatBytes(a,s);return hmac(sha256,e,tt)}function decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const s=e.length;if(s<132||s>87472)throw new Error("invalid payload length: "+s);if(e[0]==="#")throw new Error("unknown encryption version");let a;try{a=base64.decode(e)}catch(ot){throw new Error("invalid base64: "+ot.message)}const tt=a.length;if(tt<99||tt>65603)throw new Error("invalid data length: "+tt);const nt=a[0];if(nt!==2)throw new Error("unknown encryption version "+nt);return{nonce:a.subarray(1,33),ciphertext:a.subarray(33,-32),mac:a.subarray(-32)}}function encrypt2(e,s,a=randomBytes(32)){const{chacha_key:tt,chacha_nonce:nt,hmac_key:ot}=getMessageKeys(s,a),st=pad(e),ft=chacha20(tt,nt,st),ht=hmacAad(ot,ft,a);return base64.encode(concatBytes(new Uint8Array([2]),a,ft,ht))}function decrypt2(e,s){const{nonce:a,ciphertext:tt,mac:nt}=decodePayload(e),{chacha_key:ot,chacha_nonce:st,hmac_key:ft}=getMessageKeys(s,a),ht=hmacAad(ft,tt,a);if(!equalBytes(ht,nt))throw new Error("invalid MAC");const gt=chacha20(ot,st,tt);return unpad(gt)}var v2={utils:{getConversationKey,calcPaddedLen},encrypt:encrypt2,decrypt:decrypt2},nip47_exports={};__export(nip47_exports,{makeNwcRequestEvent:()=>makeNwcRequestEvent,parseConnectionString:()=>parseConnectionString});function parseConnectionString(e){const{pathname:s,searchParams:a}=new URL(e),tt=s,nt=a.get("relay"),ot=a.get("secret");if(!tt||!nt||!ot)throw new Error("invalid connection string");return{pubkey:tt,relay:nt,secret:ot}}async function makeNwcRequestEvent(e,s,a){const nt=await encrypt$1(s,e,JSON.stringify({method:"pay_invoice",params:{invoice:a}})),ot={kind:NWCWalletRequest,created_at:Math.round(Date.now()/1e3),content:nt,tags:[["p",e]]};return finalizeEvent(ot,s)}var nip57_exports={};__export(nip57_exports,{getZapEndpoint:()=>getZapEndpoint,makeZapReceipt:()=>makeZapReceipt,makeZapRequest:()=>makeZapRequest,useFetchImplementation:()=>useFetchImplementation4,validateZapRequest:()=>validateZapRequest});var _fetch4;try{_fetch4=fetch}catch{}function useFetchImplementation4(e){_fetch4=e}async function getZapEndpoint(e){try{let s="",{lud06:a,lud16:tt}=JSON.parse(e.content);if(a){let{words:st}=bech32$1.decode(a,1e3),ft=bech32$1.fromWords(st);s=utf8Decoder.decode(ft)}else if(tt){let[st,ft]=tt.split("@");s=new URL(`/.well-known/lnurlp/${st}`,`https://${ft}`).toString()}else return null;let ot=await(await _fetch4(s)).json();if(ot.allowsNostr&&ot.nostrPubkey)return ot.callback}catch{}return null}function makeZapRequest({profile:e,event:s,amount:a,relays:tt,comment:nt=""}){if(!a)throw new Error("amount not given");if(!e)throw new Error("profile not given");let ot={kind:9734,created_at:Math.round(Date.now()/1e3),content:nt,tags:[["p",e],["amount",a.toString()],["relays",...tt]]};return s&&ot.tags.push(["e",s]),ot}function validateZapRequest(e){let s;try{s=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!validateEvent(s))return"Zap request is not a valid Nostr event.";if(!verifyEvent(s))return"Invalid signature on zap request.";let a=s.tags.find(([ot,st])=>ot==="p"&&st);if(!a)return"Zap request doesn't have a 'p' tag.";if(!a[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let tt=s.tags.find(([ot,st])=>ot==="e"&&st);return tt&&!tt[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":s.tags.find(([ot,st])=>ot==="relays"&&st)?null:"Zap request doesn't have a 'relays' tag."}function makeZapReceipt({zapRequest:e,preimage:s,bolt11:a,paidAt:tt}){let nt=JSON.parse(e),ot=nt.tags.filter(([ft])=>ft==="e"||ft==="p"||ft==="a"),st={kind:9735,created_at:Math.round(tt.getTime()/1e3),content:"",tags:[...ot,["P",nt.pubkey],["bolt11",a],["description",e]]};return s&&st.tags.push(["preimage",s]),st}var nip98_exports={};__export(nip98_exports,{getToken:()=>getToken,hashPayload:()=>hashPayload,unpackEventFromToken:()=>unpackEventFromToken,validateEvent:()=>validateEvent2,validateEventKind:()=>validateEventKind,validateEventMethodTag:()=>validateEventMethodTag,validateEventPayloadTag:()=>validateEventPayloadTag,validateEventTimestamp:()=>validateEventTimestamp,validateEventUrlTag:()=>validateEventUrlTag,validateToken:()=>validateToken});var _authorizationScheme="Nostr ";async function getToken(e,s,a,tt=!1,nt){const ot={kind:HTTPAuth,tags:[["u",e],["method",s]],created_at:Math.round(new Date().getTime()/1e3),content:""};nt&&ot.tags.push(["payload",hashPayload(nt)]);const st=await a(ot);return(tt?_authorizationScheme:"")+base64.encode(utf8Encoder.encode(JSON.stringify(st)))}async function validateToken(e,s,a){const tt=await unpackEventFromToken(e).catch(ot=>{throw ot});return await validateEvent2(tt,s,a).catch(ot=>{throw ot})}async function unpackEventFromToken(e){if(!e)throw new Error("Missing token");e=e.replace(_authorizationScheme,"");const s=utf8Decoder.decode(base64.decode(e));if(!s||s.length===0||!s.startsWith("{"))throw new Error("Invalid token");return JSON.parse(s)}function validateEventTimestamp(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function validateEventKind(e){return e.kind===HTTPAuth}function validateEventUrlTag(e,s){const a=e.tags.find(tt=>tt[0]==="u");return a?a.length>0&&a[1]===s:!1}function validateEventMethodTag(e,s){const a=e.tags.find(tt=>tt[0]==="method");return a?a.length>0&&a[1].toLowerCase()===s.toLowerCase():!1}function hashPayload(e){const s=sha256(utf8Encoder.encode(JSON.stringify(e)));return bytesToHex(s)}function validateEventPayloadTag(e,s){const a=e.tags.find(nt=>nt[0]==="payload");if(!a)return!1;const tt=hashPayload(s);return a.length>0&&a[1]===tt}async function validateEvent2(e,s,a,tt){if(!verifyEvent(e))throw new Error("Invalid nostr event, signature invalid");if(!validateEventKind(e))throw new Error("Invalid nostr event, kind invalid");if(!validateEventTimestamp(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!validateEventUrlTag(e,s))throw new Error("Invalid nostr event, url tag invalid");if(!validateEventMethodTag(e,a))throw new Error("Invalid nostr event, method tag invalid");if(tt&&typeof tt=="object"&&Object.keys(tt).length>0&&!validateEventPayloadTag(e,tt))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var lib$1={},types={};Object.defineProperty(types,"__esModule",{value:!0});var ee={},taskCollection$1={},taskCollection={},bakeCollection={};(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.bakeCollectionVariadic=exports.bakeCollectionAwait=exports.bakeCollection=exports.BAKED_EMPTY_FUNC=void 0,exports.BAKED_EMPTY_FUNC=function(){};var FORLOOP_FALLBACK=1500;function generateArgsDefCode(e){var s="";if(e===0)return s;for(var a=0;a<e-1;++a)s+="arg"+String(a)+", ";return s+="arg"+String(e-1),s}function generateBodyPartsCode(e,s){for(var a="",tt="",nt=0;nt<s;++nt)a+="var f".concat(nt," = collection[").concat(nt,`];
`),tt+="f".concat(nt,"(").concat(e,`)
`);return{funcDefCode:a,funcCallCode:tt}}function generateBodyPartsVariadicCode(e){for(var s="",a="",tt=0;tt<e;++tt)s+="var f".concat(tt," = collection[").concat(tt,`];
`),a+="f".concat(tt,`.apply(undefined, arguments)
`);return{funcDefCode:s,funcCallCode:a}}function bakeCollection(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function(`).concat(argsDefCode,`) {
                `).concat(funcCallCode,`
            });
        })`)}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);collection.length%10===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 10) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                        collection[i+3](`).concat(argsDefCode,`);
                        collection[i+4](`).concat(argsDefCode,`);
                        collection[i+5](`).concat(argsDefCode,`);
                        collection[i+6](`).concat(argsDefCode,`);
                        collection[i+7](`).concat(argsDefCode,`);
                        collection[i+8](`).concat(argsDefCode,`);
                        collection[i+9](`).concat(argsDefCode,`);
                    }
                });
            })`):collection.length%4===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 4) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                        collection[i+3](`).concat(argsDefCode,`);
                    }
                });
            })`):collection.length%3===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 3) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                    }
                });
            })`):funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; ++i) {
                        collection[i](`).concat(argsDefCode,`);
                    }
                });
            })`)}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollection=bakeCollection;function bakeCollectionAwait(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function(`).concat(argsDefCode,`) {
                return Promise.all([ `).concat(funcCallCode,` ]);
            });
        })`)}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=`(function(collection) {
            return (function(`.concat(argsDefCode,`) {
                var promises = Array(collection.length);
                for (var i = 0; i < collection.length; ++i) {
                    promises[i] = collection[i](`).concat(argsDefCode,`);
                }
                return Promise.all(promises);
            });
        })`)}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionAwait=bakeCollectionAwait;function bakeCollectionVariadic(collection){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var _a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function() {
                `).concat(funcCallCode,`
            });
        })`)}else funcFactoryCode=`(function(collection) {
            return (function() {
                for (var i = 0; i < collection.length; ++i) {
                    collection[i].apply(undefined, arguments);
                }
            });
        })`;{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionVariadic=bakeCollectionVariadic})(bakeCollection);var __spreadArray$1=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,s,a){if(a||arguments.length===2)for(var tt=0,nt=s.length,ot;tt<nt;tt++)(ot||!(tt in s))&&(ot||(ot=Array.prototype.slice.call(s,0,tt)),ot[tt]=s[tt]);return e.concat(ot||Array.prototype.slice.call(s))};Object.defineProperty(taskCollection,"__esModule",{value:!0});taskCollection.TaskCollection=taskCollection._fast_remove_single=void 0;var bake_collection_1=bakeCollection;function push_norebuild(e,s){var a=this.length;if(a>1)if(s){var tt;(tt=this._tasks).push.apply(tt,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(s){if(a===1){var nt=Array(1+arguments.length);nt.push(nt),nt.push.apply(nt,arguments),this._tasks=nt}else{var nt=Array(arguments.length);nt.push.apply(nt,arguments),this._tasks=nt}this.length+=arguments.length}else a===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++}function push_rebuild(e,s){var a=this.length;if(a>1)if(s){var tt;(tt=this._tasks).push.apply(tt,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(s){if(a===1){var nt=Array(1+arguments.length);nt.push(nt),nt.push.apply(nt,arguments),this._tasks=nt}else{var nt=Array(arguments.length);nt.push.apply(nt,arguments),this._tasks=nt}this.length+=arguments.length}else a===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function _fast_remove_single(e,s){s!==-1&&(s===0?e.shift():s===e.length-1?e.length=e.length-1:e.splice(s,1))}taskCollection._fast_remove_single=_fast_remove_single;function removeLast_norebuild(e){this.length!==0&&(this.length===1?this._tasks===e&&(this.length=0):(_fast_remove_single(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function removeLast_rebuild(e){if(this.length!==0){if(this.length===1)if(this._tasks===e&&(this.length=0),this.firstEmitBuildStrategy){this.call=bake_collection_1.BAKED_EMPTY_FUNC;return}else{this.rebuild();return}else _fast_remove_single(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}}function insert_norebuild(e){for(var s,a=[],tt=1;tt<arguments.length;tt++)a[tt-1]=arguments[tt];this.length===0?(this._tasks=a,this.length=1):this.length===1?(a.unshift(this._tasks),this._tasks=a,this.length=this._tasks.length):((s=this._tasks).splice.apply(s,__spreadArray$1([e,0],a,!1)),this.length=this._tasks.length)}function insert_rebuild(e){for(var s,a=[],tt=1;tt<arguments.length;tt++)a[tt-1]=arguments[tt];this.length===0?(this._tasks=a,this.length=1):this.length===1?(a.unshift(this._tasks),this._tasks=a,this.length=this._tasks.length):((s=this._tasks).splice.apply(s,__spreadArray$1([e,0],a,!1)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function rebuild_noawait(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=(0,bake_collection_1.bakeCollection)(this._tasks,this.argsNum)}function rebuild_await(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=(0,bake_collection_1.bakeCollectionAwait)(this._tasks,this.argsNum)}function rebuild_on_first_call(){this.rebuild(),this.call.apply(void 0,arguments)}var TaskCollection=function(){function e(s,a,tt,nt){a===void 0&&(a=!0),tt===void 0&&(tt=null),nt===void 0&&(nt=!1),this.awaitTasks=nt,this.call=bake_collection_1.BAKED_EMPTY_FUNC,this.argsNum=s,this.firstEmitBuildStrategy=!0,nt?this.rebuild=rebuild_await.bind(this):this.rebuild=rebuild_noawait.bind(this),this.setAutoRebuild(a),tt?typeof tt=="function"?(this._tasks=tt,this.length=1):(this._tasks=tt,this.length=tt.length):(this._tasks=null,this.length=0),a&&this.rebuild()}return e}();taskCollection.TaskCollection=TaskCollection;function fastClear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function clear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function growArgsNum(e){this.argsNum<e&&(this.argsNum=e,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}function setAutoRebuild(e){e?(this.push=push_rebuild.bind(this),this.insert=insert_rebuild.bind(this),this.removeLast=removeLast_rebuild.bind(this)):(this.push=push_norebuild.bind(this),this.insert=insert_norebuild.bind(this),this.removeLast=removeLast_norebuild.bind(this))}function tasksAsArray(){return this.length===0?[]:this.length===1?[this._tasks]:this._tasks}function setTasks(e){e.length===0?(this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC):e.length===1?(this.length=1,this.call=e[0],this._tasks=e[0]):(this.length=e.length,this._tasks=e,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}TaskCollection.prototype.fastClear=fastClear;TaskCollection.prototype.clear=clear;TaskCollection.prototype.growArgsNum=growArgsNum;TaskCollection.prototype.setAutoRebuild=setAutoRebuild;TaskCollection.prototype.tasksAsArray=tasksAsArray;TaskCollection.prototype.setTasks=setTasks;(function(e){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tt,nt,ot,st){st===void 0&&(st=ot);var ft=Object.getOwnPropertyDescriptor(nt,ot);(!ft||("get"in ft?!nt.__esModule:ft.writable||ft.configurable))&&(ft={enumerable:!0,get:function(){return nt[ot]}}),Object.defineProperty(tt,st,ft)}:function(tt,nt,ot,st){st===void 0&&(st=ot),tt[st]=nt[ot]}),a=commonjsGlobal&&commonjsGlobal.__exportStar||function(tt,nt){for(var ot in tt)ot!=="default"&&!Object.prototype.hasOwnProperty.call(nt,ot)&&s(nt,tt,ot)};Object.defineProperty(e,"__esModule",{value:!0}),a(taskCollection,e)})(taskCollection$1);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.nullObj=void 0;function nullObj(){var e={};return e.__proto__=null,e.prototype=null,e}utils.nullObj=nullObj;var __spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,s,a){if(a||arguments.length===2)for(var tt=0,nt=s.length,ot;tt<nt;tt++)(ot||!(tt in s))&&(ot||(ot=Array.prototype.slice.call(s,0,tt)),ot[tt]=s[tt]);return e.concat(ot||Array.prototype.slice.call(s))};Object.defineProperty(ee,"__esModule",{value:!0});ee.EventEmitter=void 0;var task_collection_1=taskCollection$1,utils_1=utils;function emit(e,s,a,tt,nt,ot){var st=this.events[e];return st?st.length===0?!1:(st.argsNum<6?st.call(s,a,tt,nt,ot):st.call.apply(void 0,arguments),!0):!1}function emitHasOnce(e,s,a,tt,nt,ot){var st=this.events[e];if(st){if(st.length===0)return!1;st.argsNum<6?st.call(s,a,tt,nt,ot):st.call.apply(void 0,arguments)}var ft=this.onceEvents[e];if(ft){if(typeof ft=="function")this.onceEvents[e]=void 0,arguments.length<6?ft(s,a,tt,nt,ot):ft.apply(void 0,arguments);else{var ht=ft;if(this.onceEvents[e]=void 0,arguments.length<6)for(var gt=0;gt<ht.length;++gt)ht[gt](s,a,tt,nt,ot);else for(var gt=0;gt<ht.length;++gt)ht[gt].apply(void 0,arguments)}return!0}return!!st}var EventEmitter=function(){function e(){this.events=(0,utils_1.nullObj)(),this.onceEvents=(0,utils_1.nullObj)(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!1,configurable:!0}),e}();ee.EventEmitter=EventEmitter;function once(e,s){switch(this.emit===emit&&(this.emit=emitHasOnce),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=s,typeof e=="symbol"&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],s];break;case"object":this.onceEvents[e].push(s)}return this}function addListener(e,s,a){if(a===void 0&&(a=s.length),typeof s!="function")throw new TypeError("The listener must be a function");var tt=this.events[e];return tt?(tt.push(s),tt.growArgsNum(a),this.maxListeners!==1/0&&this.maxListeners<=tt.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(this.events[e]=new task_collection_1.TaskCollection(a,!0,s,!1),typeof e=="symbol"&&this._symbolKeys.add(e)),this}function removeListener(e,s){var a=this.events[e];a&&a.removeLast(s);var tt=this.onceEvents[e];return tt&&(typeof tt=="function"?this.onceEvents[e]=void 0:typeof tt=="object"&&(tt.length===1&&tt[0]===s?this.onceEvents[e]=void 0:(0,task_collection_1._fast_remove_single)(tt,tt.lastIndexOf(s)))),this}function addListenerBound(e,s,a,tt){a===void 0&&(a=this),tt===void 0&&(tt=s.length),this.boundFuncs||(this.boundFuncs=new Map);var nt=s.bind(a);return this.boundFuncs.set(s,nt),this.addListener(e,nt,tt)}function removeListenerBound(e,s){var a,tt,nt=(a=this.boundFuncs)===null||a===void 0?void 0:a.get(s);return(tt=this.boundFuncs)===null||tt===void 0||tt.delete(s),this.removeListener(e,nt)}function hasListeners(e){return this.events[e]&&!!this.events[e].length}function prependListener(e,s,a){if(a===void 0&&(a=s.length),typeof s!="function")throw new TypeError("The listener must be a function");var tt=this.events[e];return!tt||!(tt instanceof task_collection_1.TaskCollection)?(tt=this.events[e]=new task_collection_1.TaskCollection(a,!0,s,!1),typeof e=="symbol"&&this._symbolKeys.add(e)):(tt.insert(0,s),tt.growArgsNum(a),this.maxListeners!==1/0&&this.maxListeners<=tt.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))),this}function prependOnceListener(e,s){this.emit===emit&&(this.emit=emitHasOnce);var a=this.onceEvents[e];return a?typeof a!="object"?(this.onceEvents[e]=[s,a],typeof e=="symbol"&&this._symbolKeys.add(e)):(a.unshift(s),this.maxListeners!==1/0&&this.maxListeners<=a.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" once event!'))):(this.onceEvents[e]=[s],typeof e=="symbol"&&this._symbolKeys.add(e)),this}function removeAllListeners(e){return e===void 0?(this.events=(0,utils_1.nullObj)(),this.onceEvents=(0,utils_1.nullObj)(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,typeof e=="symbol"&&this._symbolKeys.delete(e)),this}function setMaxListeners(e){return this.maxListeners=e,this}function getMaxListeners(){return this.maxListeners}function listeners(e){return this.emit===emit?this.events[e]?this.events[e].tasksAsArray().slice():[]:this.events[e]&&this.onceEvents[e]?__spreadArray(__spreadArray([],this.events[e].tasksAsArray(),!0),typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e],!0):this.events[e]?this.events[e].tasksAsArray():this.onceEvents[e]?typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e]:[]}function eventNames(){var e=this;if(this.emit===emit){var s=Object.keys(this.events);return __spreadArray(__spreadArray([],s,!0),Array.from(this._symbolKeys),!0).filter(function(tt){return tt in e.events&&e.events[tt]&&e.events[tt].length})}else{var s=Object.keys(this.events).filter(function(nt){return e.events[nt]&&e.events[nt].length}),a=Object.keys(this.onceEvents).filter(function(nt){return e.onceEvents[nt]&&e.onceEvents[nt].length});return __spreadArray(__spreadArray(__spreadArray([],s,!0),a,!0),Array.from(this._symbolKeys).filter(function(nt){return nt in e.events&&e.events[nt]&&e.events[nt].length||nt in e.onceEvents&&e.onceEvents[nt]&&e.onceEvents[nt].length}),!0)}}function listenerCount(e){return this.emit===emit?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}EventEmitter.prototype.emit=emit;EventEmitter.prototype.on=addListener;EventEmitter.prototype.once=once;EventEmitter.prototype.addListener=addListener;EventEmitter.prototype.removeListener=removeListener;EventEmitter.prototype.addListenerBound=addListenerBound;EventEmitter.prototype.removeListenerBound=removeListenerBound;EventEmitter.prototype.hasListeners=hasListeners;EventEmitter.prototype.prependListener=prependListener;EventEmitter.prototype.prependOnceListener=prependOnceListener;EventEmitter.prototype.off=removeListener;EventEmitter.prototype.removeAllListeners=removeAllListeners;EventEmitter.prototype.setMaxListeners=setMaxListeners;EventEmitter.prototype.getMaxListeners=getMaxListeners;EventEmitter.prototype.listeners=listeners;EventEmitter.prototype.eventNames=eventNames;EventEmitter.prototype.listenerCount=listenerCount;(function(e){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tt,nt,ot,st){st===void 0&&(st=ot);var ft=Object.getOwnPropertyDescriptor(nt,ot);(!ft||("get"in ft?!nt.__esModule:ft.writable||ft.configurable))&&(ft={enumerable:!0,get:function(){return nt[ot]}}),Object.defineProperty(tt,st,ft)}:function(tt,nt,ot,st){st===void 0&&(st=ot),tt[st]=nt[ot]}),a=commonjsGlobal&&commonjsGlobal.__exportStar||function(tt,nt){for(var ot in tt)ot!=="default"&&!Object.prototype.hasOwnProperty.call(nt,ot)&&s(nt,tt,ot)};Object.defineProperty(e,"__esModule",{value:!0}),a(types,e),a(ee,e)})(lib$1);var browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,s=e*60,a=s*60,tt=a*24,nt=tt*7,ot=tt*365.25;ms=function(mt,yt){yt=yt||{};var wt=typeof mt;if(wt==="string"&&mt.length>0)return st(mt);if(wt==="number"&&isFinite(mt))return yt.long?ht(mt):ft(mt);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(mt))};function st(mt){if(mt=String(mt),!(mt.length>100)){var yt=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(mt);if(yt){var wt=parseFloat(yt[1]),vt=(yt[2]||"ms").toLowerCase();switch(vt){case"years":case"year":case"yrs":case"yr":case"y":return wt*ot;case"weeks":case"week":case"w":return wt*nt;case"days":case"day":case"d":return wt*tt;case"hours":case"hour":case"hrs":case"hr":case"h":return wt*a;case"minutes":case"minute":case"mins":case"min":case"m":return wt*s;case"seconds":case"second":case"secs":case"sec":case"s":return wt*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return wt;default:return}}}}function ft(mt){var yt=Math.abs(mt);return yt>=tt?Math.round(mt/tt)+"d":yt>=a?Math.round(mt/a)+"h":yt>=s?Math.round(mt/s)+"m":yt>=e?Math.round(mt/e)+"s":mt+"ms"}function ht(mt){var yt=Math.abs(mt);return yt>=tt?gt(mt,yt,tt,"day"):yt>=a?gt(mt,yt,a,"hour"):yt>=s?gt(mt,yt,s,"minute"):yt>=e?gt(mt,yt,e,"second"):mt+" ms"}function gt(mt,yt,wt,vt){var xt=yt>=wt*1.5;return Math.round(mt/wt)+" "+vt+(xt?"s":"")}return ms}function setup(e){a.debug=a,a.default=a,a.coerce=ht,a.disable=ot,a.enable=nt,a.enabled=st,a.humanize=requireMs(),a.destroy=gt,Object.keys(e).forEach(mt=>{a[mt]=e[mt]}),a.names=[],a.skips=[],a.formatters={};function s(mt){let yt=0;for(let wt=0;wt<mt.length;wt++)yt=(yt<<5)-yt+mt.charCodeAt(wt),yt|=0;return a.colors[Math.abs(yt)%a.colors.length]}a.selectColor=s;function a(mt){let yt,wt=null,vt,xt;function Et(...kt){if(!Et.enabled)return;const bt=Et,$t=Number(new Date),_t=$t-(yt||$t);bt.diff=_t,bt.prev=yt,bt.curr=$t,yt=$t,kt[0]=a.coerce(kt[0]),typeof kt[0]!="string"&&kt.unshift("%O");let St=0;kt[0]=kt[0].replace(/%([a-zA-Z%])/g,(At,Tt)=>{if(At==="%%")return"%";St++;const Bt=a.formatters[Tt];if(typeof Bt=="function"){const zt=kt[St];At=Bt.call(bt,zt),kt.splice(St,1),St--}return At}),a.formatArgs.call(bt,kt),(bt.log||a.log).apply(bt,kt)}return Et.namespace=mt,Et.useColors=a.useColors(),Et.color=a.selectColor(mt),Et.extend=tt,Et.destroy=a.destroy,Object.defineProperty(Et,"enabled",{enumerable:!0,configurable:!1,get:()=>wt!==null?wt:(vt!==a.namespaces&&(vt=a.namespaces,xt=a.enabled(mt)),xt),set:kt=>{wt=kt}}),typeof a.init=="function"&&a.init(Et),Et}function tt(mt,yt){const wt=a(this.namespace+(typeof yt>"u"?":":yt)+mt);return wt.log=this.log,wt}function nt(mt){a.save(mt),a.namespaces=mt,a.names=[],a.skips=[];let yt;const wt=(typeof mt=="string"?mt:"").split(/[\s,]+/),vt=wt.length;for(yt=0;yt<vt;yt++)wt[yt]&&(mt=wt[yt].replace(/\*/g,".*?"),mt[0]==="-"?a.skips.push(new RegExp("^"+mt.slice(1)+"$")):a.names.push(new RegExp("^"+mt+"$")))}function ot(){const mt=[...a.names.map(ft),...a.skips.map(ft).map(yt=>"-"+yt)].join(",");return a.enable(""),mt}function st(mt){if(mt[mt.length-1]==="*")return!0;let yt,wt;for(yt=0,wt=a.skips.length;yt<wt;yt++)if(a.skips[yt].test(mt))return!1;for(yt=0,wt=a.names.length;yt<wt;yt++)if(a.names[yt].test(mt))return!0;return!1}function ft(mt){return mt.toString().substring(2,mt.toString().length-2).replace(/\.\*\?$/,"*")}function ht(mt){return mt instanceof Error?mt.stack||mt.message:mt}function gt(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}var common=setup;(function(e,s){var a={};s.formatArgs=nt,s.save=ot,s.load=st,s.useColors=tt,s.storage=ft(),s.destroy=(()=>{let gt=!1;return()=>{gt||(gt=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function tt(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let gt;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(gt=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(gt[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function nt(gt){if(gt[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+gt[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const mt="color: "+this.color;gt.splice(1,0,mt,"color: inherit");let yt=0,wt=0;gt[0].replace(/%[a-zA-Z%]/g,vt=>{vt!=="%%"&&(yt++,vt==="%c"&&(wt=yt))}),gt.splice(wt,0,mt)}s.log=console.debug||console.log||(()=>{});function ot(gt){try{gt?s.storage.setItem("debug",gt):s.storage.removeItem("debug")}catch{}}function st(){let gt;try{gt=s.storage.getItem("debug")}catch{}return!gt&&typeof process<"u"&&"env"in process&&(gt=a.DEBUG),gt}function ft(){try{return localStorage}catch{}}e.exports=common(s);const{formatters:ht}=e.exports;ht.j=function(gt){try{return JSON.stringify(gt)}catch(mt){return"[UnexpectedJSONParseError]: "+mt.message}}})(browser,browser.exports);var browserExports=browser.exports;const debug7=getDefaultExportFromCjs(browserExports);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(e,s){const a=e%s;return a>=_0n$3?a:s+a}function pow(e,s,a){if(a<=_0n$3||s<_0n$3)throw new Error("Expected power/modulo > 0");if(a===_1n$3)return _0n$3;let tt=_1n$3;for(;s>_0n$3;)s&_1n$3&&(tt=tt*e%a),e=e*e%a,s>>=_1n$3;return tt}function pow2(e,s,a){let tt=e;for(;s-- >_0n$3;)tt*=tt,tt%=a;return tt}function invert(e,s){if(e===_0n$3||s<=_0n$3)throw new Error(`invert: expected positive integers, got n=${e} mod=${s}`);let a=mod(e,s),tt=s,nt=_0n$3,ot=_1n$3;for(;a!==_0n$3;){const ft=tt/a,ht=tt%a,gt=nt-ot*ft;tt=a,a=ht,nt=ot,ot=gt}if(tt!==_1n$3)throw new Error("invert: does not exist");return mod(nt,s)}function tonelliShanks(e){const s=(e-_1n$3)/_2n$1;let a,tt,nt;for(a=e-_1n$3,tt=0;a%_2n$1===_0n$3;a/=_2n$1,tt++);for(nt=_2n$1;nt<e&&pow(nt,s,e)!==e-_1n$3;nt++);if(tt===1){const st=(e+_1n$3)/_4n;return function(ht,gt){const mt=ht.pow(gt,st);if(!ht.eql(ht.sqr(mt),gt))throw new Error("Cannot find square root");return mt}}const ot=(a+_1n$3)/_2n$1;return function(ft,ht){if(ft.pow(ht,s)===ft.neg(ft.ONE))throw new Error("Cannot find square root");let gt=tt,mt=ft.pow(ft.mul(ft.ONE,nt),a),yt=ft.pow(ht,ot),wt=ft.pow(ht,a);for(;!ft.eql(wt,ft.ONE);){if(ft.eql(wt,ft.ZERO))return ft.ZERO;let vt=1;for(let Et=ft.sqr(wt);vt<gt&&!ft.eql(Et,ft.ONE);vt++)Et=ft.sqr(Et);const xt=ft.pow(mt,_1n$3<<BigInt(gt-vt-1));mt=ft.sqr(xt),yt=ft.mul(yt,xt),wt=ft.mul(wt,mt),gt=vt}return yt}}function FpSqrt(e){if(e%_4n===_3n$1){const s=(e+_1n$3)/_4n;return function(tt,nt){const ot=tt.pow(nt,s);if(!tt.eql(tt.sqr(ot),nt))throw new Error("Cannot find square root");return ot}}if(e%_8n===_5n){const s=(e-_5n)/_8n;return function(tt,nt){const ot=tt.mul(nt,_2n$1),st=tt.pow(ot,s),ft=tt.mul(nt,st),ht=tt.mul(tt.mul(ft,_2n$1),st),gt=tt.mul(ft,tt.sub(ht,tt.ONE));if(!tt.eql(tt.sqr(gt),nt))throw new Error("Cannot find square root");return gt}}return tonelliShanks(e)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(e){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},a=FIELD_FIELDS.reduce((tt,nt)=>(tt[nt]="function",tt),s);return validateObject$1(e,a)}function FpPow(e,s,a){if(a<_0n$3)throw new Error("Expected power > 0");if(a===_0n$3)return e.ONE;if(a===_1n$3)return s;let tt=e.ONE,nt=s;for(;a>_0n$3;)a&_1n$3&&(tt=e.mul(tt,nt)),nt=e.sqr(nt),a>>=_1n$3;return tt}function FpInvertBatch(e,s){const a=new Array(s.length),tt=s.reduce((ot,st,ft)=>e.is0(st)?ot:(a[ft]=ot,e.mul(ot,st)),e.ONE),nt=e.inv(tt);return s.reduceRight((ot,st,ft)=>e.is0(st)?ot:(a[ft]=e.mul(ot,a[ft]),e.mul(ot,st)),nt),a}function nLength(e,s){const a=s!==void 0?s:e.toString(2).length,tt=Math.ceil(a/8);return{nBitLength:a,nByteLength:tt}}function Field(e,s,a=!1,tt={}){if(e<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:nt,nByteLength:ot}=nLength(e,s);if(ot>2048)throw new Error("Field lengths over 2048 bytes are not supported");const st=FpSqrt(e),ft=Object.freeze({ORDER:e,BITS:nt,BYTES:ot,MASK:bitMask$1(nt),ZERO:_0n$3,ONE:_1n$3,create:ht=>mod(ht,e),isValid:ht=>{if(typeof ht!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ht}`);return _0n$3<=ht&&ht<e},is0:ht=>ht===_0n$3,isOdd:ht=>(ht&_1n$3)===_1n$3,neg:ht=>mod(-ht,e),eql:(ht,gt)=>ht===gt,sqr:ht=>mod(ht*ht,e),add:(ht,gt)=>mod(ht+gt,e),sub:(ht,gt)=>mod(ht-gt,e),mul:(ht,gt)=>mod(ht*gt,e),pow:(ht,gt)=>FpPow(ft,ht,gt),div:(ht,gt)=>mod(ht*invert(gt,e),e),sqrN:ht=>ht*ht,addN:(ht,gt)=>ht+gt,subN:(ht,gt)=>ht-gt,mulN:(ht,gt)=>ht*gt,inv:ht=>invert(ht,e),sqrt:tt.sqrt||(ht=>st(ft,ht)),invertBatch:ht=>FpInvertBatch(ft,ht),cmov:(ht,gt,mt)=>mt?gt:ht,toBytes:ht=>a?numberToBytesLE$1(ht,ot):numberToBytesBE$1(ht,ot),fromBytes:ht=>{if(ht.length!==ot)throw new Error(`Fp.fromBytes: expected ${ot}, got ${ht.length}`);return a?bytesToNumberLE$1(ht):bytesToNumberBE$1(ht)}});return Object.freeze(ft)}function getFieldBytesLength(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const s=e.toString(2).length;return Math.ceil(s/8)}function getMinHashLength(e){const s=getFieldBytesLength(e);return s+Math.ceil(s/2)}function mapHashToField(e,s,a=!1){const tt=e.length,nt=getFieldBytesLength(s),ot=getMinHashLength(s);if(tt<16||tt<ot||tt>1024)throw new Error(`expected ${ot}-1024 bytes of input, got ${tt}`);const st=a?bytesToNumberBE$1(e):bytesToNumberLE$1(e),ft=mod(st,s-_1n$3)+_1n$3;return a?numberToBytesLE$1(ft,nt):numberToBytesBE$1(ft,nt)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1),pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function wNAF(e,s){const a=(ot,st)=>{const ft=st.negate();return ot?ft:st},tt=ot=>{if(!Number.isSafeInteger(ot)||ot<=0||ot>s)throw new Error(`Wrong window size=${ot}, should be [1..${s}]`)},nt=ot=>{tt(ot);const st=Math.ceil(s/ot)+1,ft=2**(ot-1);return{windows:st,windowSize:ft}};return{constTimeNegate:a,unsafeLadder(ot,st){let ft=e.ZERO,ht=ot;for(;st>_0n$2;)st&_1n$2&&(ft=ft.add(ht)),ht=ht.double(),st>>=_1n$2;return ft},precomputeWindow(ot,st){const{windows:ft,windowSize:ht}=nt(st),gt=[];let mt=ot,yt=mt;for(let wt=0;wt<ft;wt++){yt=mt,gt.push(yt);for(let vt=1;vt<ht;vt++)yt=yt.add(mt),gt.push(yt);mt=yt.double()}return gt},wNAF(ot,st,ft){const{windows:ht,windowSize:gt}=nt(ot);let mt=e.ZERO,yt=e.BASE;const wt=BigInt(2**ot-1),vt=2**ot,xt=BigInt(ot);for(let Et=0;Et<ht;Et++){const kt=Et*gt;let bt=Number(ft&wt);ft>>=xt,bt>gt&&(bt-=vt,ft+=_1n$2);const $t=kt,_t=kt+Math.abs(bt)-1,St=Et%2!==0,Pt=bt<0;bt===0?yt=yt.add(a(St,st[$t])):mt=mt.add(a(Pt,st[_t]))}return{p:mt,f:yt}},wNAFCached(ot,st,ft){const ht=pointWindowSizes.get(ot)||1;let gt=pointPrecomputes.get(ot);return gt||(gt=this.precomputeWindow(ot,ht),ht!==1&&pointPrecomputes.set(ot,ft(gt))),this.wNAF(ht,gt,st)},setWindowSize(ot,st){tt(st),pointWindowSizes.set(ot,st),pointPrecomputes.delete(ot)}}}function pippenger(e,s,a,tt){if(!Array.isArray(a)||!Array.isArray(tt)||tt.length!==a.length)throw new Error("arrays of points and scalars must have equal length");tt.forEach((mt,yt)=>{if(!s.isValid(mt))throw new Error(`wrong scalar at index ${yt}`)}),a.forEach((mt,yt)=>{if(!(mt instanceof e))throw new Error(`wrong point at index ${yt}`)});const nt=bitLen$1(BigInt(a.length)),ot=nt>12?nt-3:nt>4?nt-2:nt?2:1,st=(1<<ot)-1,ft=new Array(st+1).fill(e.ZERO),ht=Math.floor((s.BITS-1)/ot)*ot;let gt=e.ZERO;for(let mt=ht;mt>=0;mt-=ot){ft.fill(e.ZERO);for(let wt=0;wt<tt.length;wt++){const vt=tt[wt],xt=Number(vt>>BigInt(mt)&BigInt(st));ft[xt]=ft[xt].add(a[wt])}let yt=e.ZERO;for(let wt=ft.length-1,vt=e.ZERO;wt>0;wt--)vt=vt.add(ft[wt]),yt=yt.add(vt);if(gt=gt.add(yt),mt!==0)for(let wt=0;wt<ot;wt++)gt=gt.double()}return gt}function validateBasic(e){return validateField(e.Fp),validateObject$1(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(e){e.lowS!==void 0&&abool("lowS",e.lowS),e.prehash!==void 0&&abool("prehash",e.prehash)}function validatePointOpts(e){const s=validateBasic(e);validateObject$1(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:a,Fp:tt,a:nt}=s;if(a){if(!tt.eql(nt,tt.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof a!="object"||typeof a.beta!="bigint"||typeof a.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$1,DER={Err:class extends Error{constructor(s=""){super(s)}},_tlv:{encode:(e,s)=>{const{Err:a}=DER;if(e<0||e>256)throw new a("tlv.encode: wrong tag");if(s.length&1)throw new a("tlv.encode: unpadded data");const tt=s.length/2,nt=numberToHexUnpadded$1(tt);if(nt.length/2&128)throw new a("tlv.encode: long form length too big");const ot=tt>127?numberToHexUnpadded$1(nt.length/2|128):"";return`${numberToHexUnpadded$1(e)}${ot}${nt}${s}`},decode(e,s){const{Err:a}=DER;let tt=0;if(e<0||e>256)throw new a("tlv.encode: wrong tag");if(s.length<2||s[tt++]!==e)throw new a("tlv.decode: wrong tlv");const nt=s[tt++],ot=!!(nt&128);let st=0;if(!ot)st=nt;else{const ht=nt&127;if(!ht)throw new a("tlv.decode(long): indefinite length not supported");if(ht>4)throw new a("tlv.decode(long): byte length is too big");const gt=s.subarray(tt,tt+ht);if(gt.length!==ht)throw new a("tlv.decode: length bytes not complete");if(gt[0]===0)throw new a("tlv.decode(long): zero leftmost byte");for(const mt of gt)st=st<<8|mt;if(tt+=ht,st<128)throw new a("tlv.decode(long): not minimal encoding")}const ft=s.subarray(tt,tt+st);if(ft.length!==st)throw new a("tlv.decode: wrong value length");return{v:ft,l:s.subarray(tt+st)}}},_int:{encode(e){const{Err:s}=DER;if(e<_0n$1)throw new s("integer: negative integers are not allowed");let a=numberToHexUnpadded$1(e);if(Number.parseInt(a[0],16)&8&&(a="00"+a),a.length&1)throw new s("unexpected assertion");return a},decode(e){const{Err:s}=DER;if(e[0]&128)throw new s("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new s("Invalid signature integer: unnecessary leading zero");return b2n(e)}},toSig(e){const{Err:s,_int:a,_tlv:tt}=DER,nt=typeof e=="string"?h2b(e):e;abytes(nt);const{v:ot,l:st}=tt.decode(48,nt);if(st.length)throw new s("Invalid signature: left bytes after parsing");const{v:ft,l:ht}=tt.decode(2,ot),{v:gt,l:mt}=tt.decode(2,ht);if(mt.length)throw new s("Invalid signature: left bytes after parsing");return{r:a.decode(ft),s:a.decode(gt)}},hexFromSig(e){const{_tlv:s,_int:a}=DER,tt=`${s.encode(2,a.encode(e.r))}${s.encode(2,a.encode(e.s))}`;return s.encode(48,tt)}},_0n$1=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(e){const s=validatePointOpts(e),{Fp:a}=s,tt=Field(s.n,s.nBitLength),nt=s.toBytes||((Et,kt,bt)=>{const $t=kt.toAffine();return concatBytes$3(Uint8Array.from([4]),a.toBytes($t.x),a.toBytes($t.y))}),ot=s.fromBytes||(Et=>{const kt=Et.subarray(1),bt=a.fromBytes(kt.subarray(0,a.BYTES)),$t=a.fromBytes(kt.subarray(a.BYTES,2*a.BYTES));return{x:bt,y:$t}});function st(Et){const{a:kt,b:bt}=s,$t=a.sqr(Et),_t=a.mul($t,Et);return a.add(a.add(_t,a.mul(Et,kt)),bt)}if(!a.eql(a.sqr(s.Gy),st(s.Gx)))throw new Error("bad generator point: equation left != right");function ft(Et){return inRange(Et,_1n$1,s.n)}function ht(Et){const{allowedPrivateKeyLengths:kt,nByteLength:bt,wrapPrivateKey:$t,n:_t}=s;if(kt&&typeof Et!="bigint"){if(isBytes$2(Et)&&(Et=bytesToHex$2(Et)),typeof Et!="string"||!kt.includes(Et.length))throw new Error("Invalid key");Et=Et.padStart(bt*2,"0")}let St;try{St=typeof Et=="bigint"?Et:bytesToNumberBE$1(ensureBytes$1("private key",Et,bt))}catch{throw new Error(`private key must be ${bt} bytes, hex or bigint, not ${typeof Et}`)}return $t&&(St=mod(St,_t)),aInRange("private key",St,_1n$1,_t),St}function gt(Et){if(!(Et instanceof wt))throw new Error("ProjectivePoint expected")}const mt=memoized((Et,kt)=>{const{px:bt,py:$t,pz:_t}=Et;if(a.eql(_t,a.ONE))return{x:bt,y:$t};const St=Et.is0();kt==null&&(kt=St?a.ONE:a.inv(_t));const Pt=a.mul(bt,kt),At=a.mul($t,kt),Tt=a.mul(_t,kt);if(St)return{x:a.ZERO,y:a.ZERO};if(!a.eql(Tt,a.ONE))throw new Error("invZ was invalid");return{x:Pt,y:At}}),yt=memoized(Et=>{if(Et.is0()){if(s.allowInfinityPoint&&!a.is0(Et.py))return;throw new Error("bad point: ZERO")}const{x:kt,y:bt}=Et.toAffine();if(!a.isValid(kt)||!a.isValid(bt))throw new Error("bad point: x or y not FE");const $t=a.sqr(bt),_t=st(kt);if(!a.eql($t,_t))throw new Error("bad point: equation left != right");if(!Et.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class wt{constructor(kt,bt,$t){if(this.px=kt,this.py=bt,this.pz=$t,kt==null||!a.isValid(kt))throw new Error("x required");if(bt==null||!a.isValid(bt))throw new Error("y required");if($t==null||!a.isValid($t))throw new Error("z required");Object.freeze(this)}static fromAffine(kt){const{x:bt,y:$t}=kt||{};if(!kt||!a.isValid(bt)||!a.isValid($t))throw new Error("invalid affine point");if(kt instanceof wt)throw new Error("projective point not allowed");const _t=St=>a.eql(St,a.ZERO);return _t(bt)&&_t($t)?wt.ZERO:new wt(bt,$t,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(kt){const bt=a.invertBatch(kt.map($t=>$t.pz));return kt.map(($t,_t)=>$t.toAffine(bt[_t])).map(wt.fromAffine)}static fromHex(kt){const bt=wt.fromAffine(ot(ensureBytes$1("pointHex",kt)));return bt.assertValidity(),bt}static fromPrivateKey(kt){return wt.BASE.multiply(ht(kt))}static msm(kt,bt){return pippenger(wt,tt,kt,bt)}_setWindowSize(kt){xt.setWindowSize(this,kt)}assertValidity(){yt(this)}hasEvenY(){const{y:kt}=this.toAffine();if(a.isOdd)return!a.isOdd(kt);throw new Error("Field doesn't support isOdd")}equals(kt){gt(kt);const{px:bt,py:$t,pz:_t}=this,{px:St,py:Pt,pz:At}=kt,Tt=a.eql(a.mul(bt,At),a.mul(St,_t)),Bt=a.eql(a.mul($t,At),a.mul(Pt,_t));return Tt&&Bt}negate(){return new wt(this.px,a.neg(this.py),this.pz)}double(){const{a:kt,b:bt}=s,$t=a.mul(bt,_3n),{px:_t,py:St,pz:Pt}=this;let At=a.ZERO,Tt=a.ZERO,Bt=a.ZERO,zt=a.mul(_t,_t),Dt=a.mul(St,St),Lt=a.mul(Pt,Pt),Ft=a.mul(_t,St);return Ft=a.add(Ft,Ft),Bt=a.mul(_t,Pt),Bt=a.add(Bt,Bt),At=a.mul(kt,Bt),Tt=a.mul($t,Lt),Tt=a.add(At,Tt),At=a.sub(Dt,Tt),Tt=a.add(Dt,Tt),Tt=a.mul(At,Tt),At=a.mul(Ft,At),Bt=a.mul($t,Bt),Lt=a.mul(kt,Lt),Ft=a.sub(zt,Lt),Ft=a.mul(kt,Ft),Ft=a.add(Ft,Bt),Bt=a.add(zt,zt),zt=a.add(Bt,zt),zt=a.add(zt,Lt),zt=a.mul(zt,Ft),Tt=a.add(Tt,zt),Lt=a.mul(St,Pt),Lt=a.add(Lt,Lt),zt=a.mul(Lt,Ft),At=a.sub(At,zt),Bt=a.mul(Lt,Dt),Bt=a.add(Bt,Bt),Bt=a.add(Bt,Bt),new wt(At,Tt,Bt)}add(kt){gt(kt);const{px:bt,py:$t,pz:_t}=this,{px:St,py:Pt,pz:At}=kt;let Tt=a.ZERO,Bt=a.ZERO,zt=a.ZERO;const Dt=s.a,Lt=a.mul(s.b,_3n);let Ft=a.mul(bt,St),Ut=a.mul($t,Pt),Mt=a.mul(_t,At),Ct=a.add(bt,$t),Rt=a.add(St,Pt);Ct=a.mul(Ct,Rt),Rt=a.add(Ft,Ut),Ct=a.sub(Ct,Rt),Rt=a.add(bt,_t);let jt=a.add(St,At);return Rt=a.mul(Rt,jt),jt=a.add(Ft,Mt),Rt=a.sub(Rt,jt),jt=a.add($t,_t),Tt=a.add(Pt,At),jt=a.mul(jt,Tt),Tt=a.add(Ut,Mt),jt=a.sub(jt,Tt),zt=a.mul(Dt,Rt),Tt=a.mul(Lt,Mt),zt=a.add(Tt,zt),Tt=a.sub(Ut,zt),zt=a.add(Ut,zt),Bt=a.mul(Tt,zt),Ut=a.add(Ft,Ft),Ut=a.add(Ut,Ft),Mt=a.mul(Dt,Mt),Rt=a.mul(Lt,Rt),Ut=a.add(Ut,Mt),Mt=a.sub(Ft,Mt),Mt=a.mul(Dt,Mt),Rt=a.add(Rt,Mt),Ft=a.mul(Ut,Rt),Bt=a.add(Bt,Ft),Ft=a.mul(jt,Rt),Tt=a.mul(Ct,Tt),Tt=a.sub(Tt,Ft),Ft=a.mul(Ct,Ut),zt=a.mul(jt,zt),zt=a.add(zt,Ft),new wt(Tt,Bt,zt)}subtract(kt){return this.add(kt.negate())}is0(){return this.equals(wt.ZERO)}wNAF(kt){return xt.wNAFCached(this,kt,wt.normalizeZ)}multiplyUnsafe(kt){aInRange("scalar",kt,_0n$1,s.n);const bt=wt.ZERO;if(kt===_0n$1)return bt;if(kt===_1n$1)return this;const{endo:$t}=s;if(!$t)return xt.unsafeLadder(this,kt);let{k1neg:_t,k1:St,k2neg:Pt,k2:At}=$t.splitScalar(kt),Tt=bt,Bt=bt,zt=this;for(;St>_0n$1||At>_0n$1;)St&_1n$1&&(Tt=Tt.add(zt)),At&_1n$1&&(Bt=Bt.add(zt)),zt=zt.double(),St>>=_1n$1,At>>=_1n$1;return _t&&(Tt=Tt.negate()),Pt&&(Bt=Bt.negate()),Bt=new wt(a.mul(Bt.px,$t.beta),Bt.py,Bt.pz),Tt.add(Bt)}multiply(kt){const{endo:bt,n:$t}=s;aInRange("scalar",kt,_1n$1,$t);let _t,St;if(bt){const{k1neg:Pt,k1:At,k2neg:Tt,k2:Bt}=bt.splitScalar(kt);let{p:zt,f:Dt}=this.wNAF(At),{p:Lt,f:Ft}=this.wNAF(Bt);zt=xt.constTimeNegate(Pt,zt),Lt=xt.constTimeNegate(Tt,Lt),Lt=new wt(a.mul(Lt.px,bt.beta),Lt.py,Lt.pz),_t=zt.add(Lt),St=Dt.add(Ft)}else{const{p:Pt,f:At}=this.wNAF(kt);_t=Pt,St=At}return wt.normalizeZ([_t,St])[0]}multiplyAndAddUnsafe(kt,bt,$t){const _t=wt.BASE,St=(At,Tt)=>Tt===_0n$1||Tt===_1n$1||!At.equals(_t)?At.multiplyUnsafe(Tt):At.multiply(Tt),Pt=St(this,bt).add(St(kt,$t));return Pt.is0()?void 0:Pt}toAffine(kt){return mt(this,kt)}isTorsionFree(){const{h:kt,isTorsionFree:bt}=s;if(kt===_1n$1)return!0;if(bt)return bt(wt,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:kt,clearCofactor:bt}=s;return kt===_1n$1?this:bt?bt(wt,this):this.multiplyUnsafe(s.h)}toRawBytes(kt=!0){return abool("isCompressed",kt),this.assertValidity(),nt(wt,this,kt)}toHex(kt=!0){return abool("isCompressed",kt),bytesToHex$2(this.toRawBytes(kt))}}wt.BASE=new wt(s.Gx,s.Gy,a.ONE),wt.ZERO=new wt(a.ZERO,a.ONE,a.ZERO);const vt=s.nBitLength,xt=wNAF(wt,s.endo?Math.ceil(vt/2):vt);return{CURVE:s,ProjectivePoint:wt,normPrivateKeyToScalar:ht,weierstrassEquation:st,isWithinCurveOrder:ft}}function validateOpts(e){const s=validateBasic(e);return validateObject$1(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function weierstrass(e){const s=validateOpts(e),{Fp:a,n:tt}=s,nt=a.BYTES+1,ot=2*a.BYTES+1;function st(Mt){return mod(Mt,tt)}function ft(Mt){return invert(Mt,tt)}const{ProjectivePoint:ht,normPrivateKeyToScalar:gt,weierstrassEquation:mt,isWithinCurveOrder:yt}=weierstrassPoints({...s,toBytes(Mt,Ct,Rt){const jt=Ct.toAffine(),It=a.toBytes(jt.x),Ot=concatBytes$3;return abool("isCompressed",Rt),Rt?Ot(Uint8Array.from([Ct.hasEvenY()?2:3]),It):Ot(Uint8Array.from([4]),It,a.toBytes(jt.y))},fromBytes(Mt){const Ct=Mt.length,Rt=Mt[0],jt=Mt.subarray(1);if(Ct===nt&&(Rt===2||Rt===3)){const It=bytesToNumberBE$1(jt);if(!inRange(It,_1n$1,a.ORDER))throw new Error("Point is not on curve");const Ot=mt(It);let Ht;try{Ht=a.sqrt(Ot)}catch(Gt){const qt=Gt instanceof Error?": "+Gt.message:"";throw new Error("Point is not on curve"+qt)}const Vt=(Ht&_1n$1)===_1n$1;return(Rt&1)===1!==Vt&&(Ht=a.neg(Ht)),{x:It,y:Ht}}else if(Ct===ot&&Rt===4){const It=a.fromBytes(jt.subarray(0,a.BYTES)),Ot=a.fromBytes(jt.subarray(a.BYTES,2*a.BYTES));return{x:It,y:Ot}}else throw new Error(`Point of length ${Ct} was invalid. Expected ${nt} compressed bytes or ${ot} uncompressed bytes`)}}),wt=Mt=>bytesToHex$2(numberToBytesBE$1(Mt,s.nByteLength));function vt(Mt){const Ct=tt>>_1n$1;return Mt>Ct}function xt(Mt){return vt(Mt)?st(-Mt):Mt}const Et=(Mt,Ct,Rt)=>bytesToNumberBE$1(Mt.slice(Ct,Rt));class kt{constructor(Ct,Rt,jt){this.r=Ct,this.s=Rt,this.recovery=jt,this.assertValidity()}static fromCompact(Ct){const Rt=s.nByteLength;return Ct=ensureBytes$1("compactSignature",Ct,Rt*2),new kt(Et(Ct,0,Rt),Et(Ct,Rt,2*Rt))}static fromDER(Ct){const{r:Rt,s:jt}=DER.toSig(ensureBytes$1("DER",Ct));return new kt(Rt,jt)}assertValidity(){aInRange("r",this.r,_1n$1,tt),aInRange("s",this.s,_1n$1,tt)}addRecoveryBit(Ct){return new kt(this.r,this.s,Ct)}recoverPublicKey(Ct){const{r:Rt,s:jt,recovery:It}=this,Ot=At(ensureBytes$1("msgHash",Ct));if(It==null||![0,1,2,3].includes(It))throw new Error("recovery id invalid");const Ht=It===2||It===3?Rt+s.n:Rt;if(Ht>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const Vt=It&1?"03":"02",Wt=ht.fromHex(Vt+wt(Ht)),Gt=ft(Ht),qt=st(-Ot*Gt),Zt=st(jt*Gt),Yt=ht.BASE.multiplyAndAddUnsafe(Wt,qt,Zt);if(!Yt)throw new Error("point at infinify");return Yt.assertValidity(),Yt}hasHighS(){return vt(this.s)}normalizeS(){return this.hasHighS()?new kt(this.r,st(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$3(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$3(this.toCompactHex())}toCompactHex(){return wt(this.r)+wt(this.s)}}const bt={isValidPrivateKey(Mt){try{return gt(Mt),!0}catch{return!1}},normPrivateKeyToScalar:gt,randomPrivateKey:()=>{const Mt=getMinHashLength(s.n);return mapHashToField(s.randomBytes(Mt),s.n)},precompute(Mt=8,Ct=ht.BASE){return Ct._setWindowSize(Mt),Ct.multiply(BigInt(3)),Ct}};function $t(Mt,Ct=!0){return ht.fromPrivateKey(Mt).toRawBytes(Ct)}function _t(Mt){const Ct=isBytes$2(Mt),Rt=typeof Mt=="string",jt=(Ct||Rt)&&Mt.length;return Ct?jt===nt||jt===ot:Rt?jt===2*nt||jt===2*ot:Mt instanceof ht}function St(Mt,Ct,Rt=!0){if(_t(Mt))throw new Error("first arg must be private key");if(!_t(Ct))throw new Error("second arg must be public key");return ht.fromHex(Ct).multiply(gt(Mt)).toRawBytes(Rt)}const Pt=s.bits2int||function(Mt){const Ct=bytesToNumberBE$1(Mt),Rt=Mt.length*8-s.nBitLength;return Rt>0?Ct>>BigInt(Rt):Ct},At=s.bits2int_modN||function(Mt){return st(Pt(Mt))},Tt=bitMask$1(s.nBitLength);function Bt(Mt){return aInRange(`num < 2^${s.nBitLength}`,Mt,_0n$1,Tt),numberToBytesBE$1(Mt,s.nByteLength)}function zt(Mt,Ct,Rt=Dt){if(["recovered","canonical"].some(Jt=>Jt in Rt))throw new Error("sign() legacy options not supported");const{hash:jt,randomBytes:It}=s;let{lowS:Ot,prehash:Ht,extraEntropy:Vt}=Rt;Ot==null&&(Ot=!0),Mt=ensureBytes$1("msgHash",Mt),validateSigVerOpts(Rt),Ht&&(Mt=ensureBytes$1("prehashed msgHash",jt(Mt)));const Wt=At(Mt),Gt=gt(Ct),qt=[Bt(Gt),Bt(Wt)];if(Vt!=null&&Vt!==!1){const Jt=Vt===!0?It(a.BYTES):Vt;qt.push(ensureBytes$1("extraEntropy",Jt))}const Zt=concatBytes$3(...qt),Yt=Wt;function Xt(Jt){const Kt=Pt(Jt);if(!yt(Kt))return;const en=ft(Kt),tn=ht.BASE.multiply(Kt).toAffine(),Qt=st(tn.x);if(Qt===_0n$1)return;const nn=st(en*st(Yt+Qt*Gt));if(nn===_0n$1)return;let rn=(tn.x===Qt?0:2)|Number(tn.y&_1n$1),cn=nn;return Ot&&vt(nn)&&(cn=xt(nn),rn^=1),new kt(Qt,cn,rn)}return{seed:Zt,k2sig:Xt}}const Dt={lowS:s.lowS,prehash:!1},Lt={lowS:s.lowS,prehash:!1};function Ft(Mt,Ct,Rt=Dt){const{seed:jt,k2sig:It}=zt(Mt,Ct,Rt),Ot=s;return createHmacDrbg$1(Ot.hash.outputLen,Ot.nByteLength,Ot.hmac)(jt,It)}ht.BASE._setWindowSize(8);function Ut(Mt,Ct,Rt,jt=Lt){var tn;const It=Mt;if(Ct=ensureBytes$1("msgHash",Ct),Rt=ensureBytes$1("publicKey",Rt),"strict"in jt)throw new Error("options.strict was renamed to lowS");validateSigVerOpts(jt);const{lowS:Ot,prehash:Ht}=jt;let Vt,Wt;try{if(typeof It=="string"||isBytes$2(It))try{Vt=kt.fromDER(It)}catch(Qt){if(!(Qt instanceof DER.Err))throw Qt;Vt=kt.fromCompact(It)}else if(typeof It=="object"&&typeof It.r=="bigint"&&typeof It.s=="bigint"){const{r:Qt,s:nn}=It;Vt=new kt(Qt,nn)}else throw new Error("PARSE");Wt=ht.fromHex(Rt)}catch(Qt){if(Qt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ot&&Vt.hasHighS())return!1;Ht&&(Ct=s.hash(Ct));const{r:Gt,s:qt}=Vt,Zt=At(Ct),Yt=ft(qt),Xt=st(Zt*Yt),Jt=st(Gt*Yt),Kt=(tn=ht.BASE.multiplyAndAddUnsafe(Wt,Xt,Jt))==null?void 0:tn.toAffine();return Kt?st(Kt.x)===Gt:!1}return{CURVE:s,getPublicKey:$t,getSharedSecret:St,sign:Ft,verify:Ut,ProjectivePoint:ht,Signature:kt,utils:bt}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(e){return{hash:e,hmac:(s,...a)=>hmac$2(e,s,concatBytes$4(...a)),randomBytes:randomBytes$2}}function createCurve(e,s){const a=tt=>weierstrass({...e,...getHash(tt)});return Object.freeze({...a(s),create:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(e,s)=>(e+s/_2n)/s;function sqrtMod(e){const s=secp256k1P,a=BigInt(3),tt=BigInt(6),nt=BigInt(11),ot=BigInt(22),st=BigInt(23),ft=BigInt(44),ht=BigInt(88),gt=e*e*e%s,mt=gt*gt*e%s,yt=pow2(mt,a,s)*mt%s,wt=pow2(yt,a,s)*mt%s,vt=pow2(wt,_2n,s)*gt%s,xt=pow2(vt,nt,s)*vt%s,Et=pow2(xt,ot,s)*xt%s,kt=pow2(Et,ft,s)*Et%s,bt=pow2(kt,ht,s)*kt%s,$t=pow2(bt,ft,s)*Et%s,_t=pow2($t,a,s)*mt%s,St=pow2(_t,st,s)*xt%s,Pt=pow2(St,tt,s)*gt%s,At=pow2(Pt,_2n,s);if(!Fp.eql(Fp.sqr(At),e))throw new Error("Cannot find square root");return At}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const s=secp256k1N,a=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),tt=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),nt=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ot=a,st=BigInt("0x100000000000000000000000000000000"),ft=divNearest(ot*e,s),ht=divNearest(-tt*e,s);let gt=mod(e-ft*a-ht*nt,s),mt=mod(-ft*tt-ht*ot,s);const yt=gt>st,wt=mt>st;if(yt&&(gt=s-gt),wt&&(mt=s-mt),gt>st||mt>st)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:yt,k1:gt,k2neg:wt,k2:mt}}}},sha256$2),_0n=BigInt(0),TAGGED_HASH_PREFIXES={};function taggedHash(e,...s){let a=TAGGED_HASH_PREFIXES[e];if(a===void 0){const tt=sha256$2(Uint8Array.from(e,nt=>nt.charCodeAt(0)));a=concatBytes$3(tt,tt),TAGGED_HASH_PREFIXES[e]=a}return sha256$2(concatBytes$3(a,...s))}const pointToBytes=e=>e.toRawBytes(!0).slice(1),numTo32b=e=>numberToBytesBE$1(e,32),modP=e=>mod(e,secp256k1P),modN=e=>mod(e,secp256k1N),Point=secp256k1.ProjectivePoint,GmulAdd=(e,s,a)=>Point.BASE.multiplyAndAddUnsafe(e,s,a);function schnorrGetExtPubKey(e){let s=secp256k1.utils.normPrivateKeyToScalar(e),a=Point.fromPrivateKey(s);return{scalar:a.hasEvenY()?s:modN(-s),bytes:pointToBytes(a)}}function lift_x(e){aInRange("x",e,_1n,secp256k1P);const s=modP(e*e),a=modP(s*e+BigInt(7));let tt=sqrtMod(a);tt%_2n!==_0n&&(tt=modP(-tt));const nt=new Point(e,tt,_1n);return nt.assertValidity(),nt}const num=bytesToNumberBE$1;function challenge(...e){return modN(num(taggedHash("BIP0340/challenge",...e)))}function schnorrGetPublicKey(e){return schnorrGetExtPubKey(e).bytes}function schnorrSign(e,s,a=randomBytes$2(32)){const tt=ensureBytes$1("message",e),{bytes:nt,scalar:ot}=schnorrGetExtPubKey(s),st=ensureBytes$1("auxRand",a,32),ft=numTo32b(ot^num(taggedHash("BIP0340/aux",st))),ht=taggedHash("BIP0340/nonce",ft,nt,tt),gt=modN(num(ht));if(gt===_0n)throw new Error("sign failed: k is zero");const{bytes:mt,scalar:yt}=schnorrGetExtPubKey(gt),wt=challenge(mt,nt,tt),vt=new Uint8Array(64);if(vt.set(mt,0),vt.set(numTo32b(modN(yt+wt*ot)),32),!schnorrVerify(vt,tt,nt))throw new Error("sign: Invalid signature produced");return vt}function schnorrVerify(e,s,a){const tt=ensureBytes$1("signature",e,64),nt=ensureBytes$1("message",s),ot=ensureBytes$1("publicKey",a,32);try{const st=lift_x(num(ot)),ft=num(tt.subarray(0,32));if(!inRange(ft,_1n,secp256k1P))return!1;const ht=num(tt.subarray(32,64));if(!inRange(ht,_1n,secp256k1N))return!1;const gt=challenge(numTo32b(ft),pointToBytes(st),nt),mt=GmulAdd(st,ht,modN(-gt));return!(!mt||!mt.hasEvenY()||mt.toAffine().x!==ft)}catch{return!1}}const schnorr={getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,utils:{randomPrivateKey:secp256k1.utils.randomPrivateKey,lift_x,pointToBytes,numberToBytesBE:numberToBytesBE$1,bytesToNumberBE:bytesToNumberBE$1,taggedHash,mod}};var dist={},LRUCache$1={},LRUCacheNode$1={};Object.defineProperty(LRUCacheNode$1,"__esModule",{value:!0});LRUCacheNode$1.LRUCacheNode=void 0;class LRUCacheNode{constructor(s,a,tt){const{entryExpirationTimeInMS:nt=null,next:ot=null,prev:st=null,onEntryEvicted:ft,onEntryMarkedAsMostRecentlyUsed:ht,clone:gt,cloneFn:mt}=tt??{};if(typeof nt=="number"&&(nt<=0||Number.isNaN(nt)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.clone=gt??!1,this.cloneFn=mt??this.defaultClone,this.key=s,this.internalValue=this.clone?this.cloneFn(a):a,this.created=Date.now(),this.entryExpirationTimeInMS=nt,this.next=ot,this.prev=st,this.onEntryEvicted=ft,this.onEntryMarkedAsMostRecentlyUsed=ht}get value(){return this.clone?this.cloneFn(this.internalValue):this.internalValue}get isExpired(){return typeof this.entryExpirationTimeInMS=="number"&&Date.now()-this.created>this.entryExpirationTimeInMS}invokeOnEvicted(){if(this.onEntryEvicted){const{key:s,value:a,isExpired:tt}=this;this.onEntryEvicted({key:s,value:a,isExpired:tt})}}invokeOnEntryMarkedAsMostRecentlyUsed(){if(this.onEntryMarkedAsMostRecentlyUsed){const{key:s,value:a}=this;this.onEntryMarkedAsMostRecentlyUsed({key:s,value:a})}}defaultClone(s){return typeof s=="boolean"||typeof s=="string"||typeof s=="number"?s:JSON.parse(JSON.stringify(s))}}LRUCacheNode$1.LRUCacheNode=LRUCacheNode;Object.defineProperty(LRUCache$1,"__esModule",{value:!0});LRUCache$1.LRUCache=void 0;const LRUCacheNode_1=LRUCacheNode$1;class LRUCache{constructor(s){this.lookupTable=new Map,this.head=null,this.tail=null;const{maxSize:a=25,entryExpirationTimeInMS:tt=null,onEntryEvicted:nt,onEntryMarkedAsMostRecentlyUsed:ot,cloneFn:st,clone:ft}=s??{};if(Number.isNaN(a)||a<=0)throw new Error("maxSize must be greater than 0.");if(typeof tt=="number"&&(tt<=0||Number.isNaN(tt)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.maxSizeInternal=a,this.entryExpirationTimeInMS=tt,this.onEntryEvicted=nt,this.onEntryMarkedAsMostRecentlyUsed=ot,this.clone=ft,this.cloneFn=st}get size(){return this.cleanCache(),this.lookupTable.size}get remainingSize(){return this.maxSizeInternal-this.size}get newest(){return this.head?this.head.isExpired?(this.removeNodeFromListAndLookupTable(this.head),this.newest):this.mapNodeToEntry(this.head):null}get oldest(){return this.tail?this.tail.isExpired?(this.removeNodeFromListAndLookupTable(this.tail),this.oldest):this.mapNodeToEntry(this.tail):null}get maxSize(){return this.maxSizeInternal}set maxSize(s){if(Number.isNaN(s)||s<=0)throw new Error("maxSize must be greater than 0.");this.maxSizeInternal=s,this.enforceSizeLimit()}set(s,a,tt){const nt=this.lookupTable.get(s);nt&&this.removeNodeFromListAndLookupTable(nt);const ot=new LRUCacheNode_1.LRUCacheNode(s,a,{entryExpirationTimeInMS:this.entryExpirationTimeInMS,onEntryEvicted:this.onEntryEvicted,onEntryMarkedAsMostRecentlyUsed:this.onEntryMarkedAsMostRecentlyUsed,clone:this.clone,cloneFn:this.cloneFn,...tt});return this.setNodeAsHead(ot),this.lookupTable.set(s,ot),this.enforceSizeLimit(),this}get(s){const a=this.lookupTable.get(s);return a?a.isExpired?(this.removeNodeFromListAndLookupTable(a),null):(this.setNodeAsHead(a),a.value):null}peek(s){const a=this.lookupTable.get(s);return a?a.isExpired?(this.removeNodeFromListAndLookupTable(a),null):a.value:null}delete(s){const a=this.lookupTable.get(s);return a?this.removeNodeFromListAndLookupTable(a):!1}has(s){const a=this.lookupTable.get(s);return a?a.isExpired?(this.removeNodeFromListAndLookupTable(a),!1):!0:!1}clear(){this.head=null,this.tail=null,this.lookupTable.clear()}find(s){let a=this.head;for(;a;){if(a.isExpired){const nt=a.next;this.removeNodeFromListAndLookupTable(a),a=nt;continue}const tt=this.mapNodeToEntry(a);if(s(tt))return this.setNodeAsHead(a),tt;a=a.next}return null}forEach(s){let a=this.head,tt=0;for(;a;){if(a.isExpired){const nt=a.next;this.removeNodeFromListAndLookupTable(a),a=nt;continue}s(a.value,a.key,tt),a=a.next,tt++}}*values(){let s=this.head;for(;s;){if(s.isExpired){const a=s.next;this.removeNodeFromListAndLookupTable(s),s=a;continue}yield s.value,s=s.next}}*keys(){let s=this.head;for(;s;){if(s.isExpired){const a=s.next;this.removeNodeFromListAndLookupTable(s),s=a;continue}yield s.key,s=s.next}}*entries(){let s=this.head;for(;s;){if(s.isExpired){const a=s.next;this.removeNodeFromListAndLookupTable(s),s=a;continue}yield this.mapNodeToEntry(s),s=s.next}}*[Symbol.iterator](){let s=this.head;for(;s;){if(s.isExpired){const a=s.next;this.removeNodeFromListAndLookupTable(s),s=a;continue}yield this.mapNodeToEntry(s),s=s.next}}enforceSizeLimit(){let s=this.tail;for(;s!==null&&this.size>this.maxSizeInternal;){const a=s.prev;this.removeNodeFromListAndLookupTable(s),s=a}}mapNodeToEntry({key:s,value:a}){return{key:s,value:a}}setNodeAsHead(s){this.removeNodeFromList(s),this.head?(s.next=this.head,this.head.prev=s,this.head=s):(this.head=s,this.tail=s),s.invokeOnEntryMarkedAsMostRecentlyUsed()}removeNodeFromList(s){s.prev!==null&&(s.prev.next=s.next),s.next!==null&&(s.next.prev=s.prev),this.head===s&&(this.head=s.next),this.tail===s&&(this.tail=s.prev),s.next=null,s.prev=null}removeNodeFromListAndLookupTable(s){return s.invokeOnEvicted(),this.removeNodeFromList(s),this.lookupTable.delete(s.key)}cleanCache(){if(!this.entryExpirationTimeInMS)return;const s=[];for(const a of this.lookupTable.values())a.isExpired&&s.push(a);s.forEach(a=>this.removeNodeFromListAndLookupTable(a))}}LRUCache$1.LRUCache=LRUCache;(function(e){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tt,nt,ot,st){st===void 0&&(st=ot);var ft=Object.getOwnPropertyDescriptor(nt,ot);(!ft||("get"in ft?!nt.__esModule:ft.writable||ft.configurable))&&(ft={enumerable:!0,get:function(){return nt[ot]}}),Object.defineProperty(tt,st,ft)}:function(tt,nt,ot,st){st===void 0&&(st=ot),tt[st]=nt[ot]}),a=commonjsGlobal&&commonjsGlobal.__exportStar||function(tt,nt){for(var ot in tt)ot!=="default"&&!Object.prototype.hasOwnProperty.call(nt,ot)&&s(nt,tt,ot)};Object.defineProperty(e,"__esModule",{value:!0}),a(LRUCache$1,e)})(dist);var lib={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function s(Lt){if(!Number.isSafeInteger(Lt))throw new Error(`Wrong integer: ${Lt}`)}e.assertNumber=s;function a(...Lt){const Ft=(Ct,Rt)=>jt=>Ct(Rt(jt)),Ut=Array.from(Lt).reverse().reduce((Ct,Rt)=>Ct?Ft(Ct,Rt.encode):Rt.encode,void 0),Mt=Lt.reduce((Ct,Rt)=>Ct?Ft(Ct,Rt.decode):Rt.decode,void 0);return{encode:Ut,decode:Mt}}function tt(Lt){return{encode:Ft=>{if(!Array.isArray(Ft)||Ft.length&&typeof Ft[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return Ft.map(Ut=>{if(s(Ut),Ut<0||Ut>=Lt.length)throw new Error(`Digit index outside alphabet: ${Ut} (alphabet: ${Lt.length})`);return Lt[Ut]})},decode:Ft=>{if(!Array.isArray(Ft)||Ft.length&&typeof Ft[0]!="string")throw new Error("alphabet.decode input should be array of strings");return Ft.map(Ut=>{if(typeof Ut!="string")throw new Error(`alphabet.decode: not string element=${Ut}`);const Mt=Lt.indexOf(Ut);if(Mt===-1)throw new Error(`Unknown letter: "${Ut}". Allowed: ${Lt}`);return Mt})}}}function nt(Lt=""){if(typeof Lt!="string")throw new Error("join separator should be string");return{encode:Ft=>{if(!Array.isArray(Ft)||Ft.length&&typeof Ft[0]!="string")throw new Error("join.encode input should be array of strings");for(let Ut of Ft)if(typeof Ut!="string")throw new Error(`join.encode: non-string input=${Ut}`);return Ft.join(Lt)},decode:Ft=>{if(typeof Ft!="string")throw new Error("join.decode input should be string");return Ft.split(Lt)}}}function ot(Lt,Ft="="){if(s(Lt),typeof Ft!="string")throw new Error("padding chr should be string");return{encode(Ut){if(!Array.isArray(Ut)||Ut.length&&typeof Ut[0]!="string")throw new Error("padding.encode input should be array of strings");for(let Mt of Ut)if(typeof Mt!="string")throw new Error(`padding.encode: non-string input=${Mt}`);for(;Ut.length*Lt%8;)Ut.push(Ft);return Ut},decode(Ut){if(!Array.isArray(Ut)||Ut.length&&typeof Ut[0]!="string")throw new Error("padding.encode input should be array of strings");for(let Ct of Ut)if(typeof Ct!="string")throw new Error(`padding.decode: non-string input=${Ct}`);let Mt=Ut.length;if(Mt*Lt%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;Mt>0&&Ut[Mt-1]===Ft;Mt--)if(!((Mt-1)*Lt%8))throw new Error("Invalid padding: string has too much padding");return Ut.slice(0,Mt)}}}function st(Lt){if(typeof Lt!="function")throw new Error("normalize fn should be function");return{encode:Ft=>Ft,decode:Ft=>Lt(Ft)}}function ft(Lt,Ft,Ut){if(Ft<2)throw new Error(`convertRadix: wrong from=${Ft}, base cannot be less than 2`);if(Ut<2)throw new Error(`convertRadix: wrong to=${Ut}, base cannot be less than 2`);if(!Array.isArray(Lt))throw new Error("convertRadix: data should be array");if(!Lt.length)return[];let Mt=0;const Ct=[],Rt=Array.from(Lt);for(Rt.forEach(jt=>{if(s(jt),jt<0||jt>=Ft)throw new Error(`Wrong integer: ${jt}`)});;){let jt=0,It=!0;for(let Ot=Mt;Ot<Rt.length;Ot++){const Ht=Rt[Ot],Vt=Ft*jt+Ht;if(!Number.isSafeInteger(Vt)||Ft*jt/Ft!==jt||Vt-Ht!==Ft*jt)throw new Error("convertRadix: carry overflow");if(jt=Vt%Ut,Rt[Ot]=Math.floor(Vt/Ut),!Number.isSafeInteger(Rt[Ot])||Rt[Ot]*Ut+jt!==Vt)throw new Error("convertRadix: carry overflow");if(It)Rt[Ot]?It=!1:Mt=Ot;else continue}if(Ct.push(jt),It)break}for(let jt=0;jt<Lt.length-1&&Lt[jt]===0;jt++)Ct.push(0);return Ct.reverse()}const ht=(Lt,Ft)=>Ft?ht(Ft,Lt%Ft):Lt,gt=(Lt,Ft)=>Lt+(Ft-ht(Lt,Ft));function mt(Lt,Ft,Ut,Mt){if(!Array.isArray(Lt))throw new Error("convertRadix2: data should be array");if(Ft<=0||Ft>32)throw new Error(`convertRadix2: wrong from=${Ft}`);if(Ut<=0||Ut>32)throw new Error(`convertRadix2: wrong to=${Ut}`);if(gt(Ft,Ut)>32)throw new Error(`convertRadix2: carry overflow from=${Ft} to=${Ut} carryBits=${gt(Ft,Ut)}`);let Ct=0,Rt=0;const jt=2**Ut-1,It=[];for(const Ot of Lt){if(s(Ot),Ot>=2**Ft)throw new Error(`convertRadix2: invalid data word=${Ot} from=${Ft}`);if(Ct=Ct<<Ft|Ot,Rt+Ft>32)throw new Error(`convertRadix2: carry overflow pos=${Rt} from=${Ft}`);for(Rt+=Ft;Rt>=Ut;Rt-=Ut)It.push((Ct>>Rt-Ut&jt)>>>0);Ct&=2**Rt-1}if(Ct=Ct<<Ut-Rt&jt,!Mt&&Rt>=Ft)throw new Error("Excess padding");if(!Mt&&Ct)throw new Error(`Non-zero padding: ${Ct}`);return Mt&&Rt>0&&It.push(Ct>>>0),It}function yt(Lt){return s(Lt),{encode:Ft=>{if(!(Ft instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return ft(Array.from(Ft),2**8,Lt)},decode:Ft=>{if(!Array.isArray(Ft)||Ft.length&&typeof Ft[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(ft(Ft,Lt,2**8))}}}function wt(Lt,Ft=!1){if(s(Lt),Lt<=0||Lt>32)throw new Error("radix2: bits should be in (0..32]");if(gt(8,Lt)>32||gt(Lt,8)>32)throw new Error("radix2: carry overflow");return{encode:Ut=>{if(!(Ut instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return mt(Array.from(Ut),8,Lt,!Ft)},decode:Ut=>{if(!Array.isArray(Ut)||Ut.length&&typeof Ut[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(mt(Ut,Lt,8,Ft))}}}function vt(Lt){if(typeof Lt!="function")throw new Error("unsafeWrapper fn should be function");return function(...Ft){try{return Lt.apply(null,Ft)}catch{}}}function xt(Lt,Ft){if(s(Lt),typeof Ft!="function")throw new Error("checksum fn should be function");return{encode(Ut){if(!(Ut instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const Mt=Ft(Ut).slice(0,Lt),Ct=new Uint8Array(Ut.length+Lt);return Ct.set(Ut),Ct.set(Mt,Ut.length),Ct},decode(Ut){if(!(Ut instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const Mt=Ut.slice(0,-Lt),Ct=Ft(Mt).slice(0,Lt),Rt=Ut.slice(-Lt);for(let jt=0;jt<Lt;jt++)if(Ct[jt]!==Rt[jt])throw new Error("Invalid checksum");return Mt}}}e.utils={alphabet:tt,chain:a,checksum:xt,radix:yt,radix2:wt,join:nt,padding:ot},e.base16=a(wt(4),tt("0123456789ABCDEF"),nt("")),e.base32=a(wt(5),tt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ot(5),nt("")),e.base32hex=a(wt(5),tt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ot(5),nt("")),e.base32crockford=a(wt(5),tt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),nt(""),st(Lt=>Lt.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=a(wt(6),tt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ot(6),nt("")),e.base64url=a(wt(6),tt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ot(6),nt(""));const Et=Lt=>a(yt(58),tt(Lt),nt(""));e.base58=Et("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=Et("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=Et("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const kt=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(Lt){let Ft="";for(let Ut=0;Ut<Lt.length;Ut+=8){const Mt=Lt.subarray(Ut,Ut+8);Ft+=e.base58.encode(Mt).padStart(kt[Mt.length],"1")}return Ft},decode(Lt){let Ft=[];for(let Ut=0;Ut<Lt.length;Ut+=11){const Mt=Lt.slice(Ut,Ut+11),Ct=kt.indexOf(Mt.length),Rt=e.base58.decode(Mt);for(let jt=0;jt<Rt.length-Ct;jt++)if(Rt[jt]!==0)throw new Error("base58xmr: wrong padding");Ft=Ft.concat(Array.from(Rt.slice(Rt.length-Ct)))}return Uint8Array.from(Ft)}};const bt=Lt=>a(xt(4,Ft=>Lt(Lt(Ft))),e.base58);e.base58check=bt;const $t=a(tt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),nt("")),_t=[996825010,642813549,513874426,1027748829,705979059];function St(Lt){const Ft=Lt>>25;let Ut=(Lt&33554431)<<5;for(let Mt=0;Mt<_t.length;Mt++)(Ft>>Mt&1)===1&&(Ut^=_t[Mt]);return Ut}function Pt(Lt,Ft,Ut=1){const Mt=Lt.length;let Ct=1;for(let Rt=0;Rt<Mt;Rt++){const jt=Lt.charCodeAt(Rt);if(jt<33||jt>126)throw new Error(`Invalid prefix (${Lt})`);Ct=St(Ct)^jt>>5}Ct=St(Ct);for(let Rt=0;Rt<Mt;Rt++)Ct=St(Ct)^Lt.charCodeAt(Rt)&31;for(let Rt of Ft)Ct=St(Ct)^Rt;for(let Rt=0;Rt<6;Rt++)Ct=St(Ct);return Ct^=Ut,$t.encode(mt([Ct%2**30],30,5,!1))}function At(Lt){const Ft=Lt==="bech32"?1:734539939,Ut=wt(5),Mt=Ut.decode,Ct=Ut.encode,Rt=vt(Mt);function jt(Vt,Wt,Gt=90){if(typeof Vt!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof Vt}`);if(!Array.isArray(Wt)||Wt.length&&typeof Wt[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof Wt}`);const qt=Vt.length+7+Wt.length;if(Gt!==!1&&qt>Gt)throw new TypeError(`Length ${qt} exceeds limit ${Gt}`);return Vt=Vt.toLowerCase(),`${Vt}1${$t.encode(Wt)}${Pt(Vt,Wt,Ft)}`}function It(Vt,Wt=90){if(typeof Vt!="string")throw new Error(`bech32.decode input should be string, not ${typeof Vt}`);if(Vt.length<8||Wt!==!1&&Vt.length>Wt)throw new TypeError(`Wrong string length: ${Vt.length} (${Vt}). Expected (8..${Wt})`);const Gt=Vt.toLowerCase();if(Vt!==Gt&&Vt!==Vt.toUpperCase())throw new Error("String must be lowercase or uppercase");Vt=Gt;const qt=Vt.lastIndexOf("1");if(qt===0||qt===-1)throw new Error('Letter "1" must be present between prefix and data only');const Zt=Vt.slice(0,qt),Yt=Vt.slice(qt+1);if(Yt.length<6)throw new Error("Data must be at least 6 characters long");const Xt=$t.decode(Yt).slice(0,-6),Jt=Pt(Zt,Xt,Ft);if(!Yt.endsWith(Jt))throw new Error(`Invalid checksum in ${Vt}: expected "${Jt}"`);return{prefix:Zt,words:Xt}}const Ot=vt(It);function Ht(Vt){const{prefix:Wt,words:Gt}=It(Vt,!1);return{prefix:Wt,words:Gt,bytes:Mt(Gt)}}return{encode:jt,decode:It,decodeToBytes:Ht,decodeUnsafe:Ot,fromWords:Mt,fromWordsUnsafe:Rt,toWords:Ct}}e.bech32=At("bech32"),e.bech32m=At("bech32m"),e.utf8={encode:Lt=>new TextDecoder().decode(Lt),decode:Lt=>new TextEncoder().encode(Lt)},e.hex=a(wt(4),tt("0123456789abcdef"),nt(""),st(Lt=>{if(typeof Lt!="string"||Lt.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof Lt} with length ${Lt.length}`);return Lt.toLowerCase()}));const Tt={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},Bt=`Invalid encoding type. Available types: ${Object.keys(Tt).join(", ")}`,zt=(Lt,Ft)=>{if(typeof Lt!="string"||!Tt.hasOwnProperty(Lt))throw new TypeError(Bt);if(!(Ft instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return Tt[Lt].encode(Ft)};e.bytesToString=zt,e.str=e.bytesToString;const Dt=(Lt,Ft)=>{if(!Tt.hasOwnProperty(Lt))throw new TypeError(Bt);if(typeof Ft!="string")throw new TypeError("stringToBytes() expects string");return Tt[Lt].decode(Ft)};e.stringToBytes=Dt,e.bytes=e.stringToBytes})(lib);const{bech32,hex,utf8}=lib,DEFAULTNETWORK={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},TESTNETWORK={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},SIGNETNETWORK={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},REGTESTNETWORK={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},SIMNETWORK={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},FEATUREBIT_ORDER=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],DIVISORS={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},MAX_MILLISATS=BigInt("2100000000000000000"),MILLISATS_PER_BTC=BigInt(1e11),TAGCODES={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},TAGNAMES={};for(let e=0,s=Object.keys(TAGCODES);e<s.length;e++){const a=s[e],tt=TAGCODES[s[e]].toString();TAGNAMES[tt]=a}const TAGPARSERS={1:e=>hex.encode(bech32.fromWordsUnsafe(e)),16:e=>hex.encode(bech32.fromWordsUnsafe(e)),13:e=>utf8.encode(bech32.fromWordsUnsafe(e)),19:e=>hex.encode(bech32.fromWordsUnsafe(e)),23:e=>hex.encode(bech32.fromWordsUnsafe(e)),27:e=>hex.encode(bech32.fromWordsUnsafe(e)),6:wordsToIntBE,24:wordsToIntBE,3:routingInfoParser,5:featureBitsParser};function getUnknownParser(e){return s=>({tagCode:parseInt(e),words:bech32.encode("unknown",s,Number.MAX_SAFE_INTEGER)})}function wordsToIntBE(e){return e.reverse().reduce((s,a,tt)=>s+a*Math.pow(32,tt),0)}function routingInfoParser(e){const s=[];let a,tt,nt,ot,st,ft=bech32.fromWordsUnsafe(e);for(;ft.length>0;)a=hex.encode(ft.slice(0,33)),tt=hex.encode(ft.slice(33,41)),nt=parseInt(hex.encode(ft.slice(41,45)),16),ot=parseInt(hex.encode(ft.slice(45,49)),16),st=parseInt(hex.encode(ft.slice(49,51)),16),ft=ft.slice(51),s.push({pubkey:a,short_channel_id:tt,fee_base_msat:nt,fee_proportional_millionths:ot,cltv_expiry_delta:st});return s}function featureBitsParser(e){const s=e.slice().reverse().map(nt=>[!!(nt&1),!!(nt&2),!!(nt&4),!!(nt&8),!!(nt&16)]).reduce((nt,ot)=>nt.concat(ot),[]);for(;s.length<FEATUREBIT_ORDER.length*2;)s.push(!1);const a={};FEATUREBIT_ORDER.forEach((nt,ot)=>{let st;s[ot*2]?st="required":s[ot*2+1]?st="supported":st="unsupported",a[nt]=st});const tt=s.slice(FEATUREBIT_ORDER.length*2);return a.extra_bits={start_bit:FEATUREBIT_ORDER.length*2,bits:tt,has_required:tt.reduce((nt,ot,st)=>st%2!==0?nt||!1:nt||ot,!1)},a}function hrpToMillisat(e,s){let a,tt;if(e.slice(-1).match(/^[munp]$/))a=e.slice(-1),tt=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");tt=e}if(!tt.match(/^\d+$/))throw new Error("Not a valid human readable amount");const nt=BigInt(tt),ot=a?nt*MILLISATS_PER_BTC/DIVISORS[a]:nt*MILLISATS_PER_BTC;if(a==="p"&&nt%BigInt(10)!==BigInt(0)||ot>MAX_MILLISATS)throw new Error("Amount is outside of valid range");return s?ot.toString():ot}function decode(e,s){if(typeof e!="string")throw new Error("Lightning Payment Request must be string");if(e.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const a=[],tt=bech32.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const nt=tt.prefix;let ot=tt.words,st=e.slice(nt.length+1),ft=ot.slice(-104);ot=ot.slice(0,-104);let ht=nt.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(ht&&!ht[2]&&(ht=nt.match(/^ln(\S+)$/)),!ht)throw new Error("Not a proper lightning payment request");a.push({name:"lightning_network",letters:"ln"});const gt=ht[1];let mt;if(s){if(s.bech32===void 0||s.pubKeyHash===void 0||s.scriptHash===void 0||!Array.isArray(s.validWitnessVersions))throw new Error("Invalid network");mt=s}else switch(gt){case DEFAULTNETWORK.bech32:mt=DEFAULTNETWORK;break;case TESTNETWORK.bech32:mt=TESTNETWORK;break;case SIGNETNETWORK.bech32:mt=SIGNETNETWORK;break;case REGTESTNETWORK.bech32:mt=REGTESTNETWORK;break;case SIMNETWORK.bech32:mt=SIMNETWORK;break}if(!mt||mt.bech32!==gt)throw new Error("Unknown coin bech32 prefix");a.push({name:"coin_network",letters:gt,value:mt});const yt=ht[2];let wt;if(yt){const St=ht[3];wt=hrpToMillisat(yt+St,!0),a.push({name:"amount",letters:ht[2]+ht[3],value:wt})}else wt=null;a.push({name:"separator",letters:"1"});const vt=wordsToIntBE(ot.slice(0,7));ot=ot.slice(7),a.push({name:"timestamp",letters:st.slice(0,7),value:vt}),st=st.slice(7);let xt,Et,kt,bt;for(;ot.length>0;){const St=ot[0].toString();xt=TAGNAMES[St]||"unknown_tag",Et=TAGPARSERS[St]||getUnknownParser(St),ot=ot.slice(1),kt=wordsToIntBE(ot.slice(0,2)),ot=ot.slice(2),bt=ot.slice(0,kt),ot=ot.slice(kt),a.push({name:xt,tag:st[0],letters:st.slice(0,3+kt),value:Et(bt)}),st=st.slice(3+kt)}a.push({name:"signature",letters:st.slice(0,104),value:hex.encode(bech32.fromWordsUnsafe(ft))}),st=st.slice(104),a.push({name:"checksum",letters:st});let $t={paymentRequest:e,sections:a,get expiry(){let St=a.find(Pt=>Pt.name==="expiry");if(St)return _t("timestamp")+St.value},get route_hints(){return a.filter(St=>St.name==="route_hint").map(St=>St.value)}};for(let St in TAGCODES)St!=="route_hint"&&Object.defineProperty($t,St,{get(){return _t(St)}});return $t;function _t(St){let Pt=a.find(At=>At.name===St);return Pt?Pt.value:void 0}}var bolt11={decode,hrpToMillisat};function getRelaysForSync(e,s,a="write"){if(!e.outboxTracker)return;const tt=e.outboxTracker.data.get(s);if(tt)return a==="write"?tt.writeRelays:tt.readRelays}async function getWriteRelaysFor(e,s,a="write"){if(e.outboxTracker)return e.outboxTracker.data.has(s)||await e.outboxTracker.trackUsers([s]),getRelaysForSync(e,s,a)}function getTopRelaysForAuthors(e,s){const a=new Map;return s.forEach(nt=>{const ot=getRelaysForSync(e,nt);ot&&ot.forEach(st=>{const ft=a.get(st)||0;a.set(st,ft+1)})}),Array.from(a.entries()).sort((nt,ot)=>ot[1]-nt[1]).map(nt=>nt[0])}function getAllRelaysForAllPubkeys(e,s,a="read"){const tt=new Map,nt=new Set;return s.forEach(ot=>{const st=getRelaysForSync(e,ot,a);st&&st.size>0?(st.forEach(ft=>{(tt.get(ft)||new Set).add(ot)}),tt.set(ot,st)):nt.add(ot)}),{pubkeysToRelays:tt,authorsMissingRelays:nt}}function chooseRelayCombinationForPubkeys(e,s,a,{count:tt,preferredRelays:nt}={}){tt??(tt=2),nt??(nt=new Set);const ot=e.pool,st=ot.connectedRelays();st.forEach(wt=>{nt.add(wt.url)});const ft=new Map,{pubkeysToRelays:ht,authorsMissingRelays:gt}=getAllRelaysForAllPubkeys(e,s,a),mt=getTopRelaysForAuthors(e,s),yt=(wt,vt)=>{const xt=ft.get(vt)||[];xt.push(wt),ft.set(vt,xt)};for(const[wt,vt]of ht.entries()){let xt=tt;for(const Et of st)vt.has(Et.url)&&(yt(wt,Et.url),xt--);for(const Et of vt)ft.has(Et)&&(yt(wt,Et),xt--);if(!(xt<=0))for(const Et of mt){if(xt<=0)break;vt.has(Et)&&(yt(wt,Et),xt--)}}for(const wt of gt)ot.permanentAndConnectedRelays().forEach(vt=>{const xt=ft.get(vt.url)||[];xt.push(wt),ft.set(vt.url,xt)});return ft}function getRelaysForFilterWithAuthors(e,s,a=2){return chooseRelayCombinationForPubkeys(e,s,"write",{count:a})}function tryNormalizeRelayUrl(e){try{return normalizeRelayUrl(e)}catch{return}}function normalizeRelayUrl(e){let s=normalizeUrl(e.toLowerCase(),{stripAuthentication:!1,stripWWW:!1,stripHash:!0});return s.endsWith("/")||(s+="/"),s}function normalize(e){const s=new Set;for(const a of e)try{s.add(normalizeRelayUrl(a))}catch{}return Array.from(s)}var DATA_URL_DEFAULT_MIME_TYPE="text/plain",DATA_URL_DEFAULT_CHARSET="us-ascii",testParameter=(e,s)=>s.some(a=>a instanceof RegExp?a.test(e):a===e),supportedProtocols=new Set(["https:","http:","file:"]),hasCustomProtocol=e=>{try{const{protocol:s}=new URL(e);return s.endsWith(":")&&!s.includes(".")&&!supportedProtocols.has(s)}catch{return!1}},normalizeDataURL=(e,{stripHash:s})=>{var yt,wt,vt,xt;const a=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!a)throw new Error(`Invalid URL: ${e}`);let tt=((yt=a.groups)==null?void 0:yt.type)??"",nt=((wt=a.groups)==null?void 0:wt.data)??"",ot=((vt=a.groups)==null?void 0:vt.hash)??"";const st=tt.split(";");ot=s?"":ot;let ft=!1;st[st.length-1]==="base64"&&(st.pop(),ft=!0);const ht=((xt=st.shift())==null?void 0:xt.toLowerCase())??"",mt=[...st.map(Et=>{let[kt,bt=""]=Et.split("=").map($t=>$t.trim());return kt==="charset"&&(bt=bt.toLowerCase(),bt===DATA_URL_DEFAULT_CHARSET)?"":`${kt}${bt?`=${bt}`:""}`}).filter(Boolean)];return ft&&mt.push("base64"),(mt.length>0||ht&&ht!==DATA_URL_DEFAULT_MIME_TYPE)&&mt.unshift(ht),`data:${mt.join(";")},${ft?nt.trim():nt}${ot?`#${ot}`:""}`};function normalizeUrl(e,s){if(s={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...s},typeof s.defaultProtocol=="string"&&!s.defaultProtocol.endsWith(":")&&(s.defaultProtocol=`${s.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return normalizeDataURL(e,s);if(hasCustomProtocol(e))return e;const a=e.startsWith("//");!a&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,s.defaultProtocol));const nt=new URL(e);if(s.forceHttp&&s.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(s.forceHttp&&nt.protocol==="https:"&&(nt.protocol="http:"),s.forceHttps&&nt.protocol==="http:"&&(nt.protocol="https:"),s.stripAuthentication&&(nt.username="",nt.password=""),s.stripHash?nt.hash="":s.stripTextFragment&&(nt.hash=nt.hash.replace(/#?:~:text.*?$/i,"")),nt.pathname){const st=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let ft=0,ht="";for(;;){const mt=st.exec(nt.pathname);if(!mt)break;const yt=mt[0],wt=mt.index,vt=nt.pathname.slice(ft,wt);ht+=vt.replace(/\/{2,}/g,"/"),ht+=yt,ft=wt+yt.length}const gt=nt.pathname.slice(ft,nt.pathname.length);ht+=gt.replace(/\/{2,}/g,"/"),nt.pathname=ht}if(nt.pathname)try{nt.pathname=decodeURI(nt.pathname)}catch{}if(s.removeDirectoryIndex===!0&&(s.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(s.removeDirectoryIndex)&&s.removeDirectoryIndex.length>0){let st=nt.pathname.split("/");const ft=st[st.length-1];testParameter(ft,s.removeDirectoryIndex)&&(st=st.slice(0,-1),nt.pathname=st.slice(1).join("/")+"/")}if(nt.hostname&&(nt.hostname=nt.hostname.replace(/\.$/,""),s.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(nt.hostname)&&(nt.hostname=nt.hostname.replace(/^www\./,""))),Array.isArray(s.removeQueryParameters))for(const st of[...nt.searchParams.keys()])testParameter(st,s.removeQueryParameters)&&nt.searchParams.delete(st);if(!Array.isArray(s.keepQueryParameters)&&s.removeQueryParameters===!0&&(nt.search=""),Array.isArray(s.keepQueryParameters)&&s.keepQueryParameters.length>0)for(const st of[...nt.searchParams.keys()])testParameter(st,s.keepQueryParameters)||nt.searchParams.delete(st);if(s.sortQueryParameters){nt.searchParams.sort();try{nt.search=decodeURIComponent(nt.search)}catch{}}s.removeTrailingSlash&&(nt.pathname=nt.pathname.replace(/\/$/,"")),s.removeExplicitPort&&nt.port&&(nt.port="");const ot=e;return e=nt.toString(),!s.removeSingleSlash&&nt.pathname==="/"&&!ot.endsWith("/")&&nt.hash===""&&(e=e.replace(/\/$/,"")),(s.removeTrailingSlash||nt.pathname==="/")&&nt.hash===""&&s.removeSingleSlash&&(e=e.replace(/\/$/,"")),a&&!s.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),s.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var NDKKind=(e=>(e[e.Metadata=0]="Metadata",e[e.Text=1]="Text",e[e.RecommendRelay=2]="RecommendRelay",e[e.Contacts=3]="Contacts",e[e.EncryptedDirectMessage=4]="EncryptedDirectMessage",e[e.EventDeletion=5]="EventDeletion",e[e.Repost=6]="Repost",e[e.Reaction=7]="Reaction",e[e.BadgeAward=8]="BadgeAward",e[e.GroupChat=9]="GroupChat",e[e.GroupNote=11]="GroupNote",e[e.GroupReply=12]="GroupReply",e[e.GenericRepost=16]="GenericRepost",e[e.ChannelCreation=40]="ChannelCreation",e[e.ChannelMetadata=41]="ChannelMetadata",e[e.ChannelMessage=42]="ChannelMessage",e[e.ChannelHideMessage=43]="ChannelHideMessage",e[e.ChannelMuteUser=44]="ChannelMuteUser",e[e.Media=1063]="Media",e[e.Report=1984]="Report",e[e.Label=1985]="Label",e[e.DVMReqTextExtraction=5e3]="DVMReqTextExtraction",e[e.DVMReqTextSummarization=5001]="DVMReqTextSummarization",e[e.DVMReqTextTranslation=5002]="DVMReqTextTranslation",e[e.DVMReqTextGeneration=5050]="DVMReqTextGeneration",e[e.DVMReqImageGeneration=5100]="DVMReqImageGeneration",e[e.DVMReqTextToSpeech=5250]="DVMReqTextToSpeech",e[e.DVMReqDiscoveryNostrContent=5300]="DVMReqDiscoveryNostrContent",e[e.DVMReqDiscoveryNostrPeople=5301]="DVMReqDiscoveryNostrPeople",e[e.DVMReqTimestamping=5900]="DVMReqTimestamping",e[e.DVMEventSchedule=5905]="DVMEventSchedule",e[e.DVMJobFeedback=7e3]="DVMJobFeedback",e[e.Subscribe=7001]="Subscribe",e[e.Unsubscribe=7002]="Unsubscribe",e[e.SubscriptionReceipt=7003]="SubscriptionReceipt",e[e.CashuToken=7375]="CashuToken",e[e.WalletChange=7376]="WalletChange",e[e.GroupAdminAddUser=9e3]="GroupAdminAddUser",e[e.GroupAdminRemoveUser=9001]="GroupAdminRemoveUser",e[e.GroupAdminEditMetadata=9002]="GroupAdminEditMetadata",e[e.GroupAdminEditStatus=9006]="GroupAdminEditStatus",e[e.GroupAdminCreateGroup=9007]="GroupAdminCreateGroup",e[e.GroupAdminRequestJoin=9021]="GroupAdminRequestJoin",e[e.MuteList=1e4]="MuteList",e[e.PinList=10001]="PinList",e[e.RelayList=10002]="RelayList",e[e.BookmarkList=10003]="BookmarkList",e[e.CommunityList=10004]="CommunityList",e[e.PublicChatList=10005]="PublicChatList",e[e.BlockRelayList=10006]="BlockRelayList",e[e.SearchRelayList=10007]="SearchRelayList",e[e.SimpleGroupList=10009]="SimpleGroupList",e[e.InterestList=10015]="InterestList",e[e.CashuMintList=10019]="CashuMintList",e[e.EmojiList=10030]="EmojiList",e[e.BlossomList=10063]="BlossomList",e[e.NostrWaletConnectInfo=13194]="NostrWaletConnectInfo",e[e.TierList=17e3]="TierList",e[e.FollowSet=3e4]="FollowSet",e[e.CategorizedPeopleList=3e4]="CategorizedPeopleList",e[e.CategorizedBookmarkList=30001]="CategorizedBookmarkList",e[e.RelaySet=30002]="RelaySet",e[e.CategorizedRelayList=30002]="CategorizedRelayList",e[e.BookmarkSet=30003]="BookmarkSet",e[e.CurationSet=30004]="CurationSet",e[e.ArticleCurationSet=30004]="ArticleCurationSet",e[e.VideoCurationSet=30005]="VideoCurationSet",e[e.InterestSet=30015]="InterestSet",e[e.InterestsList=30015]="InterestsList",e[e.EmojiSet=30030]="EmojiSet",e[e.ModularArticle=30040]="ModularArticle",e[e.ModularArticleItem=30041]="ModularArticleItem",e[e.Wiki=30818]="Wiki",e[e.Draft=31234]="Draft",e[e.SubscriptionTier=37001]="SubscriptionTier",e[e.EcashMintRecommendation=38e3]="EcashMintRecommendation",e[e.HighlightSet=39802]="HighlightSet",e[e.CategorizedHighlightList=39802]="CategorizedHighlightList",e[e.Nutzap=9321]="Nutzap",e[e.ZapRequest=9734]="ZapRequest",e[e.Zap=9735]="Zap",e[e.Highlight=9802]="Highlight",e[e.ClientAuth=22242]="ClientAuth",e[e.NostrWalletConnectReq=23194]="NostrWalletConnectReq",e[e.NostrWalletConnectRes=23195]="NostrWalletConnectRes",e[e.NostrConnect=24133]="NostrConnect",e[e.BlossomUpload=24242]="BlossomUpload",e[e.HttpAuth=27235]="HttpAuth",e[e.ProfileBadge=30008]="ProfileBadge",e[e.BadgeDefinition=30009]="BadgeDefinition",e[e.MarketStall=30017]="MarketStall",e[e.MarketProduct=30018]="MarketProduct",e[e.Article=30023]="Article",e[e.AppSpecificData=30078]="AppSpecificData",e[e.Classified=30402]="Classified",e[e.HorizontalVideo=34235]="HorizontalVideo",e[e.VerticalVideo=34236]="VerticalVideo",e[e.CashuWallet=37375]="CashuWallet",e[e.GroupMetadata=39e3]="GroupMetadata",e[e.GroupAdmins=39001]="GroupAdmins",e[e.GroupMembers=39002]="GroupMembers",e[e.AppRecommendation=31989]="AppRecommendation",e[e.AppHandler=31990]="AppHandler",e))(NDKKind||{}),MAX_RECONNECT_ATTEMPTS=5,FLAPPING_THRESHOLD_MS=1e3,NDKRelayConnectivity=class{constructor(e,s){Nt(this,"ndkRelay");Nt(this,"ws");Nt(this,"_status");Nt(this,"timeoutMs");Nt(this,"connectedAt");Nt(this,"_connectionStats",{attempts:0,success:0,durations:[]});Nt(this,"debug");Nt(this,"connectTimeout");Nt(this,"reconnectTimeout");Nt(this,"ndk");Nt(this,"openSubs",new Map);Nt(this,"openCountRequests",new Map);Nt(this,"openEventPublishes",new Map);Nt(this,"serial",0);Nt(this,"baseEoseTimeout",4400);Nt(this,"updateConnectionStats",{connected:()=>{this._connectionStats.success++,this._connectionStats.connectedAt=Date.now()},disconnected:()=>{this._connectionStats.connectedAt&&(this._connectionStats.durations.push(Date.now()-this._connectionStats.connectedAt),this._connectionStats.durations.length>100&&this._connectionStats.durations.shift()),this._connectionStats.connectedAt=void 0},attempt:()=>{this._connectionStats.attempts++,this._connectionStats.connectedAt=Date.now()}});this.ndkRelay=e,this._status=1;const a=Math.floor(Math.random()*1e3);this.debug=this.ndkRelay.debug.extend("connectivity"+a),this.ndk=s}async connect(e,s=!0){if(this._status!==1||this.reconnectTimeout){this.debug("Relay requested to be connected but was in state %s or it had a reconnect timeout",this._status);return}this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),e??(e=this.timeoutMs),!this.timeoutMs&&e&&(this.timeoutMs=e),this.timeoutMs&&(this.connectTimeout=setTimeout(()=>this.onConnectionError(s),this.timeoutMs));try{this.updateConnectionStats.attempt(),this._status===1?this._status=4:this._status=2,this.ws=new WebSocket(this.ndkRelay.url),this.ws.onopen=this.onConnect.bind(this),this.ws.onclose=this.onDisconnect.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this)}catch(a){throw this.debug(`Failed to connect to ${this.ndkRelay.url}`,a),this._status=1,s?this.handleReconnection():this.ndkRelay.emit("delayed-connect",2*24*60*60*1e3),a}}disconnect(){var e;this._status=0;try{(e=this.ws)==null||e.close()}catch(s){this.debug("Failed to disconnect",s),this._status=1}}onConnectionError(e){this.debug(`Error connecting to ${this.ndkRelay.url}`,this.timeoutMs),e&&!this.reconnectTimeout&&this.handleReconnection()}onConnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.updateConnectionStats.connected(),this._status=5,this.ndkRelay.emit("connect"),this.ndkRelay.emit("ready")}onDisconnect(){this.updateConnectionStats.disconnected(),this._status=1}onMessage(e){try{const s=JSON.parse(e.data),[a,tt,...nt]=s;switch(a){case"EVENT":{const ot=this.openSubs.get(tt),st=s[2];if(!ot){this.debug(`Received event for unknown subscription ${tt}`);return}ot.onevent(st);return}case"COUNT":{const ot=s[2],st=this.openCountRequests.get(tt);st&&(st.resolve(ot.count),this.openCountRequests.delete(tt));return}case"EOSE":{const ot=this.openSubs.get(tt);if(!ot)return;ot.oneose();return}case"OK":{const ot=s[2],st=s[3],ft=this.openEventPublishes.get(tt),ht=ft==null?void 0:ft.pop();if(!ft||!ht){this.debug("Received OK for unknown event publish",tt);return}ot?ht.resolve(st):ht.reject(new Error(st)),ft.length===0?this.openEventPublishes.delete(tt):this.openEventPublishes.set(tt,ft);return}case"CLOSED":{const ot=this.openSubs.get(tt);if(!ot)return;ot.onclosed(s[2]);return}case"NOTICE":this.onNotice(s[1]);return;case"AUTH":{this.onAuthRequested(s[1]);return}}}catch(s){this.debug(`Error parsing message from ${this.ndkRelay.url}: ${s.message}`,s==null?void 0:s.stack);return}}async onAuthRequested(e){var a,tt,nt;const s=this.ndkRelay.authPolicy??((a=this.ndk)==null?void 0:a.relayAuthDefaultPolicy);if(this.debug("Relay requested authentication",{havePolicy:!!s}),this._status===7){this.debug("Already authenticating, ignoring");return}if(this._status=6,s){if(this._status>=5){this._status=7;let ot;try{ot=await s(this.ndkRelay,e)}catch(st){this.debug("Authentication policy threw an error",st),ot=!1}if(this.debug("Authentication policy returned",!!ot),ot instanceof NDKEvent||ot===!0){ot instanceof NDKEvent&&await this.auth(ot);const st=async()=>{if(this._status>=5&&this._status<8){const ft=new NDKEvent(this.ndk);ft.kind=22242,ft.tags=[["relay",this.ndkRelay.url],["challenge",e]],await ft.sign(),this.auth(ft).then(()=>{this._status=8,this.ndkRelay.emit("authed"),this.debug("Authentication successful")}).catch(ht=>{this._status=6,this.ndkRelay.emit("auth:failed",ht),this.debug("Authentication failed",ht)})}else this.debug("Authentication failed, it changed status, status is %d",this._status)};ot===!0&&((tt=this.ndk)!=null&&tt.signer?st().catch(ft=>{console.error("Error authenticating",ft)}):(this.debug("No signer available for authentication localhost"),(nt=this.ndk)==null||nt.once("signer:ready",st))),this._status=5,this.ndkRelay.emit("authed")}}}else this.ndkRelay.emit("auth",e)}onError(e){this.debug(`WebSocket error on ${this.ndkRelay.url}:`,e)}get status(){return this._status}isAvailable(){return this._status===5}isFlapping(){const e=this._connectionStats.durations;if(e.length%3!==0)return!1;const a=e.reduce((st,ft)=>st+ft,0)/e.length,tt=e.map(st=>Math.pow(st-a,2)).reduce((st,ft)=>st+ft,0)/e.length;return Math.sqrt(tt)<FLAPPING_THRESHOLD_MS}async onNotice(e){this.ndkRelay.emit("notice",e)}handleReconnection(e=0){if(this.reconnectTimeout)return;if(this.isFlapping()){this.ndkRelay.emit("flapping",this._connectionStats),this._status=3;return}const s=this.connectedAt?Math.max(0,6e4-(Date.now()-this.connectedAt)):5e3*(this._connectionStats.attempts+1);this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=void 0,this._status=2,this.connect().catch(a=>{e<MAX_RECONNECT_ATTEMPTS?setTimeout(()=>{this.handleReconnection(e+1)},1e3*(e+1)^4):this.debug("Reconnect failed")})},s),this.ndkRelay.emit("delayed-connect",s),this.debug("Reconnecting in",s),this._connectionStats.nextReconnectAt=Date.now()+s}async send(e){var s,a;this._status>=5&&((s=this.ws)==null?void 0:s.readyState)===WebSocket.OPEN?(a=this.ws)==null||a.send(e):this.debug(`Not connected to ${this.ndkRelay.url} (%d), not sending message ${e}`,this._status)}async auth(e){const s=new Promise((a,tt)=>{const nt=this.openEventPublishes.get(e.id)??[];nt.push({resolve:a,reject:tt}),this.openEventPublishes.set(e.id,nt)});return this.send('["AUTH",'+JSON.stringify(e.rawEvent())+"]"),s}async publish(e){const s=new Promise((a,tt)=>{const nt=this.openEventPublishes.get(e.id)??[];nt.length>0&&console.warn("Duplicate event publishing detected, you are publishing event "+e.id+" twice"),nt.push({resolve:a,reject:tt}),this.openEventPublishes.set(e.id,nt)});return this.send('["EVENT",'+JSON.stringify(e)+"]"),s}async count(e,s){this.serial++;const a=(s==null?void 0:s.id)||"count:"+this.serial,tt=new Promise((nt,ot)=>{this.openCountRequests.set(a,{resolve:nt,reject:ot})});return this.send('["COUNT","'+a+'",'+JSON.stringify(e).substring(1)),tt}close(e,s){this.send('["CLOSE","'+e+'"]');const a=this.openSubs.get(e);this.openSubs.delete(e),a&&a.onclose(s)}req(e){this.send('["REQ","'+e.subId+'",'+JSON.stringify(e.executeFilters).substring(1))+"",this.openSubs.set(e.subId,e)}get connectionStats(){return this._connectionStats}get url(){return this.ndkRelay.url}get connected(){var e;return this._status>=5&&((e=this.ws)==null?void 0:e.readyState)===WebSocket.OPEN}},NDKRelayPublisher=class{constructor(e){Nt(this,"ndkRelay");Nt(this,"debug");this.ndkRelay=e,this.debug=e.debug.extend("publisher")}async publish(e,s=2500){let a;const tt=()=>new Promise((mt,yt)=>{try{this.publishEvent(e).then(wt=>{this.ndkRelay.emit("published",e),e.emit("relay:published",this.ndkRelay),mt(!0)}).catch(yt)}catch(wt){yt(wt)}}),nt=new Promise((mt,yt)=>{a=setTimeout(()=>{a=void 0,yt(new Error("Timeout: "+s+"ms"))},s)}),ot=()=>{tt().then(mt=>st(mt)).catch(mt=>ft(mt))};let st,ft;const ht=mt=>{throw this.ndkRelay.debug("Publish failed",mt,e.id),this.ndkRelay.emit("publish:failed",e,mt),e.emit("relay:publish:failed",this.ndkRelay,mt),mt},gt=()=>{a&&clearTimeout(a),this.ndkRelay.removeListener("connect",ot)};return this.ndkRelay.status>=5?Promise.race([tt(),nt]).catch(ht).finally(gt):Promise.race([new Promise((mt,yt)=>{st=mt,ft=yt,this.ndkRelay.once("connect",ot)}),nt]).catch(ht).finally(gt)}async publishEvent(e){return this.ndkRelay.connectivity.publish(e.rawEvent())}};function filterFingerprint(e,s){const a=[];for(const nt of e){if(nt.since||nt.until)return;const st=Object.keys(nt||{}).sort().join("-");a.push(st)}let tt=s?"+":"";return tt+=a.join("|"),tt}function mergeFilters(e){const s={};return e.forEach(a=>{Object.entries(a).forEach(([tt,nt])=>{Array.isArray(nt)?s[tt]===void 0?s[tt]=[...nt]:s[tt]=Array.from(new Set([...s[tt],...nt])):s[tt]=nt})}),s}var NDKRelaySubscription=class{constructor(e,s){Nt(this,"fingerprint");Nt(this,"items",new Map);Nt(this,"topSubscriptionManager");Nt(this,"debug");Nt(this,"status",0);Nt(this,"onClose");Nt(this,"relay");Nt(this,"eosed",!1);Nt(this,"itemsToRemoveAfterEose",[]);Nt(this,"executionTimer");Nt(this,"fireTime");Nt(this,"delayType");Nt(this,"executeFilters");Nt(this,"eventIds",new Set);Nt(this,"_subId");Nt(this,"subIdParts",new Set);Nt(this,"executeOnRelayReady",()=>{this.status===2&&(this.status=1,this.execute())});Nt(this,"reExecuteAfterAuth",(()=>{const e=this.subId;this.debug("Re-executing after auth",this.items.size),this.relay.close(this.subId),this._subId=void 0,this.status=1,this.execute(),this.debug("Re-executed after auth %s  %s",e,this.subId)}).bind(this));this.relay=e;const a=Math.random().toString(36).substring(7);this.debug=e.debug.extend("subscription-"+a),this.fingerprint=s||Math.random().toString(36).substring(7)}get subId(){return this._subId?this._subId:(this._subId=this.fingerprint.slice(0,15),this._subId)}addSubIdPart(e){this.subIdParts.add(e)}addItem(e,s){if(!this.items.has(e.internalId))switch(e.on("close",this.removeItem.bind(this,e)),this.items.set(e.internalId,{subscription:e,filters:s}),this.status!==3&&e.subId&&(!this._subId||this._subId.length<48)&&(this.status===0||this.status===1)&&this.addSubIdPart(e.subId),this.status){case 0:this.evaluateExecutionPlan(e);break;case 3:break;case 1:this.evaluateExecutionPlan(e);break;case 4:throw this.debug("Subscription is closed, cannot add new items"),new Error("Cannot add new items to a closed subscription")}}removeItem(e){if(!this.eosed){this.itemsToRemoveAfterEose.push(e.internalId);return}this.items.delete(e.internalId),this.items.size===0&&this.close()}close(){if(this.status===4)return;const e=this.status;if(this.status=4,e===3)try{this.relay.close(this.subId)}catch(s){this.debug("Error closing subscription",s,this)}else this.debug("Subscription wanted to close but it wasn't running, this is probably ok",{subId:this.subId,prevStatus:e,sub:this});this.cleanup()}cleanup(){this.executionTimer&&clearTimeout(this.executionTimer),this.relay.off("ready",this.executeOnRelayReady),this.relay.off("authed",this.reExecuteAfterAuth),this.onClose&&this.onClose(this)}catchUpSubscription(e,s){this.debug("TODO: catch up subscription",e,s)}evaluateExecutionPlan(e){if(!e.isGroupable()){this.status=1,this.execute();return}const s=e.groupableDelay,a=e.groupableDelayType;if(!s)throw new Error("Cannot group a subscription without a delay");if(this.status===0)this.schedule(s,a);else{const tt=this.delayType,nt=this.fireTime-Date.now();if(tt==="at-least"&&a==="at-least")nt<s&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(s,a));else if(tt==="at-least"&&a==="at-most")nt>s&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(s,a));else if(tt==="at-most"&&a==="at-most")nt>s&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(s,a));else if(tt==="at-most"&&a==="at-least")nt>s&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(s,a));else throw new Error("Unknown delay type combination "+tt+" "+a)}}schedule(e,s){this.status=1;const a=Date.now();this.fireTime=a+e,this.delayType=s;const tt=setTimeout(this.execute.bind(this),e);s==="at-least"&&(this.executionTimer=tt)}finalizeSubId(){this.subIdParts.size>0?this._subId=Array.from(this.subIdParts).join("-"):this._subId=this.fingerprint.slice(0,15),this._subId+="-"+Math.random().toString(36).substring(2,7)}execute(){if(this.status===1){if(this.relay.connected)this.relay.status<8&&this.relay.once("authed",this.reExecuteAfterAuth);else{this.status=2,this.relay.once("ready",this.executeOnRelayReady);return}this.status=3,this.finalizeSubId(),this.executeFilters=this.compileFilters(),this.relay.req(this)}}onstart(){}onevent(e){var s;(s=this.topSubscriptionManager)==null||s.seenEvent(e.id,this.relay);for(const{subscription:a}of this.items.values())matchFilters(a.filters,e)&&a.eventReceived(e,this.relay,!1)}oneose(){this.eosed=!0;for(const{subscription:e}of this.items.values())e.eoseReceived(this.relay),e.closeOnEose&&this.removeItem(e)}onclose(e){this.status=4}onclosed(e){if(e)for(const{subscription:s}of this.items.values())s.closedReceived(this.relay,e)}compileFilters(){const e=[],s=Array.from(this.items.values()).map(tt=>tt.filters),a=s[0].length;for(let tt=0;tt<a;tt++){const nt=s.map(ot=>ot[tt]);e.push(mergeFilters(nt))}return e}},NDKRelaySubscriptionManager=class{constructor(e,s){Nt(this,"relay");Nt(this,"subscriptions");Nt(this,"topSubscriptionManager");Nt(this,"debug");this.relay=e,this.subscriptions=new Map,this.debug=e.debug.extend("sub-manager"),this.topSubscriptionManager=s}addSubscription(e,s){let a;if(!e.isGroupable())a=this.createSubscription(e,s);else{const tt=filterFingerprint(s,e.closeOnEose);tt&&(a=this.subscriptions.get(tt)),a??(a=this.createSubscription(e,s,tt))}a.addItem(e,s)}createSubscription(e,s,a){const tt=new NDKRelaySubscription(this.relay,a);return tt.topSubscriptionManager=this.topSubscriptionManager,tt.onClose=this.onRelaySubscriptionClose.bind(this),this.subscriptions.set(tt.fingerprint,tt),tt}onRelaySubscriptionClose(e){this.subscriptions.delete(e.fingerprint)}},an,NDKRelay=(an=class extends lib$1.EventEmitter{constructor(a,tt,nt){super();Nt(this,"url");Nt(this,"scores");Nt(this,"connectivity");Nt(this,"subs");Nt(this,"publisher");Nt(this,"authPolicy");Nt(this,"lowestValidationRatio");Nt(this,"targetValidationRatio");Nt(this,"validationRatioFn");Nt(this,"validatedEventCount",0);Nt(this,"nonValidatedEventCount",0);Nt(this,"trusted",!1);Nt(this,"complaining",!1);Nt(this,"debug");Nt(this,"req");Nt(this,"close");this.url=normalizeRelayUrl(a),this.scores=new Map,this.debug=debug7(`ndk:relay:${a}`),this.connectivity=new NDKRelayConnectivity(this,nt),this.req=this.connectivity.req.bind(this.connectivity),this.close=this.connectivity.close.bind(this.connectivity),this.subs=new NDKRelaySubscriptionManager(this,nt==null?void 0:nt.subManager),this.publisher=new NDKRelayPublisher(this),this.authPolicy=tt,this.targetValidationRatio=nt==null?void 0:nt.initialValidationRatio,this.lowestValidationRatio=nt==null?void 0:nt.lowestValidationRatio,this.validationRatioFn=((nt==null?void 0:nt.validationRatioFn)??an.defaultValidationRatioUpdateFn).bind(this),this.updateValidationRatio(),nt||console.trace("relay created without ndk")}updateValidationRatio(){setTimeout(()=>{this.updateValidationRatio()},3e4)}get status(){return this.connectivity.status}get connectionStats(){return this.connectivity.connectionStats}async connect(a,tt=!0){return this.connectivity.connect(a,tt)}disconnect(){this.status!==1&&this.connectivity.disconnect()}subscribe(a,tt){this.subs.addSubscription(a,tt)}async publish(a,tt=2500){return this.publisher.publish(a,tt)}referenceTags(){return[["r",this.url]]}addValidatedEvent(){this.validatedEventCount++}addNonValidatedEvent(){this.nonValidatedEventCount++}get validationRatio(){return this.nonValidatedEventCount===0?1:this.validatedEventCount/(this.validatedEventCount+this.nonValidatedEventCount)}shouldValidateEvent(){return this.trusted?!1:this.targetValidationRatio===void 0?!0:this.validationRatio<this.targetValidationRatio}get connected(){return this.connectivity.connected}},Nt(an,"defaultValidationRatioUpdateFn",(a,tt,nt)=>{if(a.lowestValidationRatio===void 0||a.targetValidationRatio===void 0)return 1;let ot=a.validationRatio;if(a.validationRatio>a.targetValidationRatio){const st=tt/100;ot=Math.max(a.lowestValidationRatio,a.validationRatio-st)}return ot<a.validationRatio?ot:a.validationRatio}),an),NDKPublishError=class extends Error{constructor(s,a,tt,nt){super(s);Nt(this,"errors");Nt(this,"publishedToRelays");Nt(this,"intendedRelaySet");this.errors=a,this.publishedToRelays=tt,this.intendedRelaySet=nt}get relayErrors(){const s=[];for(const[a,tt]of this.errors)s.push(`${a.url}: ${tt}`);return s.join(`
`)}},NDKRelaySet=class fn{constructor(s,a){Nt(this,"relays");Nt(this,"debug");Nt(this,"ndk");this.relays=s,this.ndk=a,this.debug=a.debug.extend("relayset")}addRelay(s){this.relays.add(s)}get relayUrls(){return Array.from(this.relays).map(s=>s.url)}static fromRelayUrls(s,a,tt=!0){const nt=new Set;for(const ot of s){const st=a.pool.relays.get(normalizeRelayUrl(ot));if(st)st.status<5&&tt&&st.connect(),nt.add(st);else{const ft=new NDKRelay(normalizeRelayUrl(ot),a==null?void 0:a.relayAuthDefaultPolicy,a);a.pool.useTemporaryRelay(ft,void 0,"requested from fromRelayUrls "+s),nt.add(ft)}}return new fn(new Set(nt),a)}async publish(s,a,tt=1){const nt=new Set,ot=new Map,st=s.isEphemeral();s.publishStatus="pending";const ft=Array.from(this.relays).map(ht=>new Promise(gt=>{ht.publish(s,a).then(mt=>{nt.add(ht),gt()}).catch(mt=>{st||ot.set(ht,mt),gt()})}));if(await Promise.all(ft),nt.size<tt){if(!st){const ht=new NDKPublishError("Not enough relays received the event",ot,nt,this);throw s.publishStatus="error",s.publishError=ht,this.ndk.emit("event:publish-failed",s,ht,this.relayUrls),ht}}else s.emit("published",{relaySet:this,publishedToRelays:nt});return nt}get size(){return this.relays.size}},d=debug7("ndk:outbox:calculate");async function calculateRelaySetFromEvent(e,s){var st;const a=new Set,tt=await getWriteRelaysFor(e,s.pubkey);tt&&tt.forEach(ft=>{var gt;const ht=(gt=e.pool)==null?void 0:gt.getRelay(ft);ht&&a.add(ht)});let nt=s.tags.filter(ft=>["a","e"].includes(ft[0])).map(ft=>ft[2]).filter(ft=>ft&&ft.startsWith("wss://")).filter(ft=>{try{return new URL(ft),!0}catch{return!1}}).map(ft=>normalizeRelayUrl(ft));nt=Array.from(new Set(nt)).slice(0,5),nt.forEach(ft=>{var gt;const ht=(gt=e.pool)==null?void 0:gt.getRelay(ft,!0,!0);ht&&(d("Adding relay hint %s",ft),a.add(ht))});const ot=s.getMatchingTags("p").map(ft=>ft[1]);return ot.length<5?Array.from(chooseRelayCombinationForPubkeys(e,ot,"read",{preferredRelays:new Set(tt)}).keys()).forEach(ht=>{var mt;const gt=(mt=e.pool)==null?void 0:mt.getRelay(ht,!1,!0);gt&&(d("Adding p-tagged relay %s",ht),a.add(gt))}):d("Too many p-tags to consider %d",ot.length),(st=e.pool)==null||st.permanentAndConnectedRelays().forEach(ft=>a.add(ft)),new NDKRelaySet(a,e)}function calculateRelaySetsFromFilter(e,s,a){const tt=new Map,nt=new Set;if(s.forEach(ot=>{ot.authors&&ot.authors.forEach(st=>nt.add(st))}),nt.size>0){const ot=getRelaysForFilterWithAuthors(e,Array.from(nt));for(const st of ot.keys())tt.set(st,[]);for(const st of s)if(st.authors)for(const[ft,ht]of ot.entries()){const gt=st.authors.filter(mt=>ht.includes(mt));tt.set(ft,[...tt.get(ft),{...st,authors:gt}])}else for(const ft of ot.keys())tt.set(ft,[...tt.get(ft),st])}else e.explicitRelayUrls&&e.explicitRelayUrls.forEach(ot=>{tt.set(ot,s)});return tt.size===0&&a.permanentAndConnectedRelays().slice(0,5).forEach(ot=>{tt.set(ot.url,s)}),tt.size===0&&console.warn("No relays found for filter",s),tt}function calculateRelaySetsFromFilters(e,s,a){return calculateRelaySetsFromFilter(e,s,a)}function mergeTags(e,s){const a=new Map,tt=st=>st.join(","),nt=(st,ft)=>st.every((ht,gt)=>ht===ft[gt]),ot=st=>{for(const[ft,ht]of a)if(nt(ht,st)||nt(st,ht)){st.length>=ht.length&&a.set(ft,st);return}a.set(tt(st),st)};return e.concat(s).forEach(ot),Array.from(a.values())}async function generateContentTags(e,s=[]){const a=/(@|nostr:)(npub|nprofile|note|nevent|naddr)[a-zA-Z0-9]+/g,tt=new RegExp(`(?<=\\s|^)(#[^\\s!@#$%^&*()=+./,[{\\]};:'"?><]+)`,"g"),nt=[],ot=st=>{s.find(ft=>["q",st[0]].includes(ft[0])&&ft[1]===st[1])||s.push(st)};return e=e.replace(a,st=>{try{const ft=st.split(/(@|nostr:)/)[2],{type:ht,data:gt}=nip19_exports.decode(ft);let mt;switch(ht){case"npub":mt=["p",gt];break;case"nprofile":mt=["p",gt.pubkey];break;case"note":nt.push(new Promise(async yt=>{ot(["e",gt,await maybeGetEventRelayUrl(ft),"mention"]),yt()}));break;case"nevent":nt.push(new Promise(async yt=>{const{id:wt,author:vt}=gt;let{relays:xt}=gt;(!xt||xt.length===0)&&(xt=[await maybeGetEventRelayUrl(ft)]),ot(["e",wt,xt[0],"mention"]),vt&&ot(["p",vt]),yt()}));break;case"naddr":nt.push(new Promise(async yt=>{const wt=[gt.kind,gt.pubkey,gt.identifier].join(":");let vt=gt.relays??[];vt.length===0&&(vt=[await maybeGetEventRelayUrl(ft)]),ot(["a",wt,vt[0],"mention"]),ot(["p",gt.pubkey]),yt()}));break;default:return st}return mt&&ot(mt),`nostr:${ft}`}catch{return st}}),await Promise.all(nt),e=e.replace(tt,(st,ft)=>{const ht=["t",ft.slice(1)];return s.find(gt=>gt[0]===ht[0]&&gt[1]===ht[1])||s.push(ht),st}),{content:e,tags:s}}async function maybeGetEventRelayUrl(e){return""}function isReplaceable(){if(this.kind===void 0)throw new Error("Kind not set");return[0,3].includes(this.kind)||this.kind>=1e4&&this.kind<2e4||this.kind>=3e4&&this.kind<4e4}function isEphemeral(){if(this.kind===void 0)throw new Error("Kind not set");return this.kind>=2e4&&this.kind<3e4}function isParamReplaceable(){if(this.kind===void 0)throw new Error("Kind not set");return this.kind>=3e4&&this.kind<4e4}async function encrypt(e,s){if(!this.ndk)throw new Error("No NDK instance found!");if(s||(await this.ndk.assertSigner(),s=this.ndk.signer),!e){const a=this.getMatchingTags("p");if(a.length!==1)throw new Error("No recipient could be determined and no explicit recipient was provided");e=this.ndk.getUser({pubkey:a[0][1]})}this.content=await(s==null?void 0:s.encrypt(e,this.content))}async function decrypt(e,s){if(!this.ndk)throw new Error("No NDK instance found!");s||(await this.ndk.assertSigner(),s=this.ndk.signer),e||(e=this.author),this.content=await(s==null?void 0:s.decrypt(e,this.content))}function encode(){let e=[];return this.onRelays.length>0?e=this.onRelays.map(s=>s.url):this.relay&&(e=[this.relay.url]),this.isParamReplaceable()?nip19_exports.naddrEncode({kind:this.kind,pubkey:this.pubkey,identifier:this.replaceableDTag(),relays:e}):e.length>0?nip19_exports.neventEncode({id:this.tagId(),relays:e,author:this.pubkey}):nip19_exports.noteEncode(this.tagId())}async function repost(e=!0,s){if(!s&&e){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner(),s=this.ndk.signer}const a=new NDKEvent(this.ndk,{kind:getKind(this),content:""});return a.tag(this),a.kind===16?a.tags.push(["k",`${this.kind}`]):a.content=JSON.stringify(this.rawEvent()),s&&await a.sign(s),e&&await a.publish(),a}function getKind(e){return e.kind===1?6:16}function eventHasETagMarkers(e){return e.getMatchingTags("e").some(s=>s[3])}function getRootTag(e,s){s??(s=e.tagType());const a=e.tags.find(tt=>tt[3]==="root");if(!a){if(eventHasETagMarkers(e))return;const tt=e.getMatchingTags(s);if(tt.length<3)return tt[0]}return a}function getReplyTag(e,s){s??(s=e.tagType());let a=e.tags.find(tt=>tt[3]==="reply");if(a)return a;if(a||(a=e.tags.find(tt=>tt[3]==="root")),!a){if(eventHasETagMarkers(e))return;const tt=e.getMatchingTags(s);if(tt.length===1)return tt[0];if(tt.length===2)return tt[1]}}async function fetchTaggedEvent(e,s){if(!this.ndk)throw new Error("NDK instance not found");const a=this.getMatchingTags(e,s);if(a.length===0)return;const[tt,nt,ot]=a[0];return await this.ndk.fetchEvent(nt,{},void 0)}async function fetchRootEvent(e){if(!this.ndk)throw new Error("NDK instance not found");const s=getRootTag(this);if(s)return this.ndk.fetchEventFromTag(s,this,e)}async function fetchReplyEvent(e){if(!this.ndk)throw new Error("NDK instance not found");const s=getReplyTag(this);if(s)return this.ndk.fetchEventFromTag(s,this,e)}function serialize(e=!1,s=!1){const a=[0,this.pubkey,this.created_at,this.kind,this.tags,this.content];return e&&a.push(this.sig),s&&a.push(this.id),JSON.stringify(a)}function deserialize(e){const s=JSON.parse(e),a={pubkey:s[1],created_at:s[2],kind:s[3],tags:s[4],content:s[5]};return s.length===7&&(a.sig=s[6]),s.length===8&&(a.id=s[7]),a}var worker,processingQueue={};function signatureVerificationInit(e){worker=e,worker.onmessage=s=>{const[a,tt]=s.data,nt=processingQueue[a];if(!nt){console.error("No record found for event",a);return}delete processingQueue[a];for(const ot of nt.resolves)ot(tt)}}async function verifySignatureAsync(e,s){return new Promise(tt=>{const nt=e.serialize();let ot=!1;processingQueue[e.id]||(processingQueue[e.id]={event:e,resolves:[]},ot=!0),processingQueue[e.id].resolves.push(tt),ot&&worker.postMessage({serialized:nt,id:e.id,sig:e.sig,pubkey:e.pubkey})})}var PUBKEY_REGEX=/^[a-f0-9]{64}$/;function validate(){if(typeof this.kind!="number"||typeof this.content!="string"||typeof this.created_at!="number"||typeof this.pubkey!="string"||!this.pubkey.match(PUBKEY_REGEX)||!Array.isArray(this.tags))return!1;for(let e=0;e<this.tags.length;e++){const s=this.tags[e];if(!Array.isArray(s))return!1;for(let a=0;a<s.length;a++)if(typeof s[a]=="object")return!1}return!0}var verifiedSignatures=new dist.LRUCache({maxSize:1e3,entryExpirationTimeInMS:6e4});function verifySignature(e){var a;if(typeof this.signatureVerified=="boolean")return this.signatureVerified;const s=verifiedSignatures.get(this.id);if(s!==null)return this.signatureVerified=!!s;try{if((a=this.ndk)!=null&&a.asyncSigVerification)verifySignatureAsync(this,e).then(tt=>{e&&(this.signatureVerified=tt,tt&&verifiedSignatures.set(this.id,this.sig)),tt||(this.ndk.emit("event:invalid-sig",this),verifiedSignatures.set(this.id,!1))});else{const tt=sha256$2(new TextEncoder().encode(this.serialize())),nt=schnorr.verify(this.sig,tt,this.pubkey);return nt?verifiedSignatures.set(this.id,this.sig):verifiedSignatures.set(this.id,!1),this.signatureVerified=nt}}catch{return this.signatureVerified=!1}}function getEventHash(){return getEventHashFromSerializedEvent(this.serialize())}function getEventHashFromSerializedEvent(e){const s=sha256$2(new TextEncoder().encode(e));return bytesToHex$3(s)}var skipClientTagOnKinds=[3],NDKEvent=class ln extends lib$1.EventEmitter{constructor(a,tt){var nt;super();Nt(this,"ndk");Nt(this,"created_at");Nt(this,"content","");Nt(this,"tags",[]);Nt(this,"kind");Nt(this,"id","");Nt(this,"sig");Nt(this,"pubkey","");Nt(this,"signatureVerified");Nt(this,"_author");Nt(this,"relay");Nt(this,"publishStatus","success");Nt(this,"publishError");Nt(this,"serialize",serialize.bind(this));Nt(this,"getEventHash",getEventHash.bind(this));Nt(this,"validate",validate.bind(this));Nt(this,"verifySignature",verifySignature.bind(this));Nt(this,"isReplaceable",isReplaceable.bind(this));Nt(this,"isEphemeral",isEphemeral.bind(this));Nt(this,"isParamReplaceable",isParamReplaceable.bind(this));Nt(this,"encode",encode.bind(this));Nt(this,"encrypt",encrypt.bind(this));Nt(this,"decrypt",decrypt.bind(this));Nt(this,"fetchTaggedEvent",fetchTaggedEvent.bind(this));Nt(this,"fetchRootEvent",fetchRootEvent.bind(this));Nt(this,"fetchReplyEvent",fetchReplyEvent.bind(this));Nt(this,"repost",repost.bind(this));this.ndk=a,this.created_at=tt==null?void 0:tt.created_at,this.content=(tt==null?void 0:tt.content)||"",this.tags=(tt==null?void 0:tt.tags)||[],this.id=(tt==null?void 0:tt.id)||"",this.sig=tt==null?void 0:tt.sig,this.pubkey=(tt==null?void 0:tt.pubkey)||"",this.kind=tt==null?void 0:tt.kind,tt instanceof ln&&(this.relay&&(this.relay=tt.relay,(nt=this.ndk)==null||nt.subManager.seenEvent(tt.id,this.relay)),this.publishStatus=tt.publishStatus,this.publishError=tt.publishError)}get onRelays(){let a=[];return this.ndk?a=this.ndk.subManager.seenEvents.get(this.id)||[]:this.relay&&a.push(this.relay),a}static deserialize(a,tt){return new ln(a,deserialize(tt))}rawEvent(){return{created_at:this.created_at,content:this.content,tags:this.tags,kind:this.kind,pubkey:this.pubkey,id:this.id,sig:this.sig}}set author(a){var tt;this.pubkey=a.pubkey,this._author=a,(tt=this._author).ndk??(tt.ndk=this.ndk)}get author(){if(this._author)return this._author;if(!this.ndk)throw new Error("No NDK instance found");const a=this.ndk.getUser({pubkey:this.pubkey});return this._author=a,a}tag(a,tt,nt,ot){let st=[];if(a.fetchProfile!==void 0){ot??(ot="p");const ht=[ot,a.pubkey];tt&&ht.push("",tt),st.push(ht)}else if(a instanceof ln){const ht=a;nt??(nt=(ht==null?void 0:ht.pubkey)===this.pubkey),st=ht.referenceTags(tt,nt,ot);for(const gt of ht.getMatchingTags("p"))gt[1]!==this.pubkey&&(this.tags.find(mt=>mt[0]==="p"&&mt[1]===gt[1])||this.tags.push(["p",gt[1]]))}else if(Array.isArray(a))st=[a];else throw new Error("Invalid argument",a);this.tags=mergeTags(this.tags,st)}async toNostrEvent(a){var ot,st;if(!a&&this.pubkey===""){const ft=await((st=(ot=this.ndk)==null?void 0:ot.signer)==null?void 0:st.user());this.pubkey=(ft==null?void 0:ft.pubkey)||""}this.created_at||(this.created_at=Math.floor(Date.now()/1e3));const{content:tt,tags:nt}=await this.generateTags();this.content=tt||"",this.tags=nt;try{this.id=this.getEventHash()}catch{}return this.rawEvent()}getMatchingTags(a,tt){const nt=this.tags.filter(ot=>ot[0]===a);return tt===void 0?nt:nt.filter(ot=>ot[3]===tt)}hasTag(a,tt){return this.tags.some(nt=>nt[0]===a&&(!tt||nt[3]===tt))}tagValue(a){const tt=this.getMatchingTags(a);if(tt.length!==0)return tt[0][1]}get alt(){return this.tagValue("alt")}set alt(a){this.removeTag("alt"),a&&this.tags.push(["alt",a])}get dTag(){return this.tagValue("d")}set dTag(a){this.removeTag("d"),a&&this.tags.push(["d",a])}removeTag(a){const tt=Array.isArray(a)?a:[a];this.tags=this.tags.filter(nt=>!tt.includes(nt[0]))}async sign(a){var nt;a?this.author=await a.user():((nt=this.ndk)==null||nt.assertSigner(),a=this.ndk.signer);const tt=await this.toNostrEvent();return this.sig=await a.sign(tt),this.sig}async publishReplaceable(a,tt,nt){return this.id="",this.created_at=Math.floor(Date.now()/1e3),this.sig="",this.publish(a,tt,nt)}async publish(a,tt,nt){var ft,ht;if(this.sig||await this.sign(),!this.ndk)throw new Error("NDKEvent must be associated with an NDK instance to publish");a||(a=this.ndk.devWriteRelaySet||await calculateRelaySetFromEvent(this.ndk,this)),this.kind===5&&((ft=this.ndk.cacheAdapter)!=null&&ft.deleteEvent)&&this.ndk.cacheAdapter.deleteEvent(this);const ot=this.rawEvent();if((ht=this.ndk.cacheAdapter)!=null&&ht.addUnpublishedEvent)try{this.ndk.cacheAdapter.addUnpublishedEvent(this,a.relayUrls)}catch(gt){console.error("Error adding unpublished event to cache",gt)}this.ndk.subManager.subscriptions.forEach(gt=>{gt.filters.some(mt=>matchFilter(mt,ot))&&gt.eventReceived(this,void 0,!1,!0)});const st=await a.publish(this,tt,nt);return st.forEach(gt=>{var mt;return(mt=this.ndk)==null?void 0:mt.subManager.seenEvent(this.id,gt)}),st}async generateTags(){var ot,st;let a=[];const tt=await generateContentTags(this.content,this.tags),nt=tt.content;if(a=tt.tags,this.kind&&this.isParamReplaceable()&&!this.getMatchingTags("d")[0]){const ht=this.tagValue("title");let mt=[...Array(ht?6:16)].map(()=>Math.random().toString(36)[2]).join("");ht&&ht.length>0&&(mt=ht.replace(/[^a-z0-9]+/gi,"-").replace(/^-|-$/g,"")+"-"+mt),a.push(["d",mt])}if(((ot=this.ndk)!=null&&ot.clientName||(st=this.ndk)!=null&&st.clientNip89)&&skipClientTagOnKinds.includes(this.kind)&&!this.tags.some(ft=>ft[0]==="client")){const ft=["client",this.ndk.clientName??""];this.ndk.clientNip89&&ft.push(this.ndk.clientNip89),a.push(ft)}return{content:nt||"",tags:a}}muted(){var ot,st;const a=(ot=this.ndk)==null?void 0:ot.mutedIds.get(this.pubkey);if(a&&a==="p")return"author";const tt=this.tagReference(),nt=(st=this.ndk)==null?void 0:st.mutedIds.get(tt[1]);return nt&&nt===tt[0]?"event":null}replaceableDTag(){if(this.kind&&this.kind>=3e4&&this.kind<=4e4){const a=this.getMatchingTags("d")[0];return a?a[1]:""}throw new Error("Event is not a parameterized replaceable event")}deduplicationKey(){return this.kind===0||this.kind===3||this.kind&&this.kind>=1e4&&this.kind<2e4?`${this.kind}:${this.pubkey}`:this.tagId()}tagId(){return this.isParamReplaceable()?this.tagAddress():this.id}tagAddress(){if(!this.isParamReplaceable())throw new Error("This must only be called on replaceable events");const a=this.replaceableDTag();return`${this.kind}:${this.pubkey}:${a}`}tagType(){return this.isParamReplaceable()?"a":"e"}tagReference(a){let tt;return this.isParamReplaceable()?tt=["a",this.tagAddress()]:tt=["e",this.tagId()],this.relay?tt.push(this.relay.url):tt.push(""),a&&tt.push(a),tt}referenceTags(a,tt,nt){var st;let ot=[];return this.isParamReplaceable()?ot=[[nt??"a",this.tagAddress()],[nt??"e",this.id]]:ot=[[nt??"e",this.id]],(st=this.relay)!=null&&st.url?ot=ot.map(ft=>{var ht;return ft.push((ht=this.relay)==null?void 0:ht.url),ft}):a&&(ot=ot.map(ft=>(ft.push(""),ft))),a&&ot.forEach(ft=>ft.push(a)),ot=[...ot,...this.getMatchingTags("h")],tt||ot.push(...this.author.referenceTags()),ot}filter(){return this.isParamReplaceable()?{"#a":[this.tagId()]}:{"#e":[this.tagId()]}}async delete(a,tt=!0){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner();const nt=new ln(this.ndk,{kind:5,content:a||""});return nt.tag(this,void 0,!0),nt.tags.push(["k",this.kind.toString()]),tt&&await nt.publish(),nt}async react(a,tt=!0){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner();const nt=new ln(this.ndk,{kind:7,content:a});return nt.tag(this),tt?await nt.publish():await nt.sign(),nt}get isValid(){return this.validate()}};function queryFullyFilled(e){return!!(filterIncludesIds(e.filter)&&resultHasAllRequestedIds(e))}function filterIncludesIds(e){return!!e.ids}function resultHasAllRequestedIds(e){const s=e.filter.ids;return!!s&&s.length===e.eventFirstSeen.size}function filterFromId(e){let s;if(e.match(NIP33_A_REGEX)){const[a,tt,nt]=e.split(":"),ot={authors:[tt],kinds:[parseInt(a)]};return nt&&(ot["#d"]=[nt]),ot}if(e.match(BECH32_REGEX))try{switch(s=nip19_exports.decode(e),s.type){case"nevent":{const tt={ids:[s.data.id]};return s.data.author&&(tt.authors=[s.data.author]),s.data.kind&&(tt.kinds=[s.data.kind]),tt}case"note":return{ids:[s.data]};case"naddr":const a={authors:[s.data.pubkey],kinds:[s.data.kind]};return s.data.identifier&&(a["#d"]=[s.data.identifier]),a}}catch(a){console.error("Error decoding",e,a)}return{ids:[e]}}function isNip33AValue(e){return e.match(NIP33_A_REGEX)!==null}var NIP33_A_REGEX=/^(\d+):([0-9A-Fa-f]+)(?::(.*))?$/,BECH32_REGEX=/^n(event|ote|profile|pub|addr)1[\d\w]+$/;function relaysFromBech32(e,s){try{const a=nip19_exports.decode(e);if(["naddr","nevent"].includes(a==null?void 0:a.type)){const tt=a.data;if(tt!=null&&tt.relays)return tt.relays.map(nt=>new NDKRelay(nt,s==null?void 0:s.relayAuthDefaultPolicy,s))}}catch{}return[]}var defaultOpts={closeOnEose:!1,cacheUsage:"CACHE_FIRST",groupable:!0,groupableDelay:100,groupableDelayType:"at-most"},NDKSubscription=class extends lib$1.EventEmitter{constructor(s,a,tt,nt,ot){super();Nt(this,"subId");Nt(this,"filters");Nt(this,"opts");Nt(this,"pool");Nt(this,"skipVerification",!1);Nt(this,"skipValidation",!1);Nt(this,"relayFilters");Nt(this,"relaySet");Nt(this,"ndk");Nt(this,"debug");Nt(this,"eventFirstSeen",new Map);Nt(this,"eosesSeen",new Set);Nt(this,"lastEventReceivedAt");Nt(this,"internalId");Nt(this,"closeOnEose");Nt(this,"poolMonitor");Nt(this,"eoseTimeout");Nt(this,"eosed",!1);if(this.ndk=s,this.pool=(tt==null?void 0:tt.pool)||s.pool,this.opts={...defaultOpts,...tt||{}},this.filters=a instanceof Array?a:[a],this.subId=ot||(tt==null?void 0:tt.subId),this.internalId=Math.random().toString(36).substring(7),this.relaySet=nt,this.debug=s.debug.extend(`subscription[${(tt==null?void 0:tt.subId)??this.internalId}]`),this.skipVerification=(tt==null?void 0:tt.skipVerification)||!1,this.skipValidation=(tt==null?void 0:tt.skipValidation)||!1,this.closeOnEose=(tt==null?void 0:tt.closeOnEose)||!1,this.opts.cacheUsage==="ONLY_CACHE"&&!this.opts.closeOnEose)throw new Error("Cannot use cache-only options with a persistent subscription")}relaysMissingEose(){return this.relayFilters?Array.from(this.relayFilters.keys()).filter(a=>!this.eosesSeen.has(this.pool.getRelay(a,!1,!1))):[]}get filter(){return this.filters[0]}get groupableDelay(){var s;if(this.isGroupable())return(s=this.opts)==null?void 0:s.groupableDelay}get groupableDelayType(){var s;return((s=this.opts)==null?void 0:s.groupableDelayType)||"at-most"}isGroupable(){var s;return((s=this.opts)==null?void 0:s.groupable)||!1}shouldQueryCache(){var s;return((s=this.opts)==null?void 0:s.cacheUsage)!=="ONLY_RELAY"}shouldQueryRelays(){var s;return((s=this.opts)==null?void 0:s.cacheUsage)!=="ONLY_CACHE"}shouldWaitForCache(){var s;return this.opts.closeOnEose&&!!((s=this.ndk.cacheAdapter)!=null&&s.locking)&&this.opts.cacheUsage!=="PARALLEL"}async start(){let s;if(this.shouldQueryCache()&&(s=this.startWithCache(),this.shouldWaitForCache()&&(await s,queryFullyFilled(this)))){this.emit("eose",this);return}this.shouldQueryRelays()?(this.startWithRelays(),this.startPoolMonitor()):this.emit("eose",this)}startPoolMonitor(){this.debug.extend("pool-monitor"),this.poolMonitor=s=>{var tt,nt;if((tt=this.relayFilters)!=null&&tt.has(s.url))return;calculateRelaySetsFromFilters(this.ndk,this.filters,this.pool).get(s.url)&&((nt=this.relayFilters)==null||nt.set(s.url,this.filters),s.subscribe(this,this.filters))},this.pool.on("relay:connect",this.poolMonitor)}stop(){this.emit("close",this),this.poolMonitor&&this.pool.off("relay:connect",this.poolMonitor),this.removeAllListeners()}hasAuthorsFilter(){return this.filters.some(s=>{var a;return(a=s.authors)==null?void 0:a.length})}async startWithCache(){var s;if((s=this.ndk.cacheAdapter)!=null&&s.query){const a=this.ndk.cacheAdapter.query(this);this.ndk.cacheAdapter.locking&&await a}}startWithRelays(){if(!this.relaySet)this.relayFilters=calculateRelaySetsFromFilters(this.ndk,this.filters,this.pool);else{this.relayFilters=new Map;for(const s of this.relaySet.relays)this.relayFilters.set(s.url,this.filters)}if(!(!this.relayFilters||this.relayFilters.size===0))for(const[s,a]of this.relayFilters)this.pool.getRelay(s,!0,!0,a).subscribe(this,a)}eventReceived(s,a,tt=!1,nt=!1){const ot=s.id,st=this.eventFirstSeen.has(ot);let ft;if(s instanceof NDKEvent&&(ft=s),st){const ht=Date.now()-(this.eventFirstSeen.get(ot)||0);if(this.emit("event:dup",ot,a,ht,this),a){const gt=verifiedSignatures.get(ot);gt&&typeof gt=="string"&&s.sig===gt&&a.addValidatedEvent()}}else{if(ft??(ft=new NDKEvent(this.ndk,s)),ft.ndk=this.ndk,ft.relay=a,!tt&&!nt){if(!this.skipValidation&&!ft.isValid){this.debug("Event failed validation %s from relay %s",ot,a==null?void 0:a.url);return}if(a)if((a==null?void 0:a.shouldValidateEvent())!==!1){if(!this.skipVerification)if(!ft.verifySignature(!0)&&!this.ndk.asyncSigVerification){this.debug("Event failed signature validation",s);return}else a&&a.addValidatedEvent()}else a.addNonValidatedEvent();this.ndk.cacheAdapter&&this.ndk.cacheAdapter.setEvent(ft,this.filters,a)}!tt&&a&&this.ndk.emit("event",ft,a),this.emit("event",ft,a,this),this.eventFirstSeen.set(ot,Date.now())}this.lastEventReceivedAt=Date.now()}closedReceived(s,a){this.emit("closed",s,a)}eoseReceived(s){var st;this.debug("Received EOSE from %s",s.url),this.eosesSeen.add(s);let a=this.lastEventReceivedAt?Date.now()-this.lastEventReceivedAt:void 0;const tt=this.eosesSeen.size===((st=this.relayFilters)==null?void 0:st.size),nt=queryFullyFilled(this),ot=ft=>{var ht;this.eosed||(this.eoseTimeout&&clearTimeout(this.eoseTimeout),this.debug(`Performing EOSE: ${ft}`),this.emit("eose",this),this.eosed=!0,(ht=this.opts)!=null&&ht.closeOnEose&&this.stop())};if(nt||tt)ot("query filled or seen all");else if(this.relayFilters){let ft=1e3;const ht=new Set(this.pool.connectedRelays().map(yt=>yt.url)),gt=Array.from(this.relayFilters.keys()).filter(yt=>ht.has(yt));if(gt.length===0)return;const mt=this.eosesSeen.size/gt.length;if(this.eosesSeen.size>=2&&mt>=.5){if(ft=ft*(1-mt),ft===0){ot("tiem to wait was 0");return}this.eoseTimeout&&clearTimeout(this.eoseTimeout);const yt=()=>{a=this.lastEventReceivedAt?Date.now()-this.lastEventReceivedAt:void 0,a!==void 0&&a<20?this.eoseTimeout=setTimeout(yt,ft):ot("send eose timeout: "+ft)};this.eoseTimeout=setTimeout(yt,ft)}}}};async function follows(e,s,a=3){var nt,ot;if(!this.ndk)throw new Error("NDK not set");const tt=await this.ndk.fetchEvent({kinds:[a],authors:[this.pubkey]},e||{groupable:!1});if(tt){const st=new Set;return tt.tags.forEach(ft=>{ft[0]==="p"&&st.add(ft[1])}),s&&((ot=(nt=this.ndk)==null?void 0:nt.outboxTracker)==null||ot.trackUsers(Array.from(st))),[...st].reduce((ft,ht)=>{const gt=new NDKUser({pubkey:ht});return gt.ndk=this.ndk,ft.add(gt),ft},new Set)}return new Set}function profileFromEvent(e){const s={};let a;try{a=JSON.parse(e.content)}catch(tt){throw new Error(`Failed to parse profile event: ${tt}`)}return s.created_at=e.created_at,s.profileEvent=JSON.stringify(e.rawEvent()),Object.keys(a).forEach(tt=>{switch(tt){case"name":s.name=a.name;break;case"display_name":s.displayName=a.display_name;break;case"image":case"picture":s.image=a.picture||a.image;break;case"banner":s.banner=a.banner;break;case"bio":s.bio=a.bio;break;case"nip05":s.nip05=a.nip05;break;case"lud06":s.lud06=a.lud06;break;case"lud16":s.lud16=a.lud16;break;case"about":s.about=a.about;break;case"zapService":s.zapService=a.zapService;break;case"website":s.website=a.website;break;default:s[tt]=a[tt];break}}),s}function serializeProfile(e){const s={};for(const[a,tt]of Object.entries(e))switch(a){case"username":case"name":s.name=tt;break;case"displayName":s.display_name=tt;break;case"image":case"picture":s.picture=tt;break;case"bio":case"about":s.about=tt;break;default:s[a]=tt;break}return JSON.stringify(s)}var NIP05_REGEX=/^(?:([\w.+-]+)@)?([\w.-]+)$/;async function getNip05For(e,s,a=fetch,tt={}){return await e.queuesNip05.add({id:s,func:async()=>{if(e.cacheAdapter&&e.cacheAdapter.loadNip05){const ht=await e.cacheAdapter.loadNip05(s);if(ht!=="missing"){if(ht){const gt=new NDKUser({pubkey:ht.pubkey,relayUrls:ht.relays,nip46Urls:ht.nip46});return gt.ndk=e,gt}else if(tt.cache!=="no-cache")return null}}const nt=s.match(NIP05_REGEX);if(!nt)return null;const[ot,st="_",ft]=nt;try{const ht=await a(`https://${ft}/.well-known/nostr.json?name=${st}`,tt),{names:gt,relays:mt,nip46:yt}=parseNIP05Result(await ht.json()),wt=gt[st.toLowerCase()];let vt=null;return wt&&(vt={pubkey:wt,relays:mt==null?void 0:mt[wt],nip46:yt==null?void 0:yt[wt]}),e!=null&&e.cacheAdapter&&e.cacheAdapter.saveNip05&&e.cacheAdapter.saveNip05(s,vt),vt}catch(ht){return e!=null&&e.cacheAdapter&&e.cacheAdapter.saveNip05&&(e==null||e.cacheAdapter.saveNip05(s,null)),console.error("Failed to fetch NIP05 for",s,ht),null}}})}function parseNIP05Result(e){const s={names:{}};for(const[a,tt]of Object.entries(e.names))typeof a=="string"&&typeof tt=="string"&&(s.names[a.toLowerCase()]=tt);if(e.relays){s.relays={};for(const[a,tt]of Object.entries(e.relays))typeof a=="string"&&Array.isArray(tt)&&(s.relays[a]=tt.filter(nt=>typeof nt=="string"))}if(e.nip46){s.nip46={};for(const[a,tt]of Object.entries(e.nip46))typeof a=="string"&&Array.isArray(tt)&&(s.nip46[a]=tt.filter(nt=>typeof nt=="string"))}return s}var on,NDKCashuMintList=(on=class extends NDKEvent{constructor(a,tt){super(a,tt);Nt(this,"_p2pk");this.kind??(this.kind=10019)}static from(a){return new on(a.ndk,a)}set relays(a){this.tags=this.tags.filter(tt=>tt[0]!=="relay");for(const tt of a)this.tags.push(["relay",tt])}get relays(){const a=[];for(const tt of this.tags)tt[0]==="relay"&&a.push(tt[1]);return a}set mints(a){this.tags=this.tags.filter(tt=>tt[0]!=="mint");for(const tt of a)this.tags.push(["mint",tt])}get mints(){const a=[];for(const tt of this.tags)tt[0]==="mint"&&a.push(tt[1]);return Array.from(new Set(a))}get p2pk(){return this._p2pk?this._p2pk:(this._p2pk=this.tagValue("pubkey")??this.pubkey,this._p2pk)}set p2pk(a){this._p2pk=a,this.removeTag("pubkey"),a&&this.tags.push(["pubkey",a])}get relaySet(){return NDKRelaySet.fromRelayUrls(this.relays,this.ndk)}},Nt(on,"kind",10019),Nt(on,"kinds",[10019]),on),d2=debug7("ndk:zapper:ln");async function getNip57ZapSpecFromLud({lud06:e,lud16:s},a){let tt;if(s&&!s.startsWith("LNURL")){const[nt,ot]=s.split("@");tt=`https://${ot}/.well-known/lnurlp/${nt}`}else if(e){const{words:nt}=bech32$2.decode(e,1e3),ot=bech32$2.fromWords(nt);tt=new TextDecoder("utf-8").decode(ot)}if(!tt)throw d2("No zap endpoint found %o",{lud06:e,lud16:s}),new Error("No zap endpoint found");try{const ot=await(a.httpFetch||fetch)(tt);if(ot.status!==200){const st=await ot.text();throw new Error(`Unable to fetch zap endpoint ${tt}: ${st}`)}return await ot.json()}catch(nt){throw new Error(`Unable to fetch zap endpoint ${tt}: ${nt}`)}}var NDKUser=class dn{constructor(s){Nt(this,"ndk");Nt(this,"profile");Nt(this,"_npub");Nt(this,"_pubkey");Nt(this,"relayUrls",[]);Nt(this,"nip46Urls",[]);Nt(this,"follows",follows.bind(this));s.npub&&(this._npub=s.npub),s.hexpubkey&&(this._pubkey=s.hexpubkey),s.pubkey&&(this._pubkey=s.pubkey),s.relayUrls&&(this.relayUrls=s.relayUrls),s.nip46Urls&&(this.nip46Urls=s.nip46Urls)}get npub(){if(!this._npub){if(!this._pubkey)throw new Error("pubkey not set");this._npub=nip19_exports.npubEncode(this.pubkey)}return this._npub}set npub(s){this._npub=s}get hexpubkey(){return this.pubkey}set hexpubkey(s){this._pubkey=s}get pubkey(){if(!this._pubkey){if(!this._npub)throw new Error("npub not set");this._pubkey=nip19_exports.decode(this.npub).data}return this._pubkey}set pubkey(s){this._pubkey=s}async getZapInfo(s=!0,a=["nip61","nip57"]){if(!this.ndk)throw new Error("No NDK instance found");const tt=[];if(a.includes("nip61")&&tt.push(10019),a.includes("nip57")&&tt.push(0),tt.length===0)return[];let nt=await this.ndk.fetchEvents({kinds:tt,authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",groupable:!1});nt.size<a.length&&(nt=await this.ndk.fetchEvents({kinds:tt,authors:[this.pubkey]},{cacheUsage:"ONLY_RELAY"}));const ot=[],st=Array.from(nt).find(ht=>ht.kind===10019),ft=Array.from(nt).find(ht=>ht.kind===0);if(st){const ht=NDKCashuMintList.from(st);if(ht.mints.length>0&&ot.push({type:"nip61",data:{mints:ht.mints,relays:ht.relays,p2pk:ht.p2pk}}),!s)return ot}if(ft){const ht=profileFromEvent(ft),{lud06:gt,lud16:mt}=ht;try{const yt=await getNip57ZapSpecFromLud({lud06:gt,lud16:mt},this.ndk);yt&&ot.push({type:"nip57",data:yt})}catch(yt){console.error("Error getting NIP-57 zap spec",yt)}}return ot}async getZapConfiguration(s){if(s??(s=this.ndk),!s)throw new Error("No NDK instance found");const a=async()=>{var nt,ot,st,ft;if((ot=(nt=this.ndk)==null?void 0:nt.cacheAdapter)!=null&&ot.loadUsersLNURLDoc){const ht=await this.ndk.cacheAdapter.loadUsersLNURLDoc(this.pubkey);if(ht!=="missing"){if(ht===null)return;if(ht)return ht}}let tt;try{if(await this.fetchProfile({groupable:!1}),this.profile){const{lud06:ht,lud16:gt}=this.profile;tt=await getNip57ZapSpecFromLud({lud06:ht,lud16:gt},s)}}catch{}if((ft=(st=this.ndk)==null?void 0:st.cacheAdapter)!=null&&ft.saveUsersLNURLDoc&&this.ndk.cacheAdapter.saveUsersLNURLDoc(this.pubkey,tt||null),!!tt)return tt};return await s.queuesZapConfig.add({id:this.pubkey,func:a})}async getZapperPubkey(){const s=await this.getZapConfiguration();return s==null?void 0:s.nostrPubkey}static async fromNip05(s,a,tt=!1){if(!a)throw new Error("No NDK instance found");const nt={};tt&&(nt.cache="no-cache");const ot=await getNip05For(a,s,a==null?void 0:a.httpFetch,nt);if(ot){const st=new dn({pubkey:ot.pubkey,relayUrls:ot.relays,nip46Urls:ot.nip46});return st.ndk=a,st}}async fetchProfile(s,a=!1){if(!this.ndk)throw new Error("NDK not set");this.profile||(this.profile={});let tt=null;if(this.ndk.cacheAdapter&&this.ndk.cacheAdapter.fetchProfile&&(s==null?void 0:s.cacheUsage)!=="ONLY_RELAY"){const st=await this.ndk.cacheAdapter.fetchProfile(this.pubkey);if(st)return this.profile=st,st}!s&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.locking&&(tt=await this.ndk.fetchEvents({kinds:[0],authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",closeOnEose:!0,groupable:!1}),s={cacheUsage:"ONLY_RELAY",closeOnEose:!0,groupable:!0,groupableDelay:250}),(!tt||tt.size===0)&&(tt=await this.ndk.fetchEvents({kinds:[0],authors:[this.pubkey]},s));const nt=Array.from(tt).sort((st,ft)=>st.created_at-ft.created_at);if(nt.length===0)return null;const ot=nt[0];return this.profile=profileFromEvent(ot),a&&(this.profile.profileEvent=JSON.stringify(ot)),this.profile&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.saveProfile&&this.ndk.cacheAdapter.saveProfile(this.pubkey,this.profile),this.profile}tagReference(){return["p",this.pubkey]}referenceTags(s){const a=[["p",this.pubkey]];return s&&a[0].push("",s),a}async publish(){if(!this.ndk)throw new Error("No NDK instance found");if(!this.profile)throw new Error("No profile available");this.ndk.assertSigner(),await new NDKEvent(this.ndk,{kind:0,content:serializeProfile(this.profile)}).publish()}async follow(s,a,tt=3){if(!this.ndk)throw new Error("No NDK instance found");if(this.ndk.assertSigner(),a||(a=await this.follows(void 0,void 0,tt)),a.has(s))return!1;a.add(s);const nt=new NDKEvent(this.ndk,{kind:tt});for(const ot of a)nt.tag(ot);return await nt.publish(),!0}async unfollow(s,a,tt=3){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner(),a||(a=await this.follows(void 0,void 0,tt));const nt=new Set;let ot=!1;for(const ft of a)ft.pubkey!==s.pubkey?nt.add(ft):ot=!0;if(!ot)return!1;const st=new NDKEvent(this.ndk,{kind:tt});for(const ft of nt)st.tag(ft);return await st.publish()}async validateNip05(s){if(!this.ndk)throw new Error("No NDK instance found");const a=await getNip05For(this.ndk,s);return a===null?null:a.pubkey===this.pubkey}async zap(s,a,tt,nt){return new Promise((ot,st)=>{var gt;if(!this.ndk){st("No NDK instance found");return}let ft=(gt=this.ndk.walletConfig)==null?void 0:gt.onLnPay;ft??(ft=async({pr:mt})=>{ot(mt)}),this.ndk.zap(this,s,{comment:a,tags:tt,signer:nt,onLnPay:ft}).zap().then(ot).catch(st)})}},NDKList=class hn extends NDKEvent{constructor(a,tt){super(a,tt);Nt(this,"_encryptedTags");Nt(this,"encryptedTagsLength");this.kind??(this.kind=30001)}static from(a){return new hn(a.ndk,a)}get title(){const a=this.tagValue("title")||this.tagValue("name");return a||(this.kind===3?"Contacts":this.kind===1e4?"Mute":this.kind===10001?"Pinned Notes":this.kind===10002?"Relay Metadata":this.kind===10003?"Bookmarks":this.kind===10004?"Communities":this.kind===10005?"Public Chats":this.kind===10006?"Blocked Relays":this.kind===10007?"Search Relays":this.kind===10015?"Interests":this.kind===10030?"Emojis":this.tagValue("d"))}set title(a){this.removeTag(["title","name"]),a&&this.tags.push(["title",a])}get name(){return this.title}set name(a){this.title=a}get description(){return this.tagValue("description")}set description(a){this.removeTag("description"),a&&this.tags.push(["description",a])}get image(){return this.tagValue("image")}set image(a){this.removeTag("image"),a&&this.tags.push(["image",a])}isEncryptedTagsCacheValid(){return!!(this._encryptedTags&&this.encryptedTagsLength===this.content.length)}async encryptedTags(a=!0){if(a&&this.isEncryptedTagsCacheValid())return this._encryptedTags;if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");const tt=await this.ndk.signer.user();try{if(this.content.length>0)try{const nt=await this.ndk.signer.decrypt(tt,this.content),ot=JSON.parse(nt);return ot&&ot[0]?(this.encryptedTagsLength=this.content.length,this._encryptedTags=ot):(this.encryptedTagsLength=this.content.length,this._encryptedTags=[])}catch{console.log(`error decrypting ${this.content}`)}}catch{}return[]}validateTag(a){return!0}getItems(a){return this.tags.filter(tt=>tt[0]===a)}get items(){return this.tags.filter(a=>!["d","L","l","title","name","description","published_at","summary","image","thumb","alt","expiration","subject","client"].includes(a[0]))}async addItem(a,tt=void 0,nt=!1,ot="bottom"){if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");let st;if(a instanceof NDKEvent)st=[a.tagReference(tt)];else if(a instanceof NDKUser)st=a.referenceTags();else if(a instanceof NDKRelay)st=a.referenceTags();else if(Array.isArray(a))st=[a];else throw new Error("Invalid object type");if(tt&&st[0].push(tt),nt){const ft=await this.ndk.signer.user(),ht=await this.encryptedTags();ot==="top"?ht.unshift(...st):ht.push(...st),this._encryptedTags=ht,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(ht),await this.encrypt(ft)}else ot==="top"?this.tags.unshift(...st):this.tags.push(...st);this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItemByValue(a,tt=!0){if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");const nt=this.tags.findIndex(ht=>ht[1]===a);nt>=0&&this.tags.splice(nt,1);const ot=await this.ndk.signer.user(),st=await this.encryptedTags(),ft=st.findIndex(ht=>ht[1]===a);if(ft>=0&&(st.splice(ft,1),this._encryptedTags=st,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(st),await this.encrypt(ot)),tt)return this.publishReplaceable();this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItem(a,tt){if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");if(tt){const nt=await this.ndk.signer.user(),ot=await this.encryptedTags();ot.splice(a,1),this._encryptedTags=ot,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(ot),await this.encrypt(nt)}else this.tags.splice(a,1);return this.created_at=Math.floor(Date.now()/1e3),this.emit("change"),this}has(a){return this.items.some(tt=>tt[1]===a)}filterForItems(){const a=new Set,tt=new Map,nt=[];for(const ot of this.items)if(ot[0]==="e"&&ot[1])a.add(ot[1]);else if(ot[0]==="a"&&ot[1]){const[st,ft,ht]=ot[1].split(":");if(!st||!ft)continue;const gt=`${st}:${ft}`,mt=tt.get(gt)||[];mt.push(ht||""),tt.set(gt,mt)}if(a.size>0&&nt.push({ids:Array.from(a)}),tt.size>0)for(const[ot,st]of tt.entries()){const[ft,ht]=ot.split(":");nt.push({kinds:[parseInt(ft)],authors:[ht],"#d":st})}return nt}},lists_default=NDKList,READ_MARKER="read",WRITE_MARKER="write",NDKRelayList=class pn extends NDKEvent{constructor(s,a){super(s,a),this.kind??(this.kind=10002)}static from(s){return new pn(s.ndk,s.rawEvent())}get readRelayUrls(){return this.tags.filter(s=>s[0]==="r"||s[0]==="relay").filter(s=>!s[2]||s[2]&&s[2]===READ_MARKER).map(s=>tryNormalizeRelayUrl(s[1])).filter(s=>!!s)}set readRelayUrls(s){for(const a of s)this.tags.push(["r",a,READ_MARKER])}get writeRelayUrls(){return this.tags.filter(s=>s[0]==="r"||s[0]==="relay").filter(s=>!s[2]||s[2]&&s[2]===WRITE_MARKER).map(s=>tryNormalizeRelayUrl(s[1])).filter(s=>!!s)}set writeRelayUrls(s){for(const a of s)this.tags.push(["r",a,WRITE_MARKER])}get bothRelayUrls(){return this.tags.filter(s=>s[0]==="r"||s[0]==="relay").filter(s=>!s[2]).map(s=>s[1])}set bothRelayUrls(s){for(const a of s)this.tags.push(["r",a])}get relays(){return this.tags.filter(s=>s[0]==="r"||s[0]==="relay").map(s=>s[1])}get relaySet(){if(!this.ndk)throw new Error("NDKRelayList has no NDK instance");return new NDKRelaySet(new Set(this.relays.map(s=>this.ndk.pool.getRelay(s))),this.ndk)}};function relayListFromKind3(e,s){try{const a=JSON.parse(s.content),tt=new NDKRelayList(e),nt=new Set,ot=new Set;for(let[st,ft]of Object.entries(a)){try{st=normalizeRelayUrl(st)}catch{continue}if(!ft)nt.add(st),ot.add(st);else{const ht=ft;ht.write&&ot.add(st),ht.read&&nt.add(st)}}return tt.readRelayUrls=Array.from(nt),tt.writeRelayUrls=Array.from(ot),tt}catch{}}var sn,NDKNutzap=(sn=class extends NDKEvent{constructor(a,tt){super(a,tt);Nt(this,"debug");Nt(this,"_proofs",[]);Nt(this,"sender",this.author);this.kind??(this.kind=9321),this.debug=(a==null?void 0:a.debug.extend("nutzap"))??debug7("ndk:nutzap"),this.alt||(this.alt="This is a nutzap")}static from(a){const tt=new this(a.ndk,a);try{const nt=tt.getMatchingTags("proof");nt.length?tt._proofs=nt.map(ot=>JSON.parse(ot[1])):tt._proofs=JSON.parse(tt.content)}catch{return}if(!(!tt._proofs||!tt._proofs.length))return tt}set comment(a){this.content=a??""}get comment(){const a=this.tagValue("comment");return a||this.content}set proofs(a){this._proofs=a,this.tags=this.tags.filter(tt=>tt[0]!=="proof");for(const tt of a)this.tags.push(["proof",JSON.stringify(tt)]);this.removeTag("amount"),this.tags.push(["amount",this.amount.toString()])}get proofs(){return this._proofs}get p2pk(){var tt;const a=this.proofs[0];try{const nt=JSON.parse(a.secret);let ot={};if(typeof nt=="string"?(ot=JSON.parse(nt),this.debug("stringified payload",a.secret)):typeof nt=="object"&&(ot=nt),ot[0]==="P2PK"&&((tt=ot[1])==null?void 0:tt.data)){const ht=ot[1].data.slice(2,-1);if(ht)return ht}}catch(nt){this.debug("error parsing p2pk pubkey",nt,this.proofs[0])}}get mint(){return this.tagValue("u")}set mint(a){this.removeTag("u"),this.tag(["u",a])}get unit(){return this.tagValue("unit")??"msat"}set unit(a){this.removeTag("unit"),a&&this.tag(["unit",a])}get amount(){return this.proofs.reduce((tt,nt)=>tt+nt.amount,0)*1e3}set target(a){this.tags=this.tags.filter(tt=>tt[0]!=="p"),a instanceof NDKEvent&&this.tags.push()}set recipientPubkey(a){this.removeTag("p"),this.tag(["p",a])}get recipientPubkey(){return this.tagValue("p")}get recipient(){const a=this.recipientPubkey;return this.ndk?this.ndk.getUser({pubkey:a}):new NDKUser({pubkey:a})}get isValid(){let a=0,tt=0;for(const nt of this.tags)nt[0]==="p"&&a++,nt[0]==="u"&&tt++;return a===1&&tt===1&&this.proofs.length>0}},Nt(sn,"kind",9321),Nt(sn,"kinds",[sn.kind]),sn);async function payInvoice(e){return await this.sendReq("pay_invoice",{invoice:e})}var NDKPrivateKeySigner=class gn{constructor(s){Nt(this,"_user");Nt(this,"_privateKey");if(s){if(typeof s=="string")if(s.startsWith("nsec1")){const{type:a,data:tt}=nip19_exports.decode(s);a==="nsec"&&(this._privateKey=tt)}else if(s.length===64)this._privateKey=hexToBytes$4(s);else throw new Error("Invalid private key provided.");else this._privateKey=s;this._privateKey&&(this._user=new NDKUser({pubkey:getPublicKey(this._privateKey)}))}}get privateKey(){if(this._privateKey)return bytesToHex$3(this._privateKey)}static generate(){const s=generateSecretKey();return new gn(s)}async blockUntilReady(){if(!this._user)throw new Error("NDKUser not initialized");return this._user}async user(){return await this.blockUntilReady(),this._user}async sign(s){if(!this._privateKey)throw Error("Attempted to sign without a private key");return finalizeEvent(s,this._privateKey).sig}async encrypt(s,a){if(!this._privateKey)throw Error("Attempted to encrypt without a private key");const tt=s.pubkey;return await nip04_exports.encrypt(this._privateKey,tt,a)}async decrypt(s,a){if(!this._privateKey)throw Error("Attempted to decrypt without a private key");const tt=s.pubkey;return await nip04_exports.decrypt(this._privateKey,tt,a)}};async function sendReq(e,s){const a=new NDKEvent(this.ndk,{kind:23194,tags:[["p",this.walletService.pubkey]],content:JSON.stringify({method:e,params:s})});return this.debug("Sending request",a.content),await a.encrypt(this.walletService,this.signer),await a.sign(this.signer),this.debug("Request encrypted and signed"),new Promise(async(tt,nt)=>{try{const ot=a.tagId();if(!ot)throw new Error("Failed to get e-tag");const st=ht=>{this.off(ot,st),this.off("event",st),this.debug("Received response",ht);try{const gt=JSON.parse(ht);gt.error&&nt(gt),tt(gt)}catch(gt){this.debug("Failed to parse response",gt),nt({result_type:"error",error:{code:"failed_to_parse_response",message:gt.message}})}},ft=this.ndk.subscribe({kinds:[23195],"#e":[ot],limit:1},{groupable:!1,subId:`nwc-${e}`},this.relaySet);ft.on("event",async ht=>{await ht.decrypt(ht.author,this.signer),st(ht.content),ft.stop()}),this.once(ot,st),this.once("event",st),this.debug("Sending request to relay",a.rawEvent()),await a.publish(this.relaySet)}catch(ot){this.debug("Failed to send request",ot,ot.relayErrors),nt({result_type:"error",error:{code:"failed_to_send_request",message:ot.message}})}})}async function getBalance(){return await this.sendReq("get_balance",{})}async function getInfo(){return await this.sendReq("get_info",{})}var NDKNwc=class mn extends lib$1.EventEmitter{constructor({ndk:a,pubkey:tt,relayUrls:nt,secret:ot}){super();Nt(this,"ndk");Nt(this,"debug");Nt(this,"walletService");Nt(this,"relaySet");Nt(this,"signer");Nt(this,"active",!1);Nt(this,"getBalance",getBalance.bind(this));this.ndk=a,this.walletService=a.getUser({pubkey:tt}),this.relaySet=new NDKRelaySet(new Set(nt.map(st=>a.pool.getRelay(st))),a),this.signer=new NDKPrivateKeySigner(ot instanceof Uint8Array?ot:hexToBytes$4(ot)),this.debug=a.debug.extend("nwc"),this.debug(`Starting with wallet service ${this.walletService.npub}`)}static async fromURI(a,tt){const nt=new URL(tt);if(nt.protocol!=="nostr+walletconnect:")throw new Error("Invalid protocol");return new mn({ndk:a,pubkey:nt.host??nt.pathname,relayUrls:nt.searchParams.getAll("relay")??[""],secret:nt.searchParams.get("secret")??""})}async blockUntilReady(a){const tt=await this.signer.user(),nt=new Promise((ft,ht)=>{setTimeout(()=>{ht(new Error("Timeout"))},a)}),st=[new Promise(ft=>{const ht=this.ndk.subscribe({kinds:[23195],"#p":[tt.pubkey],limit:1},{groupable:!1,subId:"nwc"},this.relaySet);ht.on("event",async gt=>{this.debug("received response",gt.rawEvent());const mt=gt.tagValue("e");if(!mt){this.debug("Received an event without an e-tag");return}this.debug("received an event",mt);try{await gt.decrypt(gt.author,this.signer),this.emit(mt,gt.content)}catch(yt){this.debug("Failed to decrypt event",yt);return}}),ht.on("eose",()=>{this.debug("Subscription ready"),this.active=!0,ft()}),ht.on("close",()=>{this.debug("Subscription closed"),this.active=!1})})];return a&&st.push(nt),await Promise.race(st)}async sendReq(a,tt){return await sendReq.call(this,a,tt)}async payInvoice(a){return await payInvoice.call(this,a)}async getInfo(){return await getInfo.call(this)}};function dedup(e,s){return e.created_at>s.created_at?e:s}async function getRelayListForUser(e,s){return(await getRelayListForUsers([e],s)).get(e)}async function getRelayListForUsers(e,s,a=!1){var mt;const tt=s.outboxPool||s.pool,nt=new Set;for(const yt of tt.relays.values())nt.add(yt);const ot=new Map,st=new Map,ft=new NDKRelaySet(nt,s);if((mt=s.cacheAdapter)!=null&&mt.locking&&!a){const yt=await s.fetchEvents({kinds:[3,10002],authors:e},{cacheUsage:"ONLY_CACHE"});for(const wt of yt)wt.kind===10002&&ot.set(wt.pubkey,NDKRelayList.from(wt));for(const wt of yt)if(wt.kind===3){if(ot.has(wt.pubkey))continue;const vt=relayListFromKind3(s,wt);vt&&st.set(wt.pubkey,vt)}e=e.filter(wt=>!ot.has(wt)&&!st.has(wt))}if(e.length===0)return ot;const ht=new Map,gt=new Map;return new Promise(async yt=>{const wt=s.subscribe({kinds:[3,10002],authors:e},{closeOnEose:!0,pool:tt,groupable:!0,cacheUsage:"ONLY_RELAY",subId:"ndk-relay-list-fetch"},ft,!1);wt.on("event",vt=>{if(vt.kind===10002){const xt=ht.get(vt.pubkey);if(xt&&xt.created_at>vt.created_at)return;ht.set(vt.pubkey,vt)}else if(vt.kind===3){const xt=gt.get(vt.pubkey);if(xt&&xt.created_at>vt.created_at)return;gt.set(vt.pubkey,vt)}}),wt.on("eose",()=>{for(const vt of ht.values())ot.set(vt.pubkey,NDKRelayList.from(vt));for(const vt of e){if(ot.has(vt))continue;const xt=gt.get(vt);if(!xt)continue;const Et=relayListFromKind3(s,xt);Et&&ot.set(vt,Et)}yt(ot)}),wt.start()})}var OutboxItem=class{constructor(e){Nt(this,"type");Nt(this,"relayUrlScores");Nt(this,"readRelays");Nt(this,"writeRelays");this.type=e,this.relayUrlScores=new Map,this.readRelays=new Set,this.writeRelays=new Set}},OutboxTracker=class extends lib$1.EventEmitter{constructor(s){super();Nt(this,"data");Nt(this,"ndk");Nt(this,"debug");this.ndk=s,this.debug=s.debug.extend("outbox-tracker"),this.data=new dist.LRUCache({maxSize:1e5,entryExpirationTimeInMS:2*60*1e3})}async trackUsers(s,a=!1){const tt=[];for(let nt=0;nt<s.length;nt+=400){const st=s.slice(nt,nt+400).map(ft=>getKeyFromItem(ft)).filter(ft=>!this.data.has(ft));if(st.length!==0){for(const ft of st)this.data.set(ft,new OutboxItem("user"));tt.push(new Promise(ft=>{getRelayListForUsers(st,this.ndk,a).then(ht=>{for(const[gt,mt]of ht){let yt=this.data.get(gt);if(yt??(yt=new OutboxItem("user")),mt){yt.readRelays=new Set(normalize(mt.readRelayUrls)),yt.writeRelays=new Set(normalize(mt.writeRelayUrls));for(const wt of yt.readRelays)this.ndk.pool.blacklistRelayUrls.has(wt)&&yt.readRelays.delete(wt);for(const wt of yt.writeRelays)this.ndk.pool.blacklistRelayUrls.has(wt)&&yt.writeRelays.delete(wt);this.data.set(gt,yt)}}}).finally(ft)}))}}return Promise.all(tt)}track(s,a,tt=!0){const nt=getKeyFromItem(s);a??(a=getTypeFromItem(s));let ot=this.data.get(nt);return ot||(ot=new OutboxItem(a),s instanceof NDKUser&&this.trackUsers([s])),ot}};function getKeyFromItem(e){return e instanceof NDKUser?e.pubkey:e}function getTypeFromItem(e){return e instanceof NDKUser?"user":"kind"}var NDKPool=class extends lib$1.EventEmitter{constructor(s=[],a=[],tt,nt){super();Nt(this,"relays",new Map);Nt(this,"autoConnectRelays",new Set);Nt(this,"blacklistRelayUrls");Nt(this,"debug");Nt(this,"temporaryRelayTimers",new Map);Nt(this,"flappingRelays",new Set);Nt(this,"backoffTimes",new Map);Nt(this,"ndk");this.debug=nt??tt.debug.extend("pool"),this.ndk=tt;for(const ot of s){const st=new NDKRelay(ot,void 0,this.ndk);this.addRelay(st,!1)}this.blacklistRelayUrls=new Set(a)}set name(s){this.debug=this.debug.extend(s)}useTemporaryRelay(s,a=3e4,tt){const nt=this.relays.has(s.url);nt||(this.addRelay(s),this.debug("Adding temporary relay %s for filters %o",s.url,tt));const ot=this.temporaryRelayTimers.get(s.url);if(ot&&clearTimeout(ot),!nt||ot){const st=setTimeout(()=>{var ft;(ft=this.ndk.explicitRelayUrls)!=null&&ft.includes(s.url)||this.removeRelay(s.url)},a);this.temporaryRelayTimers.set(s.url,st)}}addRelay(s,a=!0){var Et,kt;const tt=this.relays.has(s.url),nt=(Et=this.blacklistRelayUrls)==null?void 0:Et.has(s.url),ot=s.url.includes("/npub1");let st=!0;const ft=s.url;if(tt)return;if(nt){this.debug(`Refusing to add relay ${ft}: blacklisted`);return}if(ot){this.debug(`Refusing to add relay ${ft}: is a filter relay`);return}if((kt=this.ndk.cacheAdapter)!=null&&kt.getRelayStatus){const bt=this.ndk.cacheAdapter.getRelayStatus(ft);if(bt&&bt.dontConnectBefore)if(bt.dontConnectBefore>Date.now()){const $t=bt.dontConnectBefore-Date.now();this.debug(`Refusing to add relay ${ft}: delayed connect for ${$t}ms`),setTimeout(()=>{this.addRelay(s,a)},$t);return}else st=!1}const ht=bt=>this.emit("notice",s,bt),gt=()=>this.handleRelayConnect(ft),mt=()=>this.handleRelayReady(s),yt=()=>this.emit("relay:disconnect",s),wt=()=>this.handleFlapping(s),vt=bt=>this.emit("relay:auth",s,bt),xt=()=>this.emit("relay:authed",s);s.off("notice",ht),s.off("connect",gt),s.off("ready",mt),s.off("disconnect",yt),s.off("flapping",wt),s.off("auth",vt),s.off("authed",xt),s.on("notice",ht),s.on("connect",gt),s.on("ready",mt),s.on("disconnect",yt),s.on("flapping",wt),s.on("auth",vt),s.on("authed",xt),s.on("delayed-connect",bt=>{var $t;($t=this.ndk.cacheAdapter)!=null&&$t.updateRelayStatus&&this.ndk.cacheAdapter.updateRelayStatus(s.url,{dontConnectBefore:Date.now()+bt})}),this.relays.set(ft,s),a&&this.autoConnectRelays.add(ft),a&&(this.emit("relay:connecting",s),s.connect(void 0,st).catch(bt=>{this.debug(`Failed to connect to relay ${ft}`,bt)}))}removeRelay(s){const a=this.relays.get(s);if(a)return a.disconnect(),this.relays.delete(s),this.autoConnectRelays.delete(s),this.emit("relay:disconnect",a),!0;const tt=this.temporaryRelayTimers.get(s);return tt&&(clearTimeout(tt),this.temporaryRelayTimers.delete(s)),!1}isRelayConnected(s){const a=normalizeRelayUrl(s),tt=this.relays.get(a);return tt?tt.status===5:!1}getRelay(s,a=!0,tt=!1,nt){let ot=this.relays.get(normalizeRelayUrl(s));return ot||(ot=new NDKRelay(s,void 0,this.ndk),tt?this.useTemporaryRelay(ot,3e4,nt):this.addRelay(ot,a)),ot}handleRelayConnect(s){this.emit("relay:connect",this.relays.get(s)),this.stats().connected===this.relays.size&&this.emit("connect")}handleRelayReady(s){this.emit("relay:ready",s)}async connect(s){var nt;const a=[];this.debug(`Connecting to ${this.relays.size} relays${s?`, timeout ${s}...`:""}`);const tt=new Set(this.autoConnectRelays.keys());(nt=this.ndk.explicitRelayUrls)==null||nt.forEach(ot=>{const st=normalizeRelayUrl(ot);tt.add(st)});for(const ot of tt){const st=this.relays.get(ot);if(!st)continue;const ft=new Promise((ht,gt)=>(this.emit("relay:connecting",st),st.connect(s).then(ht).catch(gt)));if(s){const ht=new Promise((gt,mt)=>{setTimeout(()=>mt(`Timed out after ${s}ms`),s)});a.push(Promise.race([ft,ht]).catch(gt=>{this.debug(`Failed to connect to relay ${st.url}: ${gt??"No reason specified"}`)}))}else a.push(ft)}s&&setTimeout(()=>{const ot=this.stats().connected===this.relays.size,st=this.stats().connected>0;!ot&&st&&this.emit("connect")},s),await Promise.all(a)}checkOnFlappingRelays(){const s=this.flappingRelays.size,a=this.relays.size;if(s/a>=.8)for(const tt of this.flappingRelays)this.backoffTimes.set(tt,0)}handleFlapping(s){this.debug(`Relay ${s.url} is flapping`);let a=this.backoffTimes.get(s.url)||5e3;a=a*2,this.backoffTimes.set(s.url,a),this.debug(`Backoff time for ${s.url} is ${a}ms`),setTimeout(()=>{this.debug(`Attempting to reconnect to ${s.url}`),this.emit("relay:connecting",s),s.connect(),this.checkOnFlappingRelays()},a),s.disconnect(),this.emit("flapping",s)}size(){return this.relays.size}stats(){const s={total:0,connected:0,disconnected:0,connecting:0};for(const a of this.relays.values())s.total++,a.status===5?s.connected++:a.status===1?s.disconnected++:a.status===4&&s.connecting++;return s}connectedRelays(){return Array.from(this.relays.values()).filter(s=>s.status===5)}permanentAndConnectedRelays(){return Array.from(this.relays.values()).filter(s=>s.status>=5&&!this.temporaryRelayTimers.has(s.url))}urls(){return Array.from(this.relays.keys())}};function correctRelaySet(e,s){const a=s.connectedRelays();if(!Array.from(e.relays).some(nt=>a.map(ot=>ot.url).includes(nt.url)))for(const nt of a)e.addRelay(nt);if(a.length===0)for(const nt of s.relays.values())e.addRelay(nt);return e}function isValidHint(e){if(!e||e==="")return!1;try{return new URL(e),!0}catch{return!1}}async function fetchEventFromTag(e,s,a,tt={type:"timeout"}){const nt=this.debug.extend("fetch-event-from-tag"),[ot,st,ft]=e;a={},nt("fetching event from tag",e,a,tt);const ht=getRelaysForSync(this,s.pubkey);if(ht&&ht.size>0){nt("fetching event from author relays %o",Array.from(ht));const Et=NDKRelaySet.fromRelayUrls(Array.from(ht),this),kt=await this.fetchEvent(st,a,Et);if(kt)return kt}else nt("no author relays found for %s",s.pubkey,s);const gt=calculateRelaySetsFromFilters(this,[{ids:[st]}],this.pool);nt("fetching event without relay hint",gt);const mt=await this.fetchEvent(st,a);if(mt)return mt;if(ft&&ft!==""){const Et=await this.fetchEvent(st,a,this.pool.getRelay(ft,!0,!0,[{ids:[st]}]));if(Et)return Et}let yt;const wt=isValidHint(ft)?this.pool.getRelay(ft,!1,!0,[{ids:[st]}]):void 0,vt=new Promise(Et=>{this.fetchEvent(st,a,wt).then(Et)});if(!isValidHint(ft)||tt.type==="none")return vt;const xt=new Promise(async Et=>{const kt=tt.relaySet,bt=tt.timeout??1500,$t=new Promise(_t=>setTimeout(_t,bt));if(tt.type==="timeout"&&await $t,yt)Et(yt);else{nt("fallback fetch triggered");const _t=await this.fetchEvent(st,a,kt);Et(_t)}});switch(tt.type){case"timeout":return Promise.race([vt,xt]);case"eose":return yt=await vt,yt||xt}}var SPEC_PATH="/.well-known/nostr/nip96.json",Nip96=class{constructor(e,s){Nt(this,"ndk");Nt(this,"spec");Nt(this,"url");Nt(this,"nip98Required",!1);this.url=`https://${e}${SPEC_PATH}`,this.ndk=s}async prepareUpload(e,s="POST"){if(this.validateHttpFetch(),this.spec||await this.fetchSpec(),!this.spec)throw new Error("Failed to fetch NIP96 spec");let a={};return this.nip98Required&&(a={Authorization:await this.generateNip98Header(this.spec.api_url,s,e)}),{url:this.spec.api_url,headers:a}}async xhrUpload(e,s){const a="POST",{url:tt,headers:nt}=await this.prepareUpload(s,a);e.open(a,tt,!0),nt.Authorization&&e.setRequestHeader("Authorization",nt.Authorization);const ot=new FormData;return ot.append("file",s),new Promise((st,ft)=>{e.onload=function(){e.status>=200&&e.status<300?st(JSON.parse(e.responseText)):ft(new Error(e.statusText))},e.onerror=function(){ft(new Error("Network Error"))},e.send(ot)})}async upload(e){const s="POST",{url:a,headers:tt}=await this.prepareUpload(e,s),nt=new FormData;nt.append("file",e);const ot=await this.ndk.httpFetch(this.spec.api_url,{method:s,headers:tt,body:nt});if(ot.status!==200)throw new Error(`Failed to upload file to ${a}`);const st=await ot.json();if(st.status!=="success")throw new Error(st.message);return st}validateHttpFetch(){if(!this.ndk)throw new Error("NDK is required to fetch NIP96 spec");if(!this.ndk.httpFetch)throw new Error("NDK must have an httpFetch method to fetch NIP96 spec")}async fetchSpec(){this.validateHttpFetch();const e=await this.ndk.httpFetch(this.url);if(e.status!==200)throw new Error(`Failed to fetch NIP96 spec from ${this.url}`);const s=await e.json();if(!s)throw new Error(`Failed to parse NIP96 spec from ${this.url}`);this.spec=s,this.nip98Required=this.spec.plans.free.is_nip98_required}async generateNip98Header(e,s,a){const tt=new NDKEvent(this.ndk,{kind:27235,tags:[["u",e],["method",s]]});if(["POST","PUT","PATCH"].includes(s)){const ot=await this.calculateSha256(a);tt.tags.push(["payload",ot])}return await tt.sign(),`Nostr ${btoa(JSON.stringify(tt.rawEvent()))}`}async calculateSha256(e){const s=await e.arrayBuffer(),a=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(a)).map(ot=>ot.toString(16).padStart(2,"0")).join("")}},Queue=class{constructor(e,s){Nt(this,"queue",[]);Nt(this,"maxConcurrency");Nt(this,"processing",new Set);Nt(this,"promises",new Map);this.maxConcurrency=s}add(e){if(this.promises.has(e.id))return this.promises.get(e.id);const s=new Promise((a,tt)=>{this.queue.push({...e,func:()=>e.func().then(nt=>(a(nt),nt),nt=>{throw tt(nt),nt})}),this.process()});return this.promises.set(e.id,s),s.finally(()=>{this.promises.delete(e.id),this.processing.delete(e.id),this.process()}),s}process(){if(this.processing.size>=this.maxConcurrency||this.queue.length===0)return;const e=this.queue.shift();!e||this.processing.has(e.id)||(this.processing.add(e.id),e.func())}clear(){this.queue=[]}clearProcessing(){this.processing.clear()}clearAll(){this.clear(),this.clearProcessing()}length(){return this.queue.length}},NDKSubscriptionManager=class{constructor(e){Nt(this,"subscriptions");Nt(this,"seenEvents",new Map);Nt(this,"debug");this.subscriptions=new Map,this.debug=e.extend("sub-manager")}add(e){this.subscriptions.set(e.internalId,e),e.on("close",()=>{this.subscriptions.delete(e.internalId)})}seenEvent(e,s){const a=this.seenEvents.get(e)||[];a.push(s),this.seenEvents.set(e,a)}},debug6=debug7("ndk:active-user");async function getUserRelayList(e){if(!this.autoConnectUserRelays)return;const s=await getRelayListForUser(e.pubkey,this);if(s){for(const a of s.relays){let tt=this.pool.relays.get(a);tt||(tt=new NDKRelay(a,this.relayAuthDefaultPolicy,this),this.pool.addRelay(tt))}return s}}async function setActiveUser(e){const s=this.outboxPool||this.pool;s.connectedRelays.length>0?setActiveUserConnected.call(this,e):s.once("connect",()=>{setActiveUserConnected.call(this,e)})}async function setActiveUserConnected(e){const s=await getUserRelayList.call(this,e),a=[{kinds:[10006],authors:[e.pubkey]}];this.autoFetchUserMutelist&&a[0].kinds.push(1e4);const tt=s?s.relaySet:void 0,nt=this.subscribe(a,{subId:"active-user-settings",closeOnEose:!0},tt,!1),ot=new Map;nt.on("event",st=>{const ft=ot.get(st.kind);ft&&ft.created_at>=st.created_at||ot.set(st.kind,st)}),nt.on("eose",()=>{for(const st of ot.values())processEvent.call(this,st)}),nt.start()}async function processEvent(e){e.kind===10006?processBlockRelayList.call(this,e):e.kind===1e4&&processMuteList.call(this,e)}function processBlockRelayList(e){const s=lists_default.from(e);for(const a of s.items)this.pool.blacklistRelayUrls.add(a[0]);debug6("Added %d relays to relay blacklist",s.items.length)}function processMuteList(e){const s=lists_default.from(e);for(const a of s.items)this.mutedIds.set(a[1],a[0]);debug6("Added %d users to mute list",s.items.length)}async function generateZapRequest(e,s,a,tt,nt,ot,st,ft,ht){const gt=a.callback,mt=nip57_exports.makeZapRequest({profile:tt,event:null,amount:nt,comment:st||"",relays:ot.slice(0,4)});if(e instanceof NDKEvent){const vt=e.referenceTags().filter(xt=>xt[0]!=="p");mt.tags.push(...vt)}mt.tags.push(["lnurl",gt]);const yt=new NDKEvent(s,mt);return ft&&(yt.tags=yt.tags.concat(ft)),yt.tags=yt.tags.filter(wt=>wt[0]!=="p"),yt.tags.push(["p",tt]),await yt.sign(ht),yt}var d3=debug7("ndk:zapper"),NDKZapper=class extends lib$1.EventEmitter{constructor(s,a,tt="msat",nt,ot,st,ft){super();Nt(this,"target");Nt(this,"ndk");Nt(this,"comment");Nt(this,"amount");Nt(this,"unit");Nt(this,"tags");Nt(this,"signer");Nt(this,"zapMethod");Nt(this,"onLnPay");Nt(this,"onCashuPay");Nt(this,"onComplete");Nt(this,"maxRelays",3);if(this.target=s,this.ndk=ot||s.ndk,!this.ndk)throw new Error("No NDK instance provided");this.amount=a,this.comment=nt,this.unit=tt,this.tags=st,this.signer=ft}async zap(){const s=this.getZapSplits(),a=new Map;return await Promise.all(s.map(async tt=>{let nt;try{nt=await this.zapSplit(tt)}catch(ot){nt=ot}this.emit("split:complete",tt,nt),a.set(tt,nt)})),this.emit("complete",a),this.onComplete&&this.onComplete(a),a}async zapSplit(s){let a=await this.getZapMethods(this.ndk,s.pubkey),tt;if(a.length===0)throw new Error("No zap method available for recipient");a=a.sort((ot,st)=>ot.type==="nip61"?-1:st.type==="nip61"?1:0);const nt=await this.relays(s.pubkey);for(const ot of a){d3("Zapping to %s with %d %s using %s",s.pubkey,s.amount,this.unit,ot.type);try{switch(ot.type){case"nip61":{const st=ot.data;let ft;if(ft=await this.onCashuPay({target:this.target,comment:this.comment,tags:this.tags,recipientPubkey:s.pubkey,amount:s.amount,unit:this.unit,...st}),d3("NIP-61 Zap result: %o",ft),ft instanceof Error)tt=ft;else if(ft){const{proofs:ht,mint:gt}=ft;if(!ht||!gt)throw new Error("Invalid zap confirmation: missing proofs or mint: "+ft);const mt=NDKRelaySet.fromRelayUrls(nt,this.ndk),yt=new NDKNutzap(this.ndk);return yt.tags=[...yt.tags,...this.tags||[]],yt.proofs=ht,yt.mint=gt,yt.comment=this.comment,yt.unit=this.unit,yt.recipientPubkey=s.pubkey,await yt.sign(this.signer),await yt.publish(mt),yt}break}case"nip57":{const st=ot.data,ft=await generateZapRequest(this.target,this.ndk,st,s.pubkey,s.amount,nt,this.comment,this.tags,this.signer);if(!ft)throw d3("Unable to generate zap request"),new Error("Unable to generate zap request");const ht=await this.getLnInvoice(ft,s.amount,st);if(!ht)throw d3("Unable to get payment request"),new Error("Unable to get payment request");tt=await this.onLnPay({target:this.target,comment:this.comment,recipientPubkey:s.pubkey,amount:s.amount,unit:this.unit,pr:ht});break}}}catch(st){st instanceof Error?tt=st:tt=new Error(st),d3("Error zapping to %s with %d %s using %s: %o",s.pubkey,s.amount,this.unit,ot.type,st)}}if(tt instanceof Error)throw tt;return tt}async getLnInvoice(s,a,tt){const nt=tt.callback,ot=JSON.stringify(s.rawEvent());d3(`Fetching invoice from ${nt}?`+new URLSearchParams({amount:a.toString(),nostr:ot}));const st=new URL(nt);st.searchParams.append("amount",a.toString()),st.searchParams.append("nostr",ot),d3(`Fetching invoice from ${st.toString()}`);const ft=await fetch(st.toString());if(d3(`Got response from zap endpoint: ${nt}`,{status:ft.status}),ft.status!==200){d3(`Received non-200 status from zap endpoint: ${nt}`,{status:ft.status,amount:a,nostr:ot});const gt=await ft.text();throw new Error(`Unable to fetch zap endpoint ${nt}: ${gt}`)}return(await ft.json()).pr}getZapSplits(){if(this.target instanceof NDKUser)return[{pubkey:this.target.pubkey,amount:this.amount}];const s=this.target.getMatchingTags("zap");if(s.length===0)return[{pubkey:this.target.pubkey,amount:this.amount}];const a=[],tt=s.reduce((nt,ot)=>nt+parseInt(ot[2]),0);for(const nt of s){const ot=nt[1],st=Math.floor(parseInt(nt[2])/tt*this.amount);a.push({pubkey:ot,amount:st})}return a}async getZapMethods(s,a){const tt=[];this.onCashuPay&&tt.push("nip61"),tt.push("nip57");const nt=s.getUser({pubkey:a}),ot=await nt.getZapInfo(!1,tt);return d3("Zap info for %s: %o",nt.npub,ot),ot}async relays(s){var tt,nt,ot;let a=[];if((tt=this.ndk)!=null&&tt.activeUser){const st=await getRelayListForUsers([this.ndk.activeUser.pubkey,s],this.ndk),ft=new Map;for(const ht of st.values())for(const gt of ht.readRelayUrls){const mt=ft.get(gt)||0;ft.set(gt,mt+1)}a=Array.from(ft.entries()).sort((ht,gt)=>gt[1]-ht[1]).map(([ht])=>ht).slice(0,this.maxRelays)}return(ot=(nt=this.ndk)==null?void 0:nt.pool)!=null&&ot.permanentAndConnectedRelays().length&&(a=this.ndk.pool.permanentAndConnectedRelays().map(st=>st.url)),a.length||(a=[]),a}},DEFAULT_OUTBOX_RELAYS=["wss://purplepag.es/","wss://nos.lol/"],DEFAULT_BLACKLISTED_RELAYS=["wss://brb.io/","wss://nostr.mutinywallet.com/"],NDK=class extends lib$1.EventEmitter{constructor(s={}){super();Nt(this,"explicitRelayUrls");Nt(this,"pool");Nt(this,"outboxPool");Nt(this,"_signer");Nt(this,"_activeUser");Nt(this,"cacheAdapter");Nt(this,"debug");Nt(this,"devWriteRelaySet");Nt(this,"outboxTracker");Nt(this,"mutedIds");Nt(this,"clientName");Nt(this,"clientNip89");Nt(this,"queuesZapConfig");Nt(this,"queuesNip05");Nt(this,"asyncSigVerification",!1);Nt(this,"initialValidationRatio",1);Nt(this,"lowestValidationRatio",1);Nt(this,"validationRatioFn");Nt(this,"subManager");Nt(this,"publishingFailureHandled",!1);Nt(this,"relayAuthDefaultPolicy");Nt(this,"httpFetch");Nt(this,"autoConnectUserRelays",!0);Nt(this,"autoFetchUserMutelist",!0);Nt(this,"walletConfig");Nt(this,"fetchEventFromTag",fetchEventFromTag.bind(this));this.debug=s.debug||debug7("ndk"),this.explicitRelayUrls=s.explicitRelayUrls||[],this.subManager=new NDKSubscriptionManager(this.debug),this.pool=new NDKPool(s.explicitRelayUrls||[],s.blacklistRelayUrls||DEFAULT_BLACKLISTED_RELAYS,this),this.pool.name="main",this.pool.on("relay:auth",async(a,tt)=>{this.relayAuthDefaultPolicy&&await this.relayAuthDefaultPolicy(a,tt)}),this.autoConnectUserRelays=s.autoConnectUserRelays??!0,this.autoFetchUserMutelist=s.autoFetchUserMutelist??!0,this.clientName=s.clientName,this.clientNip89=s.clientNip89,this.relayAuthDefaultPolicy=s.relayAuthDefaultPolicy,s.enableOutboxModel&&(this.outboxPool=new NDKPool(s.outboxRelayUrls||DEFAULT_OUTBOX_RELAYS,s.blacklistRelayUrls||DEFAULT_BLACKLISTED_RELAYS,this,this.debug.extend("outbox-pool")),this.outboxPool.name="outbox",this.outboxTracker=new OutboxTracker(this)),this.signer=s.signer,this.cacheAdapter=s.cacheAdapter,this.mutedIds=s.mutedIds||new Map,s.devWriteRelayUrls&&(this.devWriteRelaySet=NDKRelaySet.fromRelayUrls(s.devWriteRelayUrls,this)),this.queuesZapConfig=new Queue("zaps",3),this.queuesNip05=new Queue("nip05",10),this.signatureVerificationWorker=s.signatureVerificationWorker,this.initialValidationRatio=s.initialValidationRatio||1,this.lowestValidationRatio=s.lowestValidationRatio||1;try{this.httpFetch=fetch}catch{}}set signatureVerificationWorker(s){this.asyncSigVerification=!!s,s&&signatureVerificationInit(s)}addExplicitRelay(s,a,tt=!0){let nt;return typeof s=="string"?nt=new NDKRelay(s,a,this):nt=s,this.pool.addRelay(nt,tt),this.explicitRelayUrls.push(nt.url),nt}toJSON(){return{relayCount:this.pool.relays.size}.toString()}get activeUser(){return this._activeUser}set activeUser(s){var tt;const a=((tt=this._activeUser)==null?void 0:tt.pubkey)!==(s==null?void 0:s.pubkey);this._activeUser=s,s&&a?setActiveUser.call(this,s):s||(this.mutedIds=new Map)}get signer(){return this._signer}set signer(s){this._signer=s,s&&this.emit("signer:ready",s),s==null||s.user().then(a=>{a.ndk=this,this.activeUser=a})}async connect(s){var tt,nt;this._signer&&this.autoConnectUserRelays&&(this.debug("Attempting to connect to user relays specified by signer %o",await((nt=(tt=this._signer).relays)==null?void 0:nt.call(tt,this))),this._signer.relays&&(await this._signer.relays(this)).forEach(st=>this.pool.addRelay(st)));const a=[this.pool.connect(s)];return this.outboxPool&&a.push(this.outboxPool.connect(s)),this.debug("Connecting to relays %o",{timeoutMs:s}),Promise.allSettled(a).then(()=>{})}getUser(s){const a=new NDKUser(s);return a.ndk=this,a}async getUserFromNip05(s,a=!1){return NDKUser.fromNip05(s,this,a)}subscribe(s,a,tt,nt=!0){var st;const ot=new NDKSubscription(this,s,a,tt);if(this.subManager.add(ot),tt)for(const ft of tt.relays)this.pool.useTemporaryRelay(ft,void 0,ot.filters);if(this.outboxPool&&ot.hasAuthorsFilter()){const ft=ot.filters.filter(ht=>{var gt;return ht.authors&&((gt=ht.authors)==null?void 0:gt.length)>0}).map(ht=>ht.authors).flat();(st=this.outboxTracker)==null||st.trackUsers(ft)}return nt&&setTimeout(()=>ot.start(),0),ot}async publish(s,a,tt){return this.debug("Deprecated: Use `event.publish()` instead"),s.publish(a,tt)}async fetchEvent(s,a,tt){let nt,ot;if(tt instanceof NDKRelay?ot=new NDKRelaySet(new Set([tt]),this):tt instanceof NDKRelaySet&&(ot=tt),!tt&&typeof s=="string"&&!isNip33AValue(s)){const st=relaysFromBech32(s,this);st.length>0&&(ot=new NDKRelaySet(new Set(st),this),ot=correctRelaySet(ot,this.pool))}if(typeof s=="string"?nt=[filterFromId(s)]:Array.isArray(s)?nt=s:nt=[s],nt.length===0)throw new Error(`Invalid filter: ${JSON.stringify(s)}`);return new Promise(st=>{let ft=null;const ht=this.subscribe(nt,{...a||{},closeOnEose:!0},ot,!1),gt=setTimeout(()=>{ht.stop(),st(ft)},1e4);ht.on("event",mt=>{mt.ndk=this,mt.isReplaceable()?(!ft||ft.created_at<mt.created_at)&&(ft=mt):(clearTimeout(gt),st(mt))}),ht.on("eose",()=>{clearTimeout(gt),st(ft)}),ht.start()})}async fetchEvents(s,a,tt){return new Promise(nt=>{const ot=new Map,st=this.subscribe(s,{...a||{},closeOnEose:!0},tt,!1),ft=ht=>{ht instanceof NDKEvent||(ht=new NDKEvent(void 0,ht));const gt=ht.deduplicationKey(),mt=ot.get(gt);mt&&(ht=dedup(mt,ht)),ht.ndk=this,ot.set(gt,ht)};st.on("event",ft),st.on("eose",()=>{nt(new Set(ot.values()))}),st.start()})}assertSigner(){if(!this.signer)throw this.emit("signer:required"),new Error("Signer required")}getNip96(s){return new Nip96(s,this)}async nwc(s,a=2e3){const tt=await NDKNwc.fromURI(this,s);return a!==!1&&await tt.blockUntilReady(a),tt}zap(s,a,{comment:tt,unit:nt,signer:ot,tags:st,onLnPay:ft,onCashuPay:ht,onComplete:gt}){var yt,wt,vt;ot||this.assertSigner();const mt=new NDKZapper(s,a,nt,tt,this,st,ot);return ft!==!1&&(mt.onLnPay=ft??((yt=this.walletConfig)==null?void 0:yt.onLnPay)),ht!==!1&&(mt.onCashuPay=ht??((wt=this.walletConfig)==null?void 0:wt.onCashuPay)),mt.onComplete=gt??((vt=this.walletConfig)==null?void 0:vt.onPaymentComplete),ft&&mt.zap(),mt}};async function parseText(e){const s=new NDK({explicitRelayUrls:["wss://relay.damus.io","wss://nostr.wine","wss://relay.nostr.net","wss://nos.lol","wss://nostr-pub.wellorder.net","wss://njump.me","wss://relay.primal.net"]});await s.connect();let a=e;const tt=a.matchAll(new RegExp(nip21_exports.NOSTR_URI_REGEX,"g"));for(let ht of tt){const mt=nip21_exports.parse(ht[0]).decoded.data;let yt="";typeof mt=="string"?yt=mt:yt=mt.pubkey;const wt=await s.getUser({pubkey:yt}).fetchProfile(),vt=(wt==null?void 0:wt.displayName)||"";a=a.replace(ht[0],`<a>@${vt}</a>`)}const nt=/(^|\s)(#[a-z\d-]+)/ig;a=a.replace(nt,"$1<a>$2</a>");const ot=/(https:\/\/(?!njump\.me)[\w.-]+(?:\.[\w.-]+)+(?:\/[^\s]*)?)/g,st=a.match(ot),ft=[];if(st){let ht=0;for(const gt of st){const mt=a.indexOf(gt,ht),yt=mt+gt.length;mt>ht&&ft.push({type:"text",value:a.substring(ht,mt)});const wt=new URL(gt);let vt;wt.pathname.endsWith(".jpg")||wt.pathname.endsWith(".jpeg")||wt.pathname.endsWith(".png")?vt="image":wt.pathname.endsWith(".gif")?vt="gif":wt.pathname.endsWith(".mp4")||wt.pathname.endsWith(".mov")||wt.pathname.endsWith(".webm")?vt="video":vt="link",ft.push({type:vt,value:gt}),ht=yt}ht<a.length&&ft.push({type:"text",value:a.substring(ht)})}else ft.push({type:"text",value:a});return ft}function getHTML(e){const s=[];let a=0,tt="";for(const ot of e)if(ot.type==="text")tt+=ot.value;else switch(tt&&(s.push(`<span class="text-content">${tt.replace(/\n/g,"<br />")}</span>`),tt=""),ot.type){case"image":s.push(`<img style="border-radius: 12px" width="100%" src="${proxyImg(ot.value,defaultImgProxy)}" alt="Image">`),a++;break;case"gif":s.push(`<img style="border-radius: 12px" width="100%" src="${proxyImg(ot.value,defaultImgProxy)}" alt="GIF">`),a++;break;case"video":s.push(`<video style="border-radius: 12px" width="100%" src="${ot.value}"></video>`),a++;break;case"link":s.push(`<a href="${ot.value}">${ot.value}</a>`);break}if(tt&&s.push(`<span class="text-content">${tt.replace(/\n/g,"<br />")}</span>`),a>1)for(let ot=0;ot<s.length;ot++){const st=s[ot];(st.startsWith("<img")||st.startsWith("<video"))&&(s.splice(ot,1),ot--)}return`
    <style>
      a {
        color: #ca077c;
      }
    </style>
  `+s.join("")}function getNip19Bech32RegexMatch(e){return e.match(nip19_exports.BECH32_REGEX)}function validateAndGetMatchedNostrEventBech32(e){if(!e)return!1;let s="";if(e.startsWith("http")||e.startsWith("https")){const a=e.split("/");for(let tt=0;tt<a.length;tt++){const nt=a[tt],ot=getNip19Bech32RegexMatch(nt);ot!==null&&(s=ot[0])}}else{const a=getNip19Bech32RegexMatch(e);a!==null&&(s=a[0])}if(s==="")return!1;try{const a=nip19_exports.decode(s);return a.type==="nevent"||a.type==="note"?s:!1}catch{return!1}}async function getPostDetails(e,s){const a=await e.fetchEvent(s),tt=await(a==null?void 0:a.author.fetchProfile()),nt=await getPostStats(e,(a==null?void 0:a.id)||"");return{post:a,author:tt,stats:nt}}async function getPostStats(e,s){const a=await e.fetchEvents({kinds:[NDKKind.Repost],"#e":[s||""]}),tt=Array.from(a).filter(gt=>gt.tags.filter(yt=>yt[0]==="p").length===1).length,nt=await e.fetchEvents({kinds:[NDKKind.Reaction],"#e":[s||""]}),ot=await e.fetchEvents({kinds:[NDKKind.Zap],"#e":[s||""]}),st=Array.from(ot).reduce((gt,mt)=>{const yt=mt.getMatchingTags("bolt11");if(!yt||!Array.isArray(yt)||yt.length===0||!yt[0]||!Array.isArray(yt[0])||yt[0].length===0)return gt;const wt=yt[0][1],xt=bolt11.decode(wt).sections.find(Et=>Et.name==="amount");if(xt){const Et=Number(xt.value);return gt+Et}return gt},0),ft=await e.fetchEvents({kinds:[NDKKind.Text],"#e":[s||""]}),ht=Array.from(ft).filter(gt=>gt.tags.filter(yt=>yt[0]==="e").length===1).length;return{likes:nt.size,reposts:tt,zaps:st/MILLISATS_PER_SAT,replies:ht}}const setNote=e=>{},NoteContext=reactExports.createContext({note:initialNote,setNote});function useNoteContext(){return reactExports.useContext(NoteContext)}const setRelays=e=>{},RelaysContext=reactExports.createContext({relays:DEFAULT_RELAYS,setRelays});function useRelaysContext(){return reactExports.useContext(RelaysContext)}function useNostrEvent(e){const[s,a]=reactExports.useState(!1),[tt,nt]=reactExports.useState(!1),{setNote:ot}=useNoteContext(),{relays:st}=useRelaysContext();return reactExports.useEffect(()=>{async function ft(ht){a(!0);try{console.log({relays:st});const gt=new NDK({explicitRelayUrls:st});await gt.connect();const{post:mt,author:yt,stats:wt}=await getPostDetails(gt,ht),{likes:vt,replies:xt,reposts:Et,zaps:kt}=wt,bt=(mt==null?void 0:mt.content)||"",$t=await parseText(bt),_t=getHTML($t);ot({html:_t,author:yt,createdAt:(mt==null?void 0:mt.created_at)||0,replies:xt,zaps:kt,likes:vt,reposts:Et}),nt(!1)}catch{nt(!0)}finally{a(!1)}}e&&ft(e)},[e]),{isError:tt,isLoading:s}}function useShakeAnimation(e){const[s,a]=reactExports.useState(!1);function tt(){a(!0),setTimeout(()=>{a(!1)},600)}return reactExports.useEffect(()=>{e&&tt()},[e]),{isAnimate:s,addShakeAnimation:tt}}const pressEnterToFindNote="Press Enter to find note";function useSearchInput(){const[e,s]=reactExports.useState(""),[a,tt]=reactExports.useState({type:"info",message:""}),{isError:nt,isLoading:ot}=useNostrEvent(e),{isAnimate:st,addShakeAnimation:ft}=useShakeAnimation(nt);reactExports.useEffect(()=>{tt({type:"info",message:""})},[ot]),reactExports.useEffect(()=>{nt&&tt({type:"error",message:"Something went wrong!"})},[nt]);function ht(xt){const Et=validateAndGetMatchedNostrEventBech32(xt);Et?s(Et):(ft(),tt({type:"error",message:"Invalid note ID or invalid URL!"}))}function gt(xt){xt.preventDefault();const Et=xt.currentTarget[0].value;ht(Et)}function mt(xt){setTimeout(()=>{const Et=xt.target.value;ht(Et)})}function yt(xt){xt.target.value===""?tt({type:"info",message:""}):a.message!==pressEnterToFindNote&&!ot&&tt({type:"info",message:pressEnterToFindNote})}function wt(){a.type!=="error"&&tt({type:"info",message:""})}function vt(xt){a.message===""&&xt.target.value!==""&&!ot&&tt({type:"info",message:pressEnterToFindNote})}return{helperMessage:a,isAnimate:st,isLoading:ot,onSubmit:gt,onPaste:mt,onInputChange:yt,onInputBlur:wt,onInputFocus:vt}}function SearchBar(){const{helperMessage:e,isLoading:s,isAnimate:a,onInputBlur:tt,onInputChange:nt,onInputFocus:ot,onPaste:st,onSubmit:ft}=useSearchInput(),ht=reactExports.useRef(null);return ht.current&&s&&ht.current.blur(),jsxRuntimeExports.jsxs(SearchBarWrapper,{className:a?"shake":"",children:[jsxRuntimeExports.jsxs(SearchBarContainer,{children:[jsxRuntimeExports.jsx(SearchIcon,{}),jsxRuntimeExports.jsxs(SearchBarForm,{onSubmit:ft,children:[jsxRuntimeExports.jsx(SearchInput,{type:"text",placeholder:"Paste nostr event id, primal, damus, iris or snort link here",autoComplete:"off",ref:ht,onChange:nt,onPaste:st,onBlur:tt,onFocus:ot}),s?jsxRuntimeExports.jsx(SearchBarProgressContainer,{children:jsxRuntimeExports.jsx(SearchBarProgress,{})}):null]})]}),e.message&&e.type==="error"?jsxRuntimeExports.jsx(ErrorText,{children:e.message}):jsxRuntimeExports.jsx(HelperText,{children:e.message})]})}const HomePageHeader=dt.header`
    height: 75px;
    padding: 50px 60px 0 60px;

    display: flex;
    justify-content: space-between;
    align-items: center;

    ${tablet(`
        flex-direction: column-reverse;
        height: auto;
        padding: 20px;
    `)}
`,HeaderActions=dt.div`
    display: flex;
    align-items: center;
    gap: 12px;

    ${tablet(`
        width: 100%;
        justify-content: space-between;
    `)}
`,breakpoint$1=getBreakpoint();function Header(){return jsxRuntimeExports.jsxs(HomePageHeader,{children:[breakpoint$1==="large"?jsxRuntimeExports.jsx(Logo,{}):null,jsxRuntimeExports.jsx(SearchBar,{}),jsxRuntimeExports.jsxs(HeaderActions,{children:[breakpoint$1==="small"||breakpoint$1==="medium"?jsxRuntimeExports.jsx(Logo,{}):null,jsxRuntimeExports.jsx(HelpButton,{})]})]})}const GradientPickerStyled=dt.div`
    padding: 20px;

    position: absolute;
    left: 10px;
    top: 0px;

    background-color: #222;
    box-shadow: 0 0 15px #444;
    border: 1px solid #71717187;
    border-radius: 6px;

    transform: rotateX(25deg) translateY(-100%);
    -webkit-transform: rotateX(25deg) translateY(-100%);
    will-change: -webkit-transform, transform, opacity;
    transition-property: -webkit-transform, transform, opacity;
    transition-duration: 150ms;
    -webkit-transition-property: -webkit-transform, transform, opacity;
    -webkit-transition-duration: 150ms;
    opacity: 0;
    pointer-events: none;
    transition-timing-function: cubic-bezier(.4,0,.2,1);
    -webkit-transition-timing-function: cubic-bezier(.4,0,.2,1);

    display: flex;
    gap: 15px;
`,GradientContainer=dt.button`
    border: none;
    cursor: pointer;
    background: transparent;

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;

    width: max-content;
`,Gradient=dt.div`
    width: 40px;
    height: 40px;
    border-radius: 6px;
    background: ${e=>e.$background};
    transition: box-shadow 0.1s;
    -webkit-transition: box-shadow 0.1s;
    position: relative;

     &::before {
        content: '';
        position: absolute;
        top: -5px;
        left: -5px;
        right: -5px;
        bottom: -5px;
        border: 2px solid transparent;
        transition: transform 0.4s ease, border-color 0.4s ease;
        -webkit-transition: transform 0.4s ease, border-color 0.4s ease;
        border-radius: 10px;
    }

    ${e=>e.$isSelected?`
            &::before {
                border-color: #CE66FF; 
                transform: scale(1); 
                -webkit-transform: scale(1); 
            }
        `:""}

    &:hover {
        box-shadow: 0 0 2px 4px #ffffff26;
    }

    &:active {
        transform: scale(0.9);
        -webkit-transform: scale(0.9);
    }
`,GradientName=dt.small`
    color: #FFF;
`;function GradientPicker({gradient:e,onGradientChange:s}){return jsxRuntimeExports.jsx(GradientPickerStyled,{className:"color-picker",children:Object.keys(GRADIENTS).map(a=>jsxRuntimeExports.jsxs(GradientContainer,{onClick:()=>s(a),children:[jsxRuntimeExports.jsx(Gradient,{$background:GRADIENTS[a],$isSelected:e===a}),jsxRuntimeExports.jsx(GradientName,{children:a})]}))})}const ToolbarContainer=dt.ul`
    width: 100px;
    height: max-content;
    border-radius: 8px;
    background-color: #272727;
    padding: 20px 5px 10px 5px;
    margin: none;
    list-style-type: none;

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;

    position: relative;

    ${tablet(`
        flex-direction: row;
        width: 100%;
        padding: 10px;
        margin: 0;
        justify-content: space-between;
        gap: 0px;

        & hr {
            width: 1px;
            height: 40px;
            margin: 0;
        }
    `)}
`,Tool=dt.button`
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    width: 90%;
    padding: 10px;
    border-radius: 5px;
    transition: background-color 0.1s;
    -webkit-transition: background-color 0.1s;
    border: none;
    position: relative;

    background: ${e=>e.$withBackground?"linear-gradient(45deg, #CE66FF, #FE983B)":"transparent"};

    & span {
        color: ${e=>e.$withBackground?"#FFF":"#9F9F9F"};
        font-weight: ${e=>e.$withBackground?"600":"normal"};;
    }

    &:hover {
        background-color: #323131;
    }

    &:hover ${GradientPickerStyled} {
        opacity: 1;
        pointer-events: auto;
        transform: translateY(-100%);
        -webkit-transform: translateY(-100%);
    }

    &:active svg, &:active > div {
        transform: scale(0.8);
        -webkit-transform: scale(0.8);
    }

    & svg {
        ${tablet(`
            width: 20px !important;
            height: 20px !important;
        `)}
    }

    ${tablet(`
        width: auto;
    `)}
`,ToolName=dt.span`
    color: #9F9F9F;
    font-size: 12px;
`,ColorTool=dt.div`
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: ${e=>e.$gradient};
    box-shadow: rgba(255, 255, 255, 0.7) 0px 0px 0px 2px, rgba(0, 0, 0, 0.5) 0px 3px 6px;

    ${tablet(`
        width: 20px;
        height: 20px;
    `)}
`,RelaysToolContainer=dt.div`
    position: relative;
    width: 100%;

    ${tablet(`
        width: auto;
    `)}
`,RelaysContainer=dt.aside`
    position: absolute;
    top: 0px;
    right: 0px;
    padding: 20px;
    box-shadow: 0 0 15px #444;
    color: #FFF;
    cursor: default;
    z-index: 100;

    border: 1px solid transparent;
    border-radius: 6px;
    background: 
        linear-gradient(90deg, #222, #222), 
        linear-gradient(to right, #FE983B , #CE66FF);

    background-clip: padding-box, border-box;
    background-origin: padding-box, border-box;

    min-width: 300px;

    display: flex;
    flex-direction: column;
    gap: 36px;

    will-change:-webkit-transform,  transform, opacity;
    transition-property: -webkit-transform, transform, opacity;
    transition-duration: 150ms;
    transition-timing-function: cubic-bezier(.4,0,.2,1);
    -webkit-transition-property: -webkit-transform, transform, opacity;
    -webkit-transition-duration: 150ms;
    -webkit-transition-timing-function: cubic-bezier(.4,0,.2,1);

    ${tablet(`
        display: none;
        position: fixed;
        left: 0;
        right: 0;
        width: 100vw;
        height: 100vh;
        z-index: 10000;
    `)}
`,RelaysCardHeader=dt.div`
    display: flex;
    justify-content: space-between;
    font-size: 22px
`,CloseButton=dt.button`
    width: 32px;
    height: 32px;
    display: flex;
    justify-content: center;
    align-items: center;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    -webkit-transition: all 0.2s;
    background-color: transparent;

    &:hover {
        background-color: transparent;
        border: 1px solid #FE3B3B;
    }

    &:focus {
        outline: 1px solid #FE3B3B;
    }
`,InputContainer=dt.div`
    display: flex;
    gap: 8px;
`,Input=dt.input`
    background-color: transparent;
    border: 1px solid #383838;
    border-radius: 6px;
    padding: 12px;
    flex: 1;
    color: #FFF;
`,AddButton=dt.button`
    background-color: #383838;
    width: 42px;
    display: flex;
    justify-content: center;
    align-items: center;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    -webkit-transition: all 0.2s;

    &:hover {
        background-color: transparent;
        border: 1px solid #383838;
    }
`,SaveButton=dt.button`
    border: 1px solid transparent;
    border-radius: 6px;
    background: 
        linear-gradient(90deg, #383838, #383838), 
        linear-gradient(to right, #CE66FF , #FE983B);

    background-clip: padding-box, border-box;
    background-origin: padding-box, border-box;

    width: 100%;
    padding: 10px;
    font-size: 18px;
    font-weight: bold;
    color: #FFF;
    cursor: pointer;
`,RelayList=dt.ul`
    list-style-type: none;
    margin-top: 12px;
    padding: 0;

    display: flex;
    flex-direction: column;
    gap: 2px;
`,RelayItem=dt.li`
    display: flex;
    align-items: center;
    gap: 8px;

    color: #9F9F9F;
    font-size: 14px;
`,breakpoint=getBreakpoint();function RelaysModal({isOpen:e,onClose:s}){const{relays:a,setRelays:tt}=useRelaysContext(),[nt,ot]=reactExports.useState(a||[]),st=reactExports.useRef(null),[ft,ht]=reactExports.useState(!1),gt=vt=>{if(vt.preventDefault(),!st||!st.current)return;const xt=st.current.value;ot(Et=>[...Et,xt]),st.current.value=""},mt=vt=>{ot(xt=>xt.filter(Et=>Et!==vt))},yt=()=>{if(nt.length===0){ht(!0);return}tt(nt),s()};let wt={};return breakpoint==="small"||breakpoint==="medium"?wt={display:e?"flex":"none"}:wt={transform:e?"translateX(100%)":"translateX(95%)",opacity:e?1:0,pointerEvents:e?"all":"none"},jsxRuntimeExports.jsxs(RelaysContainer,{className:"relays-modal",style:wt,children:[jsxRuntimeExports.jsxs(RelaysCardHeader,{children:[jsxRuntimeExports.jsx("label",{htmlFor:"relay-address",children:"Relay address"}),jsxRuntimeExports.jsx(CloseButton,{onClick:()=>s(),children:jsxRuntimeExports.jsx(Close,{})})]}),jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx("form",{onSubmit:gt,children:jsxRuntimeExports.jsxs(InputContainer,{children:[jsxRuntimeExports.jsx(Input,{id:"relay-address",type:"text",placeholder:"wss://relay.primal.net",ref:st}),jsxRuntimeExports.jsx(AddButton,{onClick:gt,children:jsxRuntimeExports.jsx(Plus,{})})]})}),jsxRuntimeExports.jsxs(RelayList,{children:[ft?jsxRuntimeExports.jsx(ErrorText,{style:{transform:"unset",textAlign:"start"},children:"Set at least one relay"}):null,nt.map((vt,xt)=>jsxRuntimeExports.jsxs(RelayItem,{children:[jsxRuntimeExports.jsx("span",{children:vt}),jsxRuntimeExports.jsx(Pointer,{onClick:()=>mt(vt),children:jsxRuntimeExports.jsx(Delete,{})})]},vt+xt))]})]}),jsxRuntimeExports.jsx(SaveButton,{onClick:yt,children:"Save"})]})}function Toolbar({onDownload:e,onCopy:s,showResponse:a,onChangeShowResponse:tt,gradient:nt,onGradientChange:ot,isDownloading:st,isCopying:ft}){const[ht,gt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(ToolbarContainer,{children:[jsxRuntimeExports.jsxs(Tool,{children:[jsxRuntimeExports.jsx(GradientPicker,{gradient:nt,onGradientChange:ot}),jsxRuntimeExports.jsx(ColorTool,{$gradient:GRADIENTS[nt]}),jsxRuntimeExports.jsx(ToolName,{children:"Color"})]}),jsxRuntimeExports.jsxs(Tool,{onClick:()=>tt(!a),children:[jsxRuntimeExports.jsx(HeartIcon,{isSelected:a}),jsxRuntimeExports.jsx(ToolName,{children:"Stats"})]}),jsxRuntimeExports.jsxs(RelaysToolContainer,{children:[jsxRuntimeExports.jsxs(Tool,{onClick:()=>gt(mt=>!mt),children:[jsxRuntimeExports.jsx(Relays,{}),jsxRuntimeExports.jsx(ToolName,{children:"Relays"})]}),jsxRuntimeExports.jsx(RelaysModal,{isOpen:ht,onClose:()=>{gt(!1)}})]}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsxs(Tool,{onClick:s,children:[ft?jsxRuntimeExports.jsx("div",{className:"loader"}):jsxRuntimeExports.jsx(CopyIcon,{}),jsxRuntimeExports.jsx(ToolName,{children:"Copy"})]}),jsxRuntimeExports.jsxs(Tool,{$withBackground:!0,onClick:e,children:[st?jsxRuntimeExports.jsx("div",{className:"loader"}):jsxRuntimeExports.jsx(DownloadIcon,{}),jsxRuntimeExports.jsx(ToolName,{children:"Download"})]})]})}const HomePageContainer=dt.main`
    min-height: 100vh;
    width: 100vw;
    background: rgb(24,25,26);
    background: linear-gradient(130deg, rgba(24,25,26,1) 0%, rgba(39,39,40,1) 100%);
    display: flex;
    flex-direction: column;
`,MainSection=dt.article`
    padding: 20px 60px;

    flex: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;

    ${tablet(`
        flex-direction: column-reverse;
        padding: 20px;
    `)}
`;function HomePage(){const e=reactExports.useRef(null),[s,a]=reactExports.useState(!0),[tt,nt]=reactExports.useState(initialGradient),[ot,st]=reactExports.useState(!1),[ft,ht]=reactExports.useState(!1),{note:gt}=useNoteContext();function mt(){st(!0);const wt=e.current;wt&&getDataURLFromHTMLDOM(wt).then(vt=>downloadImage("nostr-note",vt)).finally(()=>{st(!1),B$1.success("Image ready for download!")})}function yt(){const wt=e.current;wt&&(ht(!0),getDataURLFromHTMLDOM(wt).then(copyDataURL).finally(()=>{ht(!1),B$1.success("Image copied!")}))}return jsxRuntimeExports.jsxs(HomePageContainer,{children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs(MainSection,{children:[jsxRuntimeExports.jsx(Toolbar,{onDownload:mt,onCopy:yt,showResponse:s,onChangeShowResponse:wt=>a(wt),gradient:tt,onGradientChange:wt=>nt(wt),isDownloading:ot,isCopying:ft}),jsxRuntimeExports.jsx(Q$1,{position:"bottom-left",autoClose:1e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark",transition:H$1}),jsxRuntimeExports.jsx(Canvas,{ref:e,noteHTML:gt.html,note:gt,showResponse:s,gradient:GRADIENTS[tt]})]})]})}const existingRelays=getRelaysFromLocalStorage();function App(){const[e,s]=reactExports.useState(initialNote),[a,tt]=reactExports.useState(existingRelays&&existingRelays.length>0?existingRelays:DEFAULT_RELAYS);return jsxRuntimeExports.jsx(RelaysContext.Provider,{value:{relays:a,setRelays:nt=>{setRelaysInLocalStorage(nt),tt(nt)}},children:jsxRuntimeExports.jsx(NoteContext.Provider,{value:{note:e,setNote:s},children:jsxRuntimeExports.jsx(HomePage,{})})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
